!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("angular")):"function"==typeof define&&define.amd?define(["angular"],t):e.mobiscroll=t(e.angular)}(this,function(e){"use strict";function t(e){return"function"==typeof e}function s(e){return"object"===("undefined"==typeof e?"undefined":ae(e))}function n(e){return"number"==typeof e.length}function a(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})}function i(e,t,s){for(var n in t)s&&(pe.isPlainObject(t[n])||pe.isArray(t[n]))?((pe.isPlainObject(t[n])&&!pe.isPlainObject(e[n])||pe.isArray(t[n])&&!pe.isArray(e[n]))&&(e[n]={}),i(e[n],t[n],s)):void 0!==t[n]&&(e[n]=t[n])}function r(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function o(e,t){return"number"!=typeof t||de[r(e)]?t:t+"px"}function l(){De++,setTimeout(function(){De--},500)}function c(e,t,s){var n=e.originalEvent||e,a=(s?"page":"client")+t;return n.targetTouches&&n.targetTouches[0]?n.targetTouches[0][a]:n.changedTouches&&n.changedTouches[0]?n.changedTouches[0][a]:e[a]}function d(e,t,s,n,a,i){function r(e){f||(n&&e.preventDefault(),f=this,m=c(e,"X"),h=c(e,"Y"),p=!1,b=new Date)}function o(e){f&&!p&&(Math.abs(c(e,"X")-m)>a||Math.abs(c(e,"Y")-h)>a)&&(p=!0)}function d(t){f&&((i&&new Date-b<100||!p)&&(t.preventDefault(),s.call(f,t,e)),f=!1,l())}function u(){f=!1}var m,h,f,p,b,v=ne.$,g=v(t);a=a||9,e.settings.tap&&g.on("touchstart.mbsc",r).on("touchcancel.mbsc",u).on("touchmove.mbsc",o).on("touchend.mbsc",d),g.on("click.mbsc",function(t){t.preventDefault(),s.call(this,t,e)})}function u(e){if(De&&!e.tap&&("TEXTAREA"!=e.target.nodeName||"mousedown"!=e.type))return e.stopPropagation(),e.preventDefault(),!1}function m(e){var t;for(t in e)if(void 0!==Se[e[t]])return!0;return!1}function h(){var e,t=["Webkit","Moz","O","ms"];for(e in t)if(m([t[e]+"Transform"]))return"-"+t[e].toLowerCase()+"-";return""}function f(e,t){var s=document.createElement("script"),n="mbscjsonp"+ ++Ye;window[n]=function(e){s.parentNode.removeChild(s),delete window[n],e&&t(e)},s.src=e+(e.indexOf("?")>=0?"&":"?")+"callback="+n,document.body.appendChild(s)}function p(e,t){var s=new XMLHttpRequest;s.open("GET",e,!0),s.onload=function(){this.status>=200&&this.status<400&&t(JSON.parse(this.response))},s.onerror=function(){},s.send()}function b(e,t,s){"jsonp"==s?f(e,t):p(e,t)}function v(e,t,s,n,a,i,r){var o=new Date(e,t,s,n||0,a||0,i||0,r||0);return 23==o.getHours()&&0===(n||0)&&o.setHours(o.getHours()+2),o}function g(){return function(e,t,s){function n(){e.$emit("mbscRepeatRender"+s.mobiscrollRepeatRender)}n(),e.$on("$destroy",n)}}function y(t,s,n){var a=ne.ng.getDDO(n,t,{preset:s});return a.link=void 0,a.compile=function(a){var i,r,o=""+Lt++,l=Le(a[0]);return l.find("li").each(function(){for(r=0;r<It.length;r++)if(Le(this).attr(It[r]))return i=!0,!1}),i&&l.children().attr("mobiscroll-repeat-render",o),function(a,r,l,c){var d,u,m=Le(r[0]),h=ne.ng.getOpt(a,l,t,c);e.extend(h,{preset:s}),ne.ng.addWatch(n,a,c,m,l,t),i?a.$on("mbscRepeatRender"+o,function(){clearTimeout(u),u=setTimeout(function(){d=new ne.classes.Scroller(r[0],h),l.mobiscrollInstance&&n(l.mobiscrollInstance).assign(a,d)},1)}):m.children().length&&(d=new ne.classes.Scroller(r[0],h),l.mobiscrollInstance&&n(l.mobiscrollInstance).assign(a,d))}},a}function x(e,t,s,n,a,i){var r=Jt[s[0].id];r&&(i?i.$setViewValue(r.getEllapsedTime()):e(a[t]).assign(n,r.getEllapsedTime()))}function w(e,t){var s=Jt[e[0].id];s&&(s.setEllapsedTime(t,!1),Le(e[0]).val(s._value))}function _(e){var t=Jt[e[0].id];if(t)return t.getEllapsedTime()}function C(e,t){var s={},n=e.parent(),a=n.find(".mbsc-err-msg"),i=e.attr("data-icon-align")||"left",r=e.attr("data-icon");n.hasClass(ts)?n=n.parent():Le('<span class="'+ts+'"></span>').insertAfter(e).append(e),a&&n.find("."+ts).append(a),r&&(r.indexOf("{")!==-1?s=JSON.parse(r):s[i]=r),(r||t)&&(Ne(s,t),n.addClass((s.right?"mbsc-ic-right ":"")+(s.left?" mbsc-ic-left":"")).find("."+ts).append(s.left?'<span class="mbsc-input-ic mbsc-left-ic mbsc-ic mbsc-ic-'+s.left+'"></span>':"").append(s.right?'<span class="mbsc-input-ic mbsc-right-ic mbsc-ic mbsc-ic-'+s.right+'"></span>':""))}function T(e,t,s){var n={},a=s[0],i=s.attr("data-password-toggle"),r=s.attr("data-icon-show")||"eye",o=s.attr("data-icon-hide")||"eye-blocked";i&&(n.right="password"==a.type?r:o),C(s,n),i&&d(e,t.find(".mbsc-right-ic").addClass("mbsc-input-toggle"),function(){"text"==a.type?(a.type="password",Le(this).addClass("mbsc-ic-"+r).removeClass("mbsc-ic-"+o)):(a.type="text",Le(this).removeClass("mbsc-ic-"+r).addClass("mbsc-ic-"+o))})}function M(e,t){"button"!=t&&"submit"!=t&&"segmented"!=t&&(e.addClass("mbsc-control-w").find("label").addClass("mbsc-label"),e.contents().filter(function(){return 3==this.nodeType&&this.nodeValue&&/\S/.test(this.nodeValue)}).each(function(){Le('<span class="mbsc-label"></span>').insertAfter(this).append(this)}))}function D(e){var t=[Math.round(e.r).toString(16),Math.round(e.g).toString(16),Math.round(e.b).toString(16)];return Le.each(t,function(e,s){1==s.length&&(t[e]="0"+s)}),"#"+t.join("")}function k(e){return e=parseInt(e.indexOf("#")>-1?e.substring(1):e,16),{r:e>>16,g:(65280&e)>>8,b:255&e,toString:function(){return"rgb("+this.r+","+this.g+","+this.b+")"}}}function S(e){var t,s,n,a=e.h,i=255*e.s/100,r=255*e.v/100;if(0===i)t=s=n=r;else{var o=r,l=(255-i)*r/255,c=(o-l)*(a%60)/60;360==a&&(a=0),a<60?(t=o,n=l,s=l+c):a<120?(s=o,n=l,t=o-c):a<180?(s=o,t=l,n=l+c):a<240?(n=o,t=l,s=o-c):a<300?(n=o,s=l,t=l+c):a<360?(t=o,s=l,n=o-c):t=s=n=0}return{r:t,g:s,b:n,toString:function(){return"rgb("+this.r+","+this.g+","+this.b+")"}}}function V(e){var t,s,n=0,a=Math.min(e.r,e.g,e.b),i=Math.max(e.r,e.g,e.b),r=i-a;return s=i,t=i?255*r/i:0,n=t?e.r==i?(e.g-e.b)/r:e.g==i?2+(e.b-e.r)/r:4+(e.r-e.g)/r:-1,n*=60,n<0&&(n+=360),t*=100/255,s*=100/255,{h:n,s:t,v:s,toString:function(){return"hsv("+Math.round(this.h)+","+Math.round(this.s)+"%,"+Math.round(this.v)+"%)"}}}function A(e){var t,s,n=e.r/255,a=e.g/255,i=e.b/255,r=Math.max(n,a,i),o=Math.min(n,a,i),l=(r+o)/2;if(r==o)t=s=0;else{var c=r-o;switch(s=l>.5?c/(2-r-o):c/(r+o),r){case n:t=(a-i)/c+(a<i?6:0);break;case a:t=(i-n)/c+2;break;case i:t=(n-a)/c+4}t/=6}return{h:Math.round(360*t),s:Math.round(100*s),l:Math.round(100*l),toString:function(){return"hsl("+this.h+","+this.s+"%,"+this.l+"%)"}}}function O(e){var t,s,n,a,i,r,o=e.h,l=e.s,c=e.l;return isFinite(o)||(o=0),isFinite(l)||(l=0),isFinite(c)||(c=0),o/=60,o<0&&(o=6- -o%6),o%=6,l=Math.max(0,Math.min(1,l/100)),c=Math.max(0,Math.min(1,c/100)),i=(1-Math.abs(2*c-1))*l,r=i*(1-Math.abs(o%2-1)),o<1?(t=i,s=r,n=0):o<2?(t=r,s=i,n=0):o<3?(t=0,s=i,n=r):o<4?(t=0,s=r,n=i):o<5?(t=r,s=0,n=i):(t=i,s=0,n=r),a=c-i/2,{r:Math.round(255*(t+a)),g:Math.round(255*(s+a)),b:Math.round(255*(n+a)),toString:function(){return"rgb("+this.r+","+this.g+","+this.b+")"}}}function I(e){return A(k(e))}function L(e){return D(O(e))}function $(e){return D(S(e))}function E(e){return V(k(e))}function N(e,t,s){var n;return e=Le(Le.parseHTML?Le.parseHTML(e):e),1==e.length&&e.is("li")||Le(e[0]).is("li")?(n=e.clone(),Le(n[0]).attr("ng-repeat-start","item in "+t),Le(n).filter("li").eq(-1).attr("ng-repeat-end","").attr("mobiscroll-listview-item",s)):(n=Le("<li></li>").append(e.clone()),n.attr("ng-repeat","item in "+t).attr("mobiscroll-listview-item",s)),n}function H(e){var t,s=0;if(!e)return s;for(t=0;t<e.length;t++)s++,e[t].children&&e[t].children.length&&(s+=H(e[t].children));return s}function Y(e){for(var t=0,s=1,n=0;e.length;)t>3?s=3600:t>1&&(s=60),n+=e.pop()*s*(t%2?10:1),t++;return n}function P(e){an.length||e.show(),an.push(e)}function F(e){var t=rn.length;rn.push(e),an.length||(t?rn[0].hide():e.show(!1,!0))}function W(e,t,s,n){return Ne({display:t.display||"center",cssClass:"mbsc-alert",okText:t.okText,cancelText:t.cancelText,context:t.context,theme:t.theme,closeOnOverlayTap:!1,onBeforeClose:function(){e.shift()},onBeforeShow:function(){ne.activeInstance=null},onHide:function(e,n){s&&s(n._resolve),t.callback&&t.callback(n._resolve),n&&n.destroy(),an.length?an[0].show():rn.length&&rn[0].show(!1,!0)}},n)}function R(e){return(e.title?"<h2>"+e.title+"</h2>":"")+"<p>"+(e.message||"")+"</p>"}function j(e,t,s){var n=new en(e,W(an,t,s));P(n)}function q(e,t,s){var n=new en(e,W(an,t,s,{buttons:["ok","cancel"],onSet:function(){n._resolve=!0}}));n._resolve=!1,P(n)}function B(e,t,s){var n=void 0,a=new en(e,W(an,t,s,{buttons:["ok","cancel"],onShow:function(){n=a._markup.find("input")[0],setTimeout(function(){n.focus()},300)},onSet:function(){a._resolve=n.value}}));a._resolve="",P(a)}function X(e,t,s,n,a){var i=void 0,r=new en(e,W(rn,t,s,{display:"bottom",animate:a,cssClass:n||"mbsc-snackbar",scrollLock:!1,focusTrap:!1,buttons:[],onShow:function(e,s){t.duration!==!1&&(i=setTimeout(function(){s&&s.hide()},t.duration||3e3)),t.button&&s.tap(Le(".mbsc-snackbar-btn",e.target),function(){s.hide(),t.button.action&&t.button.action.call(this)})},onClose:function(){clearTimeout(i)}}));F(r)}function U(e,t,s){X(e,t,s,"mbsc-toast","fade")}function z(e,t,s){var n=void 0;return nn?n=new Promise(function(n){e(t,s,n)}):e(t,s),n}function K(e){var t=e[0],s=e.attr("data-role"),n=e.attr("type")||t.nodeName.toLowerCase();return/(switch|range|segmented|stepper)/.test(s)&&(n=s),n}function G(e){var t=ne.themes.form[e];return t&&t.addRipple?t:null}function Z(){clearTimeout(xn),xn=setTimeout(function(){Le("textarea.mbsc-control").each(function(){J(this)})},100)}function J(e){var t=void 0,s=void 0,n=void 0,a=Le(e).attr("rows")||6;e.offsetHeight&&(e.style.height="",n=e.scrollHeight-e.offsetHeight,t=e.offsetHeight+(n>0?n:0),s=Math.round(t/24),s>a?(e.scrollTop=t,t=24*a+(t-24*s),Le(e).addClass("mbsc-textarea-scroll")):Le(e).removeClass("mbsc-textarea-scroll"),t&&(e.style.height=t+"px"))}function Q(e){var t=Le(e);if(!t.hasClass("mbsc-textarea-scroll")){var s=e.scrollHeight-e.offsetHeight,n=e.offsetHeight+s;e.scrollTop=0,e.style.height=n+"px"}}function ee(e,t){var s=ra(t,"X",!0),n=ra(t,"Y",!0),a=e.offset(),i=s-a.left,r=n-a.top,o=Math.max(i,e[0].offsetWidth-i),l=Math.max(r,e[0].offsetHeight-r),c=2*Math.sqrt(Math.pow(o,2)+Math.pow(l,2));te(sa),sa=Le('<span class="mbsc-ripple"></span>').css({width:c,height:c,top:n-a.top-c/2,left:s-a.left-c/2}).appendTo(e),setTimeout(function(){sa.addClass("mbsc-ripple-scaled mbsc-ripple-visible")},10)}function te(e){setTimeout(function(){e&&(e.removeClass("mbsc-ripple-visible"),setTimeout(function(){e.remove()},2e3))},100)}function se(e,t,s,n){var a,i;e.off(".mbsc-ripple").on("touchstart.mbsc-ripple mousedown.mbsc-ripple",t,function(e){ia(e,this)&&(a=ra(e,"X"),i=ra(e,"Y"),ta=Le(this),ta.hasClass(s)||ta.hasClass(n)?ta=null:ee(ta,e))}).on("touchmove.mbsc-ripple mousemove.mbsc-ripple",t,function(e){(ta&&Math.abs(ra(e,"X")-a)>9||Math.abs(ra(e,"Y")-i)>9)&&(te(sa),ta=null)}).on("touchend.mbsc-ripple touchcancel.mbsc-ripple mouseleave.mbsc-ripple mouseup.mbsc-ripple",t,function(){ta&&(setTimeout(function(){te(sa)},100),ta=null)})}e="default"in e?e.default:e;var ne=ne||{},ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ie=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},re=function(){function e(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,s,n){return s&&e(t.prototype,s),n&&e(t,n),t}}(),oe=function e(t,s,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,s);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,s,n)}if("value"in a)return a.value;var r=a.get;if(void 0!==r)return r.call(n)},le=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},ce=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},de={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},ue={readonly:"readOnly"},me=[],he=Array.prototype.slice,fe=function(){var e=function(e){var t=this,s=0;for(s=0;s<e.length;s++)t[s]=e[s];return t.length=e.length,i(this)},i=function s(n,a){var i=[],r=0;if(n&&!a&&n instanceof e)return n;if(t(n))return s(document).ready(n);if(n)if("string"==typeof n){var o,l,c;if(n=c=n.trim(),c.indexOf("<")>=0&&c.indexOf(">")>=0){var d="div";for(0===c.indexOf("<li")&&(d="ul"),0===c.indexOf("<tr")&&(d="tbody"),0!==c.indexOf("<td")&&0!==c.indexOf("<th")||(d="tr"),0===c.indexOf("<tbody")&&(d="table"),0===c.indexOf("<option")&&(d="select"),l=document.createElement(d),l.innerHTML=c,r=0;r<l.childNodes.length;r++)i.push(l.childNodes[r])}else for(a||"#"!==n[0]||n.match(/[ .<>:~]/)?(a instanceof e&&(a=a[0]),o=(a||document).querySelectorAll(n)):o=[document.getElementById(n.split("#")[1])],r=0;r<o.length;r++)o[r]&&i.push(o[r])}else if(n.nodeType||n===window||n===document)i.push(n);else if(n.length>0&&n[0].nodeType)for(r=0;r<n.length;r++)i.push(n[r]);else s.isArray(n)&&(i=n);return new e(i)};return e.prototype={ready:function(e){return(document.attachEvent?"complete"==document.readyState:"loading"!=document.readyState)?e(i):document.addEventListener("DOMContentLoaded",function(){e(i)},!1),this},concat:me.concat,empty:function(){return this.each(function(){this.innerHTML=""})},map:function(e){return i(i.map(this,function(t,s){return e.call(t,s,t)}))},slice:function(){return i(he.apply(this,arguments))},addClass:function(e){if("undefined"==typeof e)return this;for(var t=e.split(" "),s=0;s<t.length;s++)for(var n=0;n<this.length;n++)"undefined"!=typeof this[n].classList&&""!==t[s]&&this[n].classList.add(t[s]);return this},removeClass:function(e){if("undefined"==typeof e)return this;for(var t=e.split(" "),s=0;s<t.length;s++)for(var n=0;n<this.length;n++)"undefined"!=typeof this[n].classList&&""!==t[s]&&this[n].classList.remove(t[s]);return this},hasClass:function(e){return!!this[0]&&this[0].classList.contains(e)},toggleClass:function(e){for(var t=e.split(" "),s=0;s<t.length;s++)for(var n=0;n<this.length;n++)"undefined"!=typeof this[n].classList&&this[n].classList.toggle(t[s]);return this},closest:function(e,t){var n=this[0],a=!1;for(s(e)&&(a=i(e));n&&!(a?a.indexOf(n)>=0:i.matches(n,e));)n=n!==t&&n.nodeType!==n.DOCUMENT_NODE&&n.parentNode;return i(n)},attr:function e(t,s){var e;if(1!==arguments.length||"string"!=typeof t){for(var n=0;n<this.length;n++)if(2===arguments.length)this[n].setAttribute(t,s);else for(var a in t)this[n][a]=t[a],this[n].setAttribute(a,t[a]);return this}if(this.length)return e=this[0].getAttribute(t),e||""===e?e:void 0},removeAttr:function(e){for(var t=0;t<this.length;t++)this[t].removeAttribute(e);return this},prop:function(e,t){if(e=ue[e]||e,1===arguments.length&&"string"==typeof e)return this[0]?this[0][e]:void 0;for(var s=0;s<this.length;s++)this[s][e]=t;return this},val:function(e){if("undefined"==typeof e)return this.length&&this[0].multiple?i.map(this.find("option:checked"),function(e){return e.value}):this[0]?this[0].value:void 0;if(this.length&&this[0].multiple)i.each(this[0].options,function(){this.selected=e.indexOf(this.value)!=-1});else for(var t=0;t<this.length;t++)this[t].value=e;return this},on:function(e,s,n,a){function r(e){var t,a,r=e.target;if(i(r).is(s))n.call(r,e);else for(a=i(r).parents(),t=0;t<a.length;t++)i(a[t]).is(s)&&n.call(a[t],e)}function o(e,t,s,n){var a=t.split(".");e.DomNameSpaces||(e.DomNameSpaces=[]),e.DomNameSpaces.push({namespace:a[1],event:a[0],listener:s,capture:n}),e.addEventListener(a[0],s,n)}var l,c,d=e.split(" ");for(l=0;l<this.length;l++)if(t(s)||s===!1)for(t(s)&&(a=n||!1,n=s),c=0;c<d.length;c++)d[c].indexOf(".")!=-1?o(this[l],d[c],n,a):this[l].addEventListener(d[c],n,a);else for(c=0;c<d.length;c++)this[l].DomLiveListeners||(this[l].DomLiveListeners=[]),this[l].DomLiveListeners.push({listener:n,liveListener:r}),d[c].indexOf(".")!=-1?o(this[l],d[c],r,a):this[l].addEventListener(d[c],r,a);return this},off:function(e,s,n,a){function i(e){var t,s,n,a=e.split("."),i=a[0],r=a[1];for(t=0;t<d.length;++t)if(d[t].DomNameSpaces){for(s=0;s<d[t].DomNameSpaces.length;++s)n=d[t].DomNameSpaces[s],n.namespace!=r||n.event!=i&&i||(d[t].removeEventListener(n.event,n.listener,n.capture),n.removed=!0);for(s=d[t].DomNameSpaces.length-1;s>=0;--s)d[t].DomNameSpaces[s].removed&&d[t].DomNameSpaces.splice(s,1)}}var r,o,l,c,d=this;for(r=e.split(" "),o=0;o<r.length;o++)for(l=0;l<this.length;l++)if(t(s)||s===!1)t(s)&&(a=n||!1,n=s),0===r[o].indexOf(".")?i(r[o].substr(1),n,a):this[l].removeEventListener(r[o],n,a);else{if(this[l].DomLiveListeners)for(c=0;c<this[l].DomLiveListeners.length;c++)this[l].DomLiveListeners[c].listener===n&&this[l].removeEventListener(r[o],this[l].DomLiveListeners[c].liveListener,a);this[l].DomNameSpaces&&this[l].DomNameSpaces.length&&r[o]&&i(r[o])}return this},trigger:function(e,t){for(var s=e.split(" "),n=0;n<s.length;n++)for(var a=0;a<this.length;a++){var i;try{i=new CustomEvent(s[n],{detail:t,bubbles:!0,cancelable:!0})}catch(e){i=document.createEvent("Event"),i.initEvent(s[n],!0,!0),i.detail=t}this[a].dispatchEvent(i)}return this},width:function(e){return void 0!==e?this.css("width",e):this[0]===window?window.innerWidth:this[0]===document?document.documentElement.scrollWidth:this.length>0?parseFloat(this.css("width")):null},height:function(e){if(void 0!==e)return this.css("height",e);if(this[0]===window)return window.innerHeight;if(this[0]===document){var t=document.body,s=document.documentElement;return Math.max(t.scrollHeight,t.offsetHeight,s.clientHeight,s.scrollHeight,s.offsetHeight)}return this.length>0?parseFloat(this.css("height")):null},innerWidth:function(){var e=this;if(this.length>0){if(this[0].innerWidth)return this[0].innerWidth;var t=this[0].offsetWidth,s=["left","right"];return s.forEach(function(s){t-=parseInt(e.css(a("border-"+s+"-width"))||0,10)}),t}},innerHeight:function(){var e=this;if(this.length>0){if(this[0].innerHeight)return this[0].innerHeight;var t=this[0].offsetHeight,s=["top","bottom"];return s.forEach(function(s){t-=parseInt(e.css(a("border-"+s+"-width"))||0,10)}),t}},offset:function(){if(this.length>0){var e=this[0],t=e.getBoundingClientRect(),s=document.documentElement;return{top:t.top+window.pageYOffset-s.clientTop,left:t.left+window.pageXOffset-s.clientLeft}}},hide:function(){for(var e=0;e<this.length;e++)this[e].style.display="none";return this},show:function(){for(var e=0;e<this.length;e++)"none"==this[e].style.display&&(this[e].style.display=""),"none"==getComputedStyle(this[e],"").getPropertyValue("display")&&(this[e].style.display="block");return this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},styles:function(){return this[0]?window.getComputedStyle(this[0],null):void 0},css:function e(t,s){var n,a,i=this[0],e="";if(arguments.length<2){if(!i)return;if("string"==typeof t)return i.style[t]||getComputedStyle(i,"").getPropertyValue(t)}if("string"==typeof t)s||0===s?e=r(t)+":"+o(t,s):this.each(function(){this.style.removeProperty(r(t))});else for(a in t)if(t[a]||0===t[a])e+=r(a)+":"+o(a,t[a])+";";else for(n=0;n<this.length;n++)this[n].style.removeProperty(r(a));return this.each(function(){this.style.cssText+=";"+e})},each:function(e){for(var t=0;t<this.length&&e.apply(this[t],[t,this[t]])!==!1;t++);return this},filter:function(s){for(var n=[],a=0;a<this.length;a++)t(s)?s.call(this[a],a,this[a])&&n.push(this[a]):i.matches(this[a],s)&&n.push(this[a]);return new e(n)},html:function(e){if("undefined"==typeof e)return this[0]?this[0].innerHTML:void 0;this.empty();for(var t=0;t<this.length;t++)this[t].innerHTML=e;return this},text:function(e){if("undefined"==typeof e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t++)this[t].textContent=e;return this},is:function(e){return this.length>0&&i.matches(this[0],e)},not:function(e){var a=[];if(t(e)&&void 0!==e.call)this.each(function(t){e.call(this,t)||a.push(this)});else{var r="string"==typeof e?this.filter(e):n(e)&&t(e.item)?he.call(e):i(e);s(r)&&(r=i.map(r,function(e){return e})),this.each(function(e,t){r.indexOf(t)<0&&a.push(t)})}return i(a)},indexOf:function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t},index:function(e){return e?this.indexOf(i(e)[0]):this.parent().children().indexOf(this[0])},get:function(e){return void 0===e?he.call(this):this[e>=0?e:e+this.length]},eq:function(t){if("undefined"==typeof t)return this;var s,n=this.length;return t>n-1?new e([]):t<0?(s=n+t,new e(s<0?[]:[this[s]])):new e([this[t]])},append:function(t){var s,n;for(s=0;s<this.length;s++)if("string"==typeof t){var a=document.createElement("div");for(a.innerHTML=t;a.firstChild;)this[s].appendChild(a.firstChild)}else if(t instanceof e)for(n=0;n<t.length;n++)this[s].appendChild(t[n]);else this[s].appendChild(t);return this},appendTo:function(e){return i(e).append(this),this},prepend:function(t){var s,n;for(s=0;s<this.length;s++)if("string"==typeof t){var a=document.createElement("div");for(a.innerHTML=t,n=a.childNodes.length-1;n>=0;n--)this[s].insertBefore(a.childNodes[n],this[s].childNodes[0])}else if(t instanceof e)for(n=0;n<t.length;n++)this[s].insertBefore(t[n],this[s].childNodes[0]);else this[s].insertBefore(t,this[s].childNodes[0]);return this},prependTo:function(e){return i(e).prepend(this),this},insertBefore:function(e){for(var t=i(e),s=0;s<this.length;s++)if(1===t.length)t[0].parentNode.insertBefore(this[s],t[0]);else if(t.length>1)for(var n=0;n<t.length;n++)t[n].parentNode.insertBefore(this[s].cloneNode(!0),t[n]);return this},insertAfter:function(e){for(var t=i(e),s=0;s<this.length;s++)if(1===t.length)t[0].parentNode.insertBefore(this[s],t[0].nextSibling);else if(t.length>1)for(var n=0;n<t.length;n++)t[n].parentNode.insertBefore(this[s].cloneNode(!0),t[n].nextSibling);return this},next:function(t){return new e(this.length>0?t?this[0].nextElementSibling&&i(this[0].nextElementSibling).is(t)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(t){var s=[],n=this[0];if(!n)return new e([]);for(;n.nextElementSibling;){var a=n.nextElementSibling;t?i(a).is(t)&&s.push(a):s.push(a),n=a}return new e(s)},prev:function(t){return new e(this.length>0?t?this[0].previousElementSibling&&i(this[0].previousElementSibling).is(t)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(t){var s=[],n=this[0];if(!n)return new e([]);for(;n.previousElementSibling;){var a=n.previousElementSibling;t?i(a).is(t)&&s.push(a):s.push(a),n=a}return new e(s)},parent:function(e){for(var t=[],s=0;s<this.length;s++)null!==this[s].parentNode&&(e?i(this[s].parentNode).is(e)&&t.push(this[s].parentNode):t.push(this[s].parentNode));return i(i.unique(t))},parents:function e(t){for(var e=[],s=0;s<this.length;s++)for(var n=this[s].parentNode;n;)t?i(n).is(t)&&e.push(n):e.push(n),n=n.parentNode;return i(i.unique(e))},find:function(t){for(var s=[],n=0;n<this.length;n++)for(var a=this[n].querySelectorAll(t),i=0;i<a.length;i++)s.push(a[i]);return new e(s)},children:function t(s){for(var t=[],n=0;n<this.length;n++)for(var a=this[n].childNodes,r=0;r<a.length;r++)s?1===a[r].nodeType&&i(a[r]).is(s)&&t.push(a[r]):1===a[r].nodeType&&t.push(a[r]);return new e(i.unique(t))},remove:function(){for(var e=0;e<this.length;e++)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},add:function(){var e,t,s=this;for(e=0;e<arguments.length;e++){var n=i(arguments[e]);for(t=0;t<n.length;t++)s[s.length]=n[t],s.length++}return s},before:function(e){return i(e).insertBefore(this),this},after:function(e){return i(e).insertAfter(this),this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return void 0===e?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return void 0===e?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},contents:function(){return this.map(function(e,t){return he.call(t.childNodes)})},nextUntil:function(e){for(var t=this,s=[];t.length&&!t.filter(e).length;)s.push(t[0]),t=t.next();return i(s)},prevUntil:function(e){for(var t=this,s=[];t.length&&!i(t).filter(e).length;)s.push(t[0]),t=t.prev();return i(s)},detach:function(){return this.remove()}},i.fn=e.prototype,i}(),pe=fe;ne.$=fe,pe.inArray=function(e,t,s){return me.indexOf.call(t,e,s)},pe.extend=function(e){var t,s=he.call(arguments,1);return"boolean"==typeof e&&(t=e,e=s.shift()),e=e||{},s.forEach(function(s){i(e,s,t)}),e},pe.isFunction=t,pe.isArray=function(e){return"[object Array]"===Object.prototype.toString.apply(e)},pe.isPlainObject=function(e){return s(e)&&null!==e&&e!==e.window&&Object.getPrototypeOf(e)==Object.prototype},pe.each=function(e,t){var n,a;if(s(e)&&t){if(pe.isArray(e)||e instanceof fe)for(n=0;n<e.length&&t.call(e[n],n,e[n])!==!1;n++);else for(a in e)if(e.hasOwnProperty(a)&&"length"!==a&&t.call(e[a],a,e[a])===!1)break;return this}},pe.unique=function(e){for(var t=[],s=0;s<e.length;s++)t.indexOf(e[s])===-1&&t.push(e[s]);return t},pe.map=function(e,t){var s,a,i,r=[];if(n(e))for(a=0;a<e.length;a++)s=t(e[a],a),null!==s&&r.push(s);else for(i in e)s=t(e[i],i),null!==s&&r.push(s);return r.length>0?pe.fn.concat.apply([],r):r},pe.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var s=e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;return s.call(e,t)};var be,ve,ge,ye,xe=[],we="undefined"!=typeof window,_e=we?navigator.userAgent:"",Ce=_e.match(/Android|iPhone|iPad|iPod|Windows Phone|Windows|MSIE/i),Te=we&&window.requestAnimationFrame||function(e){e()},Me=we&&window.cancelAnimationFrame||function(){};/Android/i.test(Ce)?(be="android",ve=_e.match(/Android\s+([\d\.]+)/i),ve&&(xe=ve[0].replace("Android ","").split("."))):/iPhone|iPad|iPod/i.test(Ce)?(be="ios",ve=_e.match(/OS\s+([\d\_]+)/i),ve&&(xe=ve[0].replace(/_/g,".").replace("OS ","").split("."))):/Windows Phone/i.test(Ce)?be="wp":/Windows|MSIE/i.test(Ce)&&(be="windows"),ge=xe[0],ye=xe[1];var De=0;we&&(["mouseover","mousedown","mouseup","click"].forEach(function(e){document.addEventListener(e,u,!0)}),"android"==be&&ge<5&&document.addEventListener("change",function(e){De&&"checkbox"==e.target.type&&!e.target.mbscChange&&(e.stopPropagation(),e.preventDefault()),delete e.target.mbscChange},!0));var ke,Se,Ve,Ae,Oe,Ie=function(){},Le=ne.$,$e=+new Date,Ee={},Ne=Le.extend;we&&(Se=document.createElement("modernizr").style,Oe=h(),Ae=Oe.replace(/^\-/,"").replace(/\-$/,"").replace("moz","Moz"),ke=void 0!==Se.animation?"animationend":"webkitAnimationEnd"),Ve=Ne(ne,{$:Le,version:"3.2.4",util:{prefix:Oe,jsPrefix:Ae,animEnd:ke,preventClick:l,testTouch:function(e,t){if("touchstart"==e.type)Le(t).attr("data-touch","1");else if(Le(t).attr("data-touch"))return Le(t).removeAttr("data-touch"),!1;return!0},objectToArray:function(e){var t,s=[];for(t in e)s.push(e[t]);return s},arrayToObject:function(e){var t,s={};if(e)for(t=0;t<e.length;t++)s[e[t]]=e[t];return s},isNumeric:function(e){return e-parseFloat(e)>=0},isString:function(e){return"string"==typeof e},getCoord:c,getPosition:function(e,t){var s,n,a=getComputedStyle(e[0]);return Le.each(["t","webkitT","MozT","OT","msT"],function(e,t){if(void 0!==a[t+"ransform"])return s=a[t+"ransform"],!1}),s=s.split(")")[0].split(", "),n=t?s[13]||s[5]:s[12]||s[4]},constrain:function(e,t,s){return Math.max(t,Math.min(e,s))},vibrate:function(e){"vibrate"in navigator&&navigator.vibrate(e||50)},throttle:function(e,t){var s,n;return t=t||100,function(){var a=this,i=+new Date,r=arguments;s&&i<s+t?(clearTimeout(n),n=setTimeout(function(){s=i,e.apply(a,r)},t)):(s=i,e.apply(a,r))}}},autoTheme:"mobiscroll",presets:{scroller:{},numpad:{},listview:{},menustrip:{}},themes:{form:{},page:{},frame:{},scroller:{},listview:{},menustrip:{},progress:{}},platform:{name:be,majorVersion:ge,minorVersion:ye},i18n:{},instances:Ee,classes:{},components:{},settings:{},setDefaults:function(e){Ne(this.settings,e)},customTheme:function(e,t){var s,n=ne.themes,a=["frame","scroller","listview","menustrip","form","progress"];for(s=0;s<a.length;s++)n[a[s]][e]=Ne({},n[a[s]][t],{baseTheme:t})}}),Ve.presetShort=Ve.presetShort||function(){},Ve.classes.Base=function(e,t){function s(){Le(e).addClass("mbsc-comp"),e.id?Ee[e.id]&&Ee[e.id].destroy():e.id="mobiscroll"+ ++$e,Ee[e.id]=u,u.__ready=!0}var n,a,i,r,o,l,c,u=this;u.settings={},u._init=Ie,u._destroy=Ie,u._processSettings=Ie,u.init=function(s){var d;for(d in u.settings)delete u.settings[d];i=u.settings,Ne(t,s),u._hasDef&&(c=Ve.settings),Ne(i,u._defaults,c,t),u._hasTheme&&(o=i.theme,"auto"!=o&&o||(o=Ve.autoTheme),"default"==o&&(o="mobiscroll"),t.theme=o,r=Ve.themes[u._class]?Ve.themes[u._class][o]:{}),u._hasLang&&(n=Ve.i18n[i.lang]),u._hasTheme&&l("onThemeLoad",{lang:n,settings:t}),Ne(i,r,n,c,t),u._processSettings(),u._hasPreset&&(a=Ve.presets[u._class][i.preset],a&&(a=a.call(e,u),Ne(i,a,t))),u._init(s),l("onInit")},u.destroy=function(){u&&(u._destroy(),l("onDestroy"),delete Ee[e.id],u=null)},u.tap=function(e,t,s,n,a){d(u,e,t,s,n,a)},u.trigger=function(s,n){var i,o,l,d=[c,r,a,t];for(o=0;o<4;o++)l=d[o],l&&l[s]&&(i=l[s].call(e,n||{},u));return i},u.option=function(e,t){var s={};"object"===("undefined"==typeof e?"undefined":ae(e))?s=e:s[e]=t,u.init(s)},u.getInst=function(){return u},t=t||{},l=u.trigger,u.__ready||s()},ne.ng={};var He=ne.instances;ne.ng={getDDO:function(t,s,n,a,i,r,o,l){return i=i||ne.ng.read,a=a||ne.ng.render,r=r||ne.ng.parse,o=o||ne.ng.format,{restrict:"A",require:"?ngModel",priority:e.version&&1==e.version.major&&2==e.version.minor?1:void 0,link:function(c,d,u,m){var h,f=Le(d[0]);ne.ng.addWatch(t,c,m,f,u,s,a,i,r,o),h=new ne.classes[n.component||"Scroller"](d[0],e.extend(ne.ng.getOpt(c,u,s,m,l,f),n||{})),u.mobiscrollInstance&&t(u.mobiscrollInstance).assign(c,h)}}},getOpt:function(t,s,n,a,i,r){var o=t.$eval(s.mobiscrollOptions||"{}"),l=i?r.closest("[mbsc-form-opt]"):null;return i&&(o=e.extend({},ne.ng.formOptions[l.attr("id")]||{},o)),a&&e.extend(o,t.$eval(s[n]||"{}")),o},read:function(e,t,s,n,a,i,r){var o,l=He[s.attr("id")];l&&(o=r(s,l.getVal()),i?i.$setViewValue(o):a[t]&&e(a[t]).assign(n,o))},render:function(t,s){var n=He[t.attr("id")];n&&!e.equals(n.getVal(),s)&&n.setVal(s,!0,!1)},parse:function(e){var t,s=He[e.attr("id")];return s&&(t=s.getVal()),Le.isArray(t)&&!t.length?null:t},format:function(e,t){return Le.isArray(t)&&!t.length?null:t},addWatch:function(e,t,s,n,a,i,r,o,l,c){r=r||ne.ng.render,o=o||ne.ng.read,l=l||ne.ng.parse,c=c||ne.ng.format,s&&(s.$render=function(){},s.$parsers.unshift(function(e){return l(n,e)}),s.$formatters.push(function(e){return c(n,e)})),t.$watch(function(){return s?s.$modelValue:e(a[i])(t)},function(e){r(n,e)},!0),t.$on("$destroy",function(){var e=He[n[0].id];e&&e.destroy()}),n.on("change",function(){t.$$phase?o(e,i,n,t,a,s,c):t.$apply(function(){o(e,i,n,t,a,s,c)})})},formOptions:{}};var Ye=0;ne.util.getJson=b;var Pe,Fe,We=ne.util,Re=ne.classes,je=ne.themes,qe=We.constrain,Be=We.isString,Xe=We.getCoord,Ue=We.animEnd,ze=/(iphone|ipod)/i.test(_e)&&ge>=7,Ke="android"==be,Ge="ios"==be,Ze=Ge&&8==ge,Je=function(){},Qe=function(e){e.preventDefault()},et=function(e,t,s){function n(e){M&&M.removeClass("mbsc-fr-btn-a"),M=Le(this),M.hasClass("mbsc-fr-btn-d")||M.hasClass("mbsc-fr-btn-nhl")||M.addClass("mbsc-fr-btn-a"),"mousedown"===e.type?Le(document).on("mouseup",a):"pointerdown"===e.type&&Le(document).on("pointerup",a)}function a(e){M&&(M.removeClass("mbsc-fr-btn-a"),
M=null),"mouseup"===e.type?Le(document).off("mouseup",a):"pointerup"===e.type&&Le(document).off("pointerup",a)}function i(e){13==e.keyCode?z.select():27==e.keyCode&&z.cancel()}function r(e){e||Ke||N.focus(),z.ariaMessage(F.ariaMessage)}function o(e){var t=Pe,s=F.focusOnClose;z._markupRemove(),g.remove(),V&&(D.mbscModals--,F.scrollLock&&D.mbscLock--,D.mbscLock||v.removeClass("mbsc-fr-lock"),D.mbscModals||(v.removeClass("mbsc-fr-lock-ios mbsc-fr-lock-ctx"),E&&(p.css({top:"",left:""}),_.scrollLeft(W),_.scrollTop(j)),e||(t||(t=K),setTimeout(function(){void 0===s||s===!0?(Fe=!0,t[0].focus()):s&&Le(s)[0].focus()},200)))),z._isVisible=!1,A=!1,B("onHide")}function l(e){clearTimeout(Z[e.type]),Z[e.type]=setTimeout(function(){var t,s="scroll"==e.type;s&&!R||(z.position(!s),"orientationchange"==e.type&&(H.style.display="none",t=H.offsetHeight,H.style.display=""))},200)}function c(e){e.target.nodeType&&!N.contains(e.target)&&N.focus()}function d(e,t){e&&e(),z.show()!==!1&&(Pe=t)}function u(){z._fillValue(),B("onSet",{valueText:z._value})}function m(){B("onCancel",{valueText:z._value})}function h(){z.setVal(null,!0)}var f,p,b,v,g,y,x,w,_,C,T,M,D,k,S,V,A,O,I,L,$,E,N,H,Y,P,F,W,R,j,q,B,X,U,z=this,K=Le(e),G=[],Z={};Re.Base.call(this,e,t,!0),z.position=function(e){var t,s,n,a,i,r,o,l,c,d,u,m,h,f,b,v,y={},T=0,M=0,k=0,E=0;!P&&A&&(z._position(g),m=O.offsetHeight,h=O.offsetWidth,X===h&&U===m&&e||(z._isFullScreen||/top|bottom/.test(F.display)?w.width(h):C.width(""),B("onPosition",{target:O,windowWidth:h,windowHeight:m})!==!1&&V&&(Le(".mbsc-comp",g).each(function(){var e=ne.instances[this.id];e&&e!==z&&e.position&&e.position()}),!z._isFullScreen&&/center|bubble/.test(F.display)&&(Le(".mbsc-w-p",g).each(function(){f=this.getBoundingClientRect().width,E+=f,k=f>k?f:k}),C.css({width:z._isLiquid?Math.min(F.maxPopupWidth,h-16):Math.ceil(E>h?k:E),"white-space":E>h?"":"nowrap"})),I=H.offsetWidth,L=H.offsetHeight,R=L<=m&&I<=h,$&&(T=_.scrollLeft(),M=_.scrollTop()),"center"==F.display?(v=Math.max(0,T+(h-I)/2),b=Math.max(0,M+(m-L)/2)):"bubble"==F.display?(t=void 0===F.anchor?K:Le(F.anchor),o=Le(".mbsc-fr-arr-i",g)[0],a=t.offset(),i=a.top+(S?M-p.offset().top:0),r=a.left+(S?T-p.offset().left:0),s=t[0].offsetWidth,n=t[0].offsetHeight,l=o.offsetWidth,c=o.offsetHeight,v=qe(r-(I-s)/2,T+8,T+h-I-8),b=i-L-c/2,b<M||i>M+m?(w.removeClass("mbsc-fr-bubble-top").addClass("mbsc-fr-bubble-bottom"),b=i+n+c/2):w.removeClass("mbsc-fr-bubble-bottom").addClass("mbsc-fr-bubble-top"),Le(".mbsc-fr-arr",g).css({left:qe(r+s/2-(v+(I-l)/2),0,l)}),R=b>M&&v>T&&b+L<=M+m&&v+I<=T+h):(v=T,b="top"==F.display?M:Math.max(0,M+m-L)),$&&(d=Math.max(b+L,S?D.scrollHeight:Le(document).height()),u=Math.max(v+I,S?D.scrollWidth:Le(document).width()),x.css({width:u,height:d}),F.scroll&&"bubble"==F.display&&(b+L+8>M+m||i>M+m||i+n<M)&&(P=!0,setTimeout(function(){P=!1},300),_.scrollTop(Math.min(i,b+L-m+8,d-m)))),y.top=Math.floor(b),y.left=Math.floor(v),w.css(y),X=h,U=m)))},z.attachShow=function(e,t){var s,n=Le(e),a=n.prop("readonly");if("inline"!==F.display){if((F.showOnFocus||F.showOnTap)&&n.is("input,select")&&(n.prop("readonly",!0).on("mousedown.mbsc",function(e){e.preventDefault()}).on("focus.mbsc",function(){z._isVisible&&this.blur()}),s=Le('label[for="'+n.attr("id")+'"]'),s.length||(s=n.closest("label"))),n.is("select"))return;F.showOnFocus&&n.on("focus.mbsc",function(){Fe?Fe=!1:d(t,n)}),F.showOnTap&&(n.on("keydown.mbsc",function(e){32!=e.keyCode&&13!=e.keyCode||(e.preventDefault(),e.stopPropagation(),d(t,n))}),z.tap(n,function(){d(t,n)}),s&&s.length&&z.tap(s,function(){d(t,n)})),G.push({readOnly:a,el:n,lbl:s})}},z.select=function(){V?z.hide(!1,"set",!1,u):u()},z.cancel=function(){V?z.hide(!1,"cancel",!1,m):m()},z.clear=function(){z._clearValue(),B("onClear"),V&&z._isVisible&&!z.live?z.hide(!1,"clear",!1,h):h()},z.enable=function(){F.disabled=!1,z._isInput&&K.prop("disabled",!1)},z.disable=function(){F.disabled=!0,z._isInput&&K.prop("disabled",!0)},z.show=function(e,t){function s(){g.off(Ue,s).removeClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+k).find(".mbsc-fr-popup").removeClass("mbsc-anim-"+k),r(t)}var o,d;if(!F.disabled&&!z._isVisible){if(z._readValue(),B("onBeforeShow")===!1)return!1;if(Pe=null,k=F.animate,T=F.buttons||[],$=S||"bubble"==F.display,E=ze&&!$&&F.scrollLock,o=T.length>0,q=!1,k!==!1&&("top"==F.display?k=k||"slidedown":"bottom"==F.display?k=k||"slideup":"center"!=F.display&&"bubble"!=F.display||(k=k||"pop")),V&&(j=Math.max(0,_.scrollTop()),W=Math.max(0,_.scrollLeft()),X=0,U=0,E&&!v.hasClass("mbsc-fr-lock-ios")&&p.css({top:-j+"px",left:-W+"px"}),v.addClass((F.scrollLock?"mbsc-fr-lock":"")+(E?" mbsc-fr-lock-ios":"")+(S?" mbsc-fr-lock-ctx":"")),Le(document.activeElement).is("input,textarea")&&document.activeElement.blur(),ne.activeInstance&&ne.activeInstance.hide(),ne.activeInstance=z,D.mbscModals=D.mbscModals||0,D.mbscLock=D.mbscLock||0,D.mbscModals++,F.scrollLock&&D.mbscLock++),d='<div lang="'+F.lang+'" class="mbsc-fr mbsc-no-touch mbsc-'+F.theme+(F.baseTheme?" mbsc-"+F.baseTheme:"")+" mbsc-fr-"+F.display+" "+(F.cssClass||"")+" "+(F.compClass||"")+(z._isLiquid?" mbsc-fr-liq":"")+(E?" mbsc-platform-ios":"")+(o?T.length>=3?" mbsc-fr-btn-block ":"":" mbsc-fr-nobtn")+'">'+(V?'<div class="mbsc-fr-persp"><div class="mbsc-fr-overlay"></div><div role="dialog" tabindex="-1" class="mbsc-fr-scroll">':"")+'<div class="mbsc-fr-popup'+(F.rtl?" mbsc-rtl":" mbsc-ltr")+(F.headerText?" mbsc-fr-has-hdr":"")+'">'+("bubble"===F.display?'<div class="mbsc-fr-arr-w"><div class="mbsc-fr-arr-i"><div class="mbsc-fr-arr"></div></div></div>':"")+'<div class="mbsc-fr-w"><div aria-live="assertive" class="mbsc-fr-aria mbsc-fr-hdn"></div>'+(F.headerText?'<div class="mbsc-fr-hdr">'+(Be(F.headerText)?F.headerText:"")+"</div>":"")+'<div class="mbsc-fr-c">',d+=z._generateContent(),d+="</div>",o&&(d+='<div class="mbsc-fr-btn-cont">',Le.each(T,function(e,t){t=Be(t)?z.buttons[t]:t,"set"===t.handler&&(t.parentClass="mbsc-fr-btn-s"),"cancel"===t.handler&&(t.parentClass="mbsc-fr-btn-c"),d+="<div"+(F.btnWidth?' style="width:'+100/T.length+'%"':"")+' class="mbsc-fr-btn-w '+(t.parentClass||"")+'"><div tabindex="0" role="button" class="mbsc-fr-btn'+e+" mbsc-fr-btn-e "+(void 0===t.cssClass?F.btnClass:t.cssClass)+(t.icon?" mbsc-ic mbsc-ic-"+t.icon:"")+'">'+(t.text||"")+"</div></div>"}),d+="</div>"),d+="</div></div></div></div>"+(V?"</div></div>":""),g=Le(d),x=Le(".mbsc-fr-persp",g),y=Le(".mbsc-fr-scroll",g),C=Le(".mbsc-fr-w",g),b=Le(".mbsc-fr-hdr",g),w=Le(".mbsc-fr-popup",g),f=Le(".mbsc-fr-aria",g),O=g[0],N=y[0],H=w[0],z._markup=g,z._header=b,z._isVisible=!0,Y="orientationchange resize",z._markupReady(g),B("onMarkupReady",{target:O}),V){if(Le(window).on("keydown",i),F.scrollLock&&g.on("touchmove mousewheel wheel",function(e){R&&e.preventDefault()}),F.focusTrap&&_.on("focusin",c),F.closeOnOverlayTap){var u,m,h,M;y.on("touchstart mousedown",function(e){m||e.target!=y[0]||(m=!0,u=!1,h=Xe(e,"X"),M=Xe(e,"Y"))}).on("touchmove mousemove",function(e){m&&!u&&(Math.abs(Xe(e,"X")-h)>9||Math.abs(Xe(e,"Y")-M)>9)&&(u=!0)}).on("touchcancel",function(){m=!1}).on("touchend touchcancel mouseup",function(e){m&&!u&&(z.cancel(),"mouseup"!=e.type&&We.preventClick()),m=!1})}$&&(Y+=" scroll")}setTimeout(function(){if(V)g.appendTo(p);else if(K.is("div")&&!z._hasContent)K.empty().append(g);else if(K.hasClass("mbsc-control")){var i=K.closest(".mbsc-control-w");g.insertAfter(i),i.hasClass("mbsc-select")&&i.addClass("mbsc-select-inline")}else g.insertAfter(K);A=!0,z._markupInserted(g),B("onMarkupInserted",{target:O}),g.on("selectstart mousedown",Qe).on("click",".mbsc-fr-btn-e",Qe).on("keydown",".mbsc-fr-btn-e",function(e){32==e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.click())}).on("keydown",function(e){if(32==e.keyCode)e.preventDefault();else if(9==e.keyCode&&V&&F.focusTrap){var t=g.find('[tabindex="0"]').filter(function(){return this.offsetWidth>0||this.offsetHeight>0}),s=t.index(Le(":focus",g)),n=t.length-1,a=0;e.shiftKey&&(n=0,a=-1),s===n&&(t.eq(a)[0].focus(),e.preventDefault())}}).on("touchstart mousedown pointerdown",".mbsc-fr-btn-e",n).on("touchend",".mbsc-fr-btn-e",a),Le("input,select,textarea",g).on("selectstart mousedown",function(e){e.stopPropagation()}).on("keydown",function(e){32==e.keyCode&&e.stopPropagation()}),O.addEventListener("touchstart",function(){q||(q=!0,p.find(".mbsc-no-touch").removeClass("mbsc-no-touch"))},!0),Le.each(T,function(e,t){z.tap(Le(".mbsc-fr-btn"+e,g),function(e){t=Be(t)?z.buttons[t]:t,(Be(t.handler)?z.handlers[t.handler]:t.handler).call(this,e,z)},!0)}),z._attachEvents(g),z.position(),_.on(Y,l),V&&(k&&!e?g.addClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+k).on(Ue,s).find(".mbsc-fr-popup").addClass("mbsc-anim-"+k):r(t)),B("onShow",{target:O,valueText:z._tempValue})},E?100:0)}},z.hide=function(e,t,s,n){function a(){g.off(Ue,a),o(e)}return!(!z._isVisible||!s&&!z._isValid&&"set"==t||!s&&B("onBeforeClose",{valueText:z._tempValue,button:t})===!1)&&(V&&(Le(document.activeElement).is("input,textarea")&&H.contains(document.activeElement)&&document.activeElement.blur(),Le(window).off("keydown",i),delete ne.activeInstance),g&&(V&&k&&!e?g.addClass("mbsc-anim-out mbsc-anim-trans mbsc-anim-trans-"+k).on(Ue,a).find(".mbsc-fr-popup").addClass("mbsc-anim-"+k):o(e),z._detachEvents(g),_.off(Y,l).off("focusin",c)),n&&n(),void B("onClose",{valueText:z._value}))},z.ariaMessage=function(e){f.html(""),setTimeout(function(){f.html(e)},100)},z.isVisible=function(){return z._isVisible},z.setVal=Je,z.getVal=Je,z._generateContent=Je,z._attachEvents=Je,z._detachEvents=Je,z._readValue=Je,z._clearValue=Je,z._fillValue=Je,z._markupReady=Je,z._markupInserted=Je,z._markupRemove=Je,z._position=Je,z.__processSettings=Je,z.__init=Je,z.__destroy=Je,z._destroy=function(){z.hide(!0,!1,!0),K.off(".mbsc"),Le.each(G,function(e,t){t.el.off(".mbsc").prop("readonly",t.readOnly),t.lbl&&t.lbl.off(".mbsc")}),z.__destroy()},z._processSettings=function(){var e,t;for(z.__processSettings(),F.buttons=F.buttons||("inline"!==F.display?["set","cancel"]:[]),F.headerText=void 0===F.headerText?"inline"!==F.display&&"{value}":F.headerText,T=F.buttons||[],V="inline"!==F.display,S="body"!=F.context,p=Le(F.context),v=S?p:Le("body,html"),D=p[0],z._window=_=Le(S?F.context:window),z.live=!0,t=0;t<T.length;t++)e=T[t],"ok"!=e&&"set"!=e&&"set"!=e.handler||(z.live=!1);z.buttons.set={text:F.setText,icon:F.setIcon,handler:"set"},z.buttons.cancel={text:F.cancelText,icon:F.cancelIcon,handler:"cancel"},z.buttons.close={text:F.closeText,icon:F.closeIcon,handler:"cancel"},z.buttons.clear={text:F.clearText,icon:F.clearIcon,handler:"clear"},z._isInput=K.is("input")},z._init=function(){z._isVisible&&z.hide(!0,!1,!0),K.off(".mbsc"),z.__init(),z._isLiquid="liquid"==F.layout,V?(z._readValue(),z._hasContent||z.attachShow(K)):z.show(),K.on("change.mbsc",function(){z._preventChange||z.setVal(K.val(),!0,!1),z._preventChange=!1})},z.buttons={},z.handlers={set:z.select,cancel:z.cancel,clear:z.clear},z._value=null,z._isValid=!0,z._isVisible=!1,F=z.settings,B=z.trigger,s||z.init(t)};et.prototype._defaults={lang:"en",setText:"Set",selectedText:"{count} selected",closeText:"Close",cancelText:"Cancel",clearText:"Clear",context:"body",maxPopupWidth:600,disabled:!1,closeOnOverlayTap:!0,showOnFocus:Ke||Ge,showOnTap:!0,display:"center",scroll:!0,scrollLock:!0,tap:!0,btnClass:"mbsc-fr-btn",btnWidth:!0,focusTrap:!0,focusOnClose:!Ze},Re.Frame=et,je.frame.mobiscroll={headerText:!1,btnWidth:!1},je.scroller.mobiscroll=Ne({},je.frame.mobiscroll,{rows:5,showLabel:!1,selectedLineBorder:1,weekDays:"min",checkIcon:"ion-ios7-checkmark-empty",btnPlusClass:"mbsc-ic mbsc-ic-arrow-down5",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up5",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left5",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right5"}),we&&Le(window).on("focus",function(){Pe&&(Fe=!0)});var tt=ne.classes,st=ne.util,nt=st.constrain,at=st.jsPrefix,it=st.prefix,rt=st.getCoord,ot=st.getPosition,lt=st.testTouch,ct=st.isNumeric,dt=st.isString,ut="ios"==be,mt=function(e,t,s){function n(e){B("onStart",{domEvent:e}),Z.stopProp&&e.stopPropagation(),(Z.prevDef||"mousedown"==e.type)&&e.preventDefault(),Z.readonly||Z.lock&&S||lt(e,this)&&!k&&(d&&d.removeClass("mbsc-btn-a"),_=!1,S||(d=Le(e.target).closest(".mbsc-btn-e",this),d.length&&!d.hasClass("mbsc-btn-d")&&(_=!0,u=setTimeout(function(){d.addClass("mbsc-btn-a")},100))),k=!0,I=!1,V=!1,z.scrolled=S,P=rt(e,"X"),F=rt(e,"Y"),y=C=P,h=0,f=0,p=0,Y=new Date,H=+ot(R,X)||0,S&&c(H,ut?0:1),"mousedown"===e.type&&Le(document).on("mousemove",a).on("mouseup",r))}function a(e){k&&(Z.stopProp&&e.stopPropagation(),y=rt(e,"X"),x=rt(e,"Y"),h=y-P,f=x-F,p=X?f:h,_&&(Math.abs(f)>Z.thresholdY||Math.abs(h)>Z.thresholdX)&&(clearTimeout(u),d.removeClass("mbsc-btn-a"),_=!1),(z.scrolled||!V&&Math.abs(p)>q)&&(I||B("onGestureStart",w),z.scrolled=I=!0,O||(O=!0,A=Te(i))),X||Z.scrollLock?e.preventDefault():z.scrolled?e.preventDefault():Math.abs(f)>7&&(V=!0,z.scrolled=!0,J.trigger("touchend")))}function i(){M&&(p=nt(p,-E*M,E*M)),c(nt(H+p,D-g,T+g)),O=!1}function r(e){if(k){var t,s=new Date-Y;Z.stopProp&&e.stopPropagation(),Me(A),O=!1,!V&&z.scrolled&&(Z.momentum&&s<300&&(t=p/s,p=Math.max(Math.abs(p),t*t/Z.speedUnit)*(p<0?-1:1)),l(p)),_&&(clearTimeout(u),d.addClass("mbsc-btn-a"),setTimeout(function(){d.removeClass("mbsc-btn-a")},100),V||z.scrolled||B("onBtnTap",{target:d[0]})),"mouseup"==e.type&&Le(document).off("mousemove",a).off("mouseup",r),k=!1}}function o(e){if(e=e.originalEvent||e,p=X?e.deltaY||e.wheelDelta||e.detail:e.deltaX,B("onStart",{domEvent:e}),Z.stopProp&&e.stopPropagation(),p){if(e.preventDefault(),e.deltaMode&&1==e.deltaMode&&(p*=5),p=nt(-p,-20,20),H=U,Z.readonly||H+p<D||H+p>T)return;I||(w={posX:X?0:U,posY:X?U:0,originX:X?0:H,originY:X?H:0,direction:p>0?X?270:360:X?90:180},B("onGestureStart",w)),O||(O=!0,A=Te(i)),I=!0,clearTimeout(L),L=setTimeout(function(){Me(A),O=!1,I=!1,l(p)},200)}}function l(e){var t,s,n;if(M&&(e=nt(e,-E*M,E*M)),n=nt(Math.round((H+e)/E)*E,D,T),K=Math.round(n/E),N){if(e<0){for(t=N.length-1;t>=0;t--)if(Math.abs(n)+m>=N[t].breakpoint){K=t,G=2,n=N[t].snap2;break}}else if(e>=0)for(t=0;t<N.length;t++)if(Math.abs(n)<=N[t].breakpoint){K=t,G=1,n=N[t].snap1;break}n=nt(n,D,T)}s=Z.time||(U<D||U>T?1e3:Math.max(1e3,Math.abs(n-U)*Z.timeUnit)),w.destinationX=X?0:n,w.destinationY=X?n:0,w.duration=s,w.transitionTiming=v,B("onGestureEnd",w),c(n,s)}function c(e,t,s,n){var a=e!=U,i=t>1,r=function(){clearInterval($),clearTimeout(j),S=!1,U=e,w.posX=X?0:e,w.posY=X?e:0,a&&B("onMove",w),i&&B("onAnimationEnd",w),n&&n()};w={posX:X?0:U,posY:X?U:0,originX:X?0:H,originY:X?H:0,direction:e-U>0?X?270:360:X?90:180},U=e,i&&(w.destinationX=X?0:e,w.destinationY=X?e:0,w.duration=t,w.transitionTiming=v,B("onAnimationStart",w)),W[at+"Transition"]=t?it+"transform "+Math.round(t)+"ms "+v:"",W[at+"Transform"]="translate3d("+(X?"0,"+e+"px,":e+"px,0,")+"0)",!a&&!S||!t||t<=1?r():t&&(S=!s,clearInterval($),$=setInterval(function(){var t=+ot(R,X)||0;w.posX=X?0:t,w.posY=X?t:0,B("onMove",w),Math.abs(t-e)<2&&r()},100),clearTimeout(j),j=setTimeout(function(){r()},t)),Z.sync&&Z.sync(e,t,v)}var d,u,m,h,f,p,b,v,g,y,x,w,_,C,T,M,D,k,S,V,A,O,I,L,$,E,N,H,Y,P,F,W,R,j,q,B,X,U,z=this,K=0,G=1,Z=t,J=Le(e);tt.Base.call(this,e,t,!0),z.scrolled=!1,z.scroll=function(t,s,n,a){t=ct(t)?Math.round(t/E)*E:Math.ceil((Le(t,e).length?Math.round(R.offset()[b]-Le(t,e).offset()[b]):U)/E)*E,t=nt(t,D,T),K=Math.round(t/E),H=U,c(t,s,n,a)},z.refresh=function(e){var t;m=void 0===Z.contSize?X?J.height():J.width():Z.contSize,D=void 0===Z.minScroll?Math.min(0,X?m-R.height():m-R.width()):Z.minScroll,T=void 0===Z.maxScroll?0:Z.maxScroll,N=null,!X&&Z.rtl&&(t=T,T=-D,D=-t),dt(Z.snap)&&(N=[],R.find(Z.snap).each(function(){var e=X?this.offsetTop:this.offsetLeft,t=X?this.offsetHeight:this.offsetWidth;N.push({breakpoint:e+t/2,snap1:-e,snap2:m-e-t})})),E=ct(Z.snap)?Z.snap:1,M=Z.snap?Z.maxSnapScroll:0,v=Z.easing,g=Z.elastic?ct(Z.snap)?E:ct(Z.elastic)?Z.elastic:0:0,void 0===U&&(U=Z.initialPos,K=Math.round(U/E)),e||z.scroll(Z.snap?N?N[K]["snap"+G]:K*E:U)},z._processSettings=function(){X="Y"==Z.axis,b=X?"top":"left",R=Z.moveElement||J.children().eq(0),W=R[0].style,q=X?Z.thresholdY:Z.thresholdX},z._init=function(){z.refresh(),J.on("touchstart mousedown",n).on("touchmove",a).on("touchend touchcancel",r),Z.mousewheel&&J.on("wheel mousewheel",o),e.addEventListener&&e.addEventListener("click",function(e){z.scrolled&&(z.scrolled=!1,e.stopPropagation(),e.preventDefault())},!0)},z._destroy=function(){clearInterval($),J.off("touchstart mousedown",n).off("touchmove",a).off("touchend touchcancel",r).off("wheel mousewheel",o)},Z=z.settings,B=z.trigger,s||z.init(t)};mt.prototype={_class:"scrollview",_defaults:{speedUnit:.0022,timeUnit:3,initialPos:0,axis:"Y",thresholdX:10,thresholdY:5,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",stopProp:!0,momentum:!0,mousewheel:!0,elastic:!0}},tt.ScrollView=mt,ne.presetShort("scrollview","ScrollView",!1);var ht=ne.util,ft=ht.jsPrefix,pt=ht.prefix,bt=ht.getCoord,vt=ht.testTouch,gt=we?window.CSS:null,yt=gt&&gt.supports&&gt.supports("(transform-style: preserve-3d)"),xt=!yt||"wp"==be||"android"==be;ne.presetShort("scroller","Scroller",!1);var wt=function(e,t,s){function n(e){var t=+Le(this).attr("data-index");e.stopPropagation(),"mousedown"===e.type&&e.preventDefault(),vt(e,this)&&!v(t)&&(k=Le(this).addClass("mbsc-sc-btn-a"),N=bt(e,"X"),H=bt(e,"Y"),$=!0,E=!1,setTimeout(function(){f(t,"inc"==k.attr("data-dir")?1:-1)},100),"mousedown"===e.type&&Le(document).on("mousemove",a).on("mouseup",i))}function a(e){(Math.abs(N-bt(e,"X"))>7||Math.abs(H-bt(e,"Y"))>7)&&p(!0)}function i(e){p(),e.preventDefault(),"mouseup"===e.type&&Le(document).off("mousemove",a).off("mouseup",i)}function r(e){var t,s,n=Le(this).attr("data-index");38==e.keyCode?(t=!0,s=-1):40==e.keyCode?(t=!0,s=1):32==e.keyCode&&(t=!0,l(n,B[n]._$markup.find('.mbsc-sc-itm[data-val="'+Y[n]+'"]'))),t&&(e.stopPropagation(),e.preventDefault(),s&&!$&&($=!0,E=!1,f(n,s)))}function o(){p()}function l(e,t){var s=B[e],n=t.attr("data-index"),a=h(s,n),i=K._tempSelected[e],r=ht.isNumeric(s.multiple)?s.multiple:1/0;j("onItemTap",{target:t[0],index:e,value:a,selected:t.hasClass("mbsc-sc-itm-sel")})!==!1&&(s.multiple&&!s._disabled[a]&&(void 0!==i[a]?(t.removeClass(O).removeAttr("aria-selected"),delete i[a]):(1==r&&(K._tempSelected[e]=i={},s._$markup.find(".mbsc-sc-itm-sel").removeClass(O).removeAttr("aria-selected")),ht.objectToArray(i).length<r&&(t.addClass(O).attr("aria-selected","true"),i[a]=a))),T(s,e,n,z,!0,!0,s.multiple),!K.live||s.multiple||R.setOnTap!==!0&&!R.setOnTap[e]||setTimeout(function(){K.select()},200))}function c(e,t){return(e._array?e._map[t]:e.getIndex(t,K))||0}function d(e,t){var s=e.data;if(t>=e.min&&t<=e.max)return e._array?e.circular?Le(s).get(t%e._length):s[t]:Le.isFunction(s)?s(t,K):""}function u(e){return Le.isPlainObject(e)?void 0!==e.value?e.value:e.display:e}function m(e){var t=Le.isPlainObject(e)?e.display:e;return void 0===t?"":t}function h(e,t){return u(d(e,t))}function f(e,t){E||b(e,t),$&&(clearInterval(L),L=setInterval(function(){b(e,t)},R.delay))}function p(e){clearInterval(L),E=e,$=!1,k&&k.removeClass("mbsc-sc-btn-a")}function b(e,t){var s=B[e];T(s,e,s._current+t,z,1==t?1:2)}function v(e){return Le.isArray(R.readonly)?R.readonly[e]:R.readonly}function g(e,t,s){var n=e._index-e._batch;return e.data=e.data||[],e.key=void 0!==e.key?e.key:t,e.label=void 0!==e.label?e.label:t,e._map={},e._array=Le.isArray(e.data),e._array&&(e._length=e.data.length,Le.each(e.data,function(t,s){e._map[u(s)]=t})),e.circular=void 0===R.circular?void 0===e.circular?e._array&&e._length>R.rows:e.circular:Le.isArray(R.circular)?R.circular[t]:R.circular,e.min=e._array?e.circular?-(1/0):0:void 0===e.min?-(1/0):e.min,e.max=e._array?e.circular?1/0:e._length-1:void 0===e.max?1/0:e.max,e._nr=t,e._index=c(e,Y[t]),e._disabled={},e._batch=0,e._current=e._index,e._first=e._index-U,e._last=e._index+U,e._offset=e._first,s?(e._offset-=e._margin/P+(e._index-n),e._margin+=(e._index-n)*P):e._margin=0,e._refresh=function(t){var s=-(e.min-e._offset+(e.multiple&&!A?Math.floor(R.rows/2):0))*P,n=Math.min(s,-(e.max-e._offset-(e.multiple&&!A?Math.floor(R.rows/2):0))*P);Ne(e._scroller.settings,{minScroll:n,maxScroll:s}),e._scroller.refresh(t)},X[e.key]=e,e}function y(e,t,s,n,a){var i,r,o,l,c,h,f,p,b="",v=K._tempSelected[t],g=e._disabled||{};for(i=s;i<=n;i++)o=d(e,i),c=m(o),l=u(o),r=o&&void 0!==o.cssClass?o.cssClass:"",h=o&&void 0!==o.label?o.label:"",f=o&&o.invalid,p=void 0!==l&&l==Y[t]&&!e.multiple,b+='<div role="option" aria-selected="'+!!v[l]+'" class="mbsc-sc-itm '+(a?"mbsc-sc-itm-3d ":"")+r+" "+(p?"mbsc-sc-itm-sel ":"")+(v[l]?O:"")+(void 0===l?" mbsc-sc-itm-ph":" mbsc-btn-e")+(f?" mbsc-sc-itm-inv-h mbsc-btn-d":"")+(g[l]?" mbsc-sc-itm-inv mbsc-btn-d":"")+'" data-index="'+i+'" data-val="'+l+'"'+(h?' aria-label="'+h+'"':"")+(p?' aria-selected="true"':"")+' style="height:'+P+"px;line-height:"+P+"px;"+(a?pt+"transform:rotateX("+(e._offset-i)*V%360+"deg) translateZ("+P*R.rows/2+"px);":"")+'">'+(q>1?'<div class="mbsc-sc-itm-ml" style="line-height:'+Math.round(P/q)+"px;font-size:"+Math.round(P/q*.8)+'px;">':"")+c+(q>1?"</div>":"")+"</div>";return b}function x(t){var s=R.headerText;return s?"function"==typeof s?s.call(e,t):s.replace(/\{value\}/i,t):""}function w(e,t,s){var n=Math.round(-s/P)+e._offset,a=n-e._current,i=e._first,r=e._last,o=i+U-S+1,l=r-U+S;a&&(e._first+=a,e._last+=a,e._current=n,a>0?(e._$scroller.append(y(e,t,Math.max(r+1,i+a),r+a)),Le(".mbsc-sc-itm",e._$scroller).slice(0,Math.min(a,r-i+1)).remove(),A&&(e._$3d.append(y(e,t,Math.max(l+1,o+a),l+a,!0)),Le(".mbsc-sc-itm",e._$3d).slice(0,Math.min(a,l-o+1)).attr("class","mbsc-sc-itm-del"))):a<0&&(e._$scroller.prepend(y(e,t,i+a,Math.min(i-1,r+a))),Le(".mbsc-sc-itm",e._$scroller).slice(Math.max(a,i-r-1)).remove(),A&&(e._$3d.prepend(y(e,t,o+a,Math.min(o-1,l+a),!0)),Le(".mbsc-sc-itm",e._$3d).slice(Math.max(a,o-l-1)).attr("class","mbsc-sc-itm-del"))),e._margin+=a*P,e._$scroller.css("margin-top",e._margin+"px"))}function _(e,t,s,n){var a,i=B[e],r=n||i._disabled,o=c(i,t),l=t,d=t,u=0,m=0;if(void 0===t&&(t=h(i,o)),r[t]===!0){for(a=0;o-u>=i.min&&r[l]&&a<100;)a++,u++,l=h(i,o-u);for(a=0;o+m<i.max&&r[d]&&a<100;)a++,m++,d=h(i,o+m);t=(m<u&&m&&2!==s||!u||o-u<0||1==s)&&!r[d]?d:l}return t}function C(t,s,n,a,i,r){var o,l,d,u,m=K._isVisible;W=!0,u=R.validate.call(e,{values:Y.slice(0),index:s,direction:n},K)||{},W=!1,u.valid&&(K._tempWheelArray=Y=u.valid.slice(0)),r||Le.each(B,function(e,a){if(m&&a._$markup.find(".mbsc-sc-itm-inv").removeClass("mbsc-sc-itm-inv mbsc-btn-d"),a._disabled={},u.disabled&&u.disabled[e]&&Le.each(u.disabled[e],function(e,t){a._disabled[t]=!0,m&&a._$markup.find('.mbsc-sc-itm[data-val="'+t+'"]').addClass("mbsc-sc-itm-inv mbsc-btn-d")}),Y[e]=a.multiple?Y[e]:_(e,Y[e],n),m){if(a.multiple&&void 0!==s||a._$markup.find(".mbsc-sc-itm-sel").removeClass(O).removeAttr("aria-selected"),a.multiple){if(void 0===s)for(var r in K._tempSelected[e])a._$markup.find('.mbsc-sc-itm[data-val="'+r+'"]').addClass(O).attr("aria-selected","true")}else a._$markup.find('.mbsc-sc-itm[data-val="'+Y[e]+'"]').addClass("mbsc-sc-itm-sel").attr("aria-selected","true");l=c(a,Y[e]),o=l-a._index+a._batch,Math.abs(o)>2*U+1&&(d=o+(2*U+1)*(o>0?-1:1),a._offset+=d,a._margin-=d*P,a._refresh()),a._index=l+a._batch,a._scroller.scroll(-(l-a._offset+a._batch)*P,s===e||void 0===s?t:z,i)}}),j("onValidated"),K._tempValue=R.formatValue(Y,K),m&&K._header.html(x(K._tempValue)),K.live&&(K._hasValue=a||K._hasValue,M(a,a,0,!0),a&&j("onSet",{valueText:K._value})),a&&j("onChange",{valueText:K._tempValue})}function T(e,t,s,n,a,i,r){var o=h(e,s);void 0!==o&&(Y[t]=o,e._batch=e._array?Math.floor(s/e._length)*e._length:0,setTimeout(function(){C(n,t,a,!0,i,r)},10))}function M(e,t,s,n,a){if(n?K._tempValue=R.formatValue(K._tempWheelArray,K):C(s),!a){K._wheelArray=[];for(var i=0;i<Y.length;i++)K._wheelArray[i]=B[i]&&B[i].multiple?Object.keys(K._tempSelected[i])[0]:Y[i];K._value=K._hasValue?K._tempValue:null,K._selected=Ne(!0,{},K._tempSelected)}e&&(K._isInput&&G.val(K._hasValue?K._tempValue:""),j("onFill",{valueText:K._hasValue?K._tempValue:"",change:t}),t&&(K._preventChange=!0,G.trigger("change")))}var D,k,S,V,A,O,I,L,$,E,N,H,Y,P,F,W,R,j,q,B,X,U=40,z=1e3,K=this,G=Le(e);et.call(this,e,t,!0),K.setVal=K._setVal=function(t,s,n,a,i){K._hasValue=null!==t&&void 0!==t,K._tempWheelArray=Y=Le.isArray(t)?t.slice(0):R.parseValue.call(e,t,K)||[],M(s,void 0===n?s:n,i,!1,a)},K.getVal=K._getVal=function(e){var t=K._hasValue||e?K[e?"_tempValue":"_value"]:null;return ht.isNumeric(t)?+t:t},K.setArrayVal=K.setVal,K.getArrayVal=function(e){return e?K._tempWheelArray:K._wheelArray},K.changeWheel=function(e,t,s){var n,a;Le.each(e,function(e,t){a=X[e],n=a._nr,a&&(Ne(a,t),g(a,n,!0),K._isVisible&&(A&&a._$3d.html(y(a,n,a._first+U-S+1,a._last-U+S,!0)),a._$scroller.html(y(a,n,a._first,a._last)).css("margin-top",a._margin+"px"),a._refresh(W)))}),!K._isVisible||K._isLiquid||W||K.position(),W||C(t,void 0,void 0,s)},K.getValidValue=_,K._generateContent=function(){var e,t=0,s="",n=A?pt+"transform: translateZ("+(P*R.rows/2+3)+"px);":"",a='<div class="mbsc-sc-whl-l" style="'+n+"height:"+P+"px;margin-top:-"+(P/2+(R.selectedLineBorder||0))+'px;"></div>',i=0;return Le.each(R.wheels,function(r,o){s+='<div class="mbsc-w-p mbsc-sc-whl-gr-c'+(R.showLabel?" mbsc-sc-lbl-v":"")+'">'+a+'<div class="mbsc-sc-whl-gr'+(A?" mbsc-sc-whl-gr-3d":"")+(I?" mbsc-sc-cp":"")+(R.width||R.maxWidth?'"':'" style="max-width:'+R.maxPopupWidth+'px;"')+">",Le.each(o,function(r,o){K._tempSelected[i]=Ne({},K._selected[i]),B[i]=g(o,i),t+=R.maxWidth?R.maxWidth[i]||R.maxWidth:R.width?R.width[i]||R.width:0,e=void 0!==o.label?o.label:r,s+='<div class="mbsc-sc-whl-w '+(o.cssClass||"")+(o.multiple?" mbsc-sc-whl-multi":"")+'" style="'+(R.width?"width:"+(R.width[i]||R.width)+"px;":(R.minWidth?"min-width:"+(R.minWidth[i]||R.minWidth)+"px;":"")+(R.maxWidth?"max-width:"+(R.maxWidth[i]||R.maxWidth)+"px;":""))+'"><div class="mbsc-sc-whl-o" style="'+n+'"></div>'+a+'<div tabindex="0" aria-live="off" aria-label="'+e+'"'+(o.multiple?' aria-multiselectable="true"':"")+' role="listbox" data-index="'+i+'" class="mbsc-sc-whl" style="height:'+R.rows*P*(A?1.1:1)+'px;">'+(I?'<div data-index="'+i+'" data-dir="inc" class="mbsc-sc-btn mbsc-sc-btn-plus '+(R.btnPlusClass||"")+'" style="height:'+P+"px;line-height:"+P+'px;"></div><div data-index="'+i+'" data-dir="dec" class="mbsc-sc-btn mbsc-sc-btn-minus '+(R.btnMinusClass||"")+'" style="height:'+P+"px;line-height:"+P+'px;"></div>':"")+'<div class="mbsc-sc-lbl">'+e+'</div><div class="mbsc-sc-whl-c" style="height:'+F+"px;margin-top:-"+(F/2+1)+"px;"+n+'"><div class="mbsc-sc-whl-sc" style="top:'+(F-P)/2+'px;">',s+=y(o,i,o._first,o._last)+"</div></div>",A&&(s+='<div class="mbsc-sc-whl-3d" style="height:'+P+"px;margin-top:-"+P/2+'px;">',s+=y(o,i,o._first+U-S+1,o._last-U+S,!0),s+="</div>"),s+="</div></div>",i++}),s+="</div></div>"}),t&&(R.maxPopupWidth=t),s},K._attachEvents=function(e){Le(".mbsc-sc-btn",e).on("touchstart mousedown",n).on("touchmove",a).on("touchend touchcancel",i),Le(".mbsc-sc-whl",e).on("keydown",r).on("keyup",o)},K._detachEvents=function(){for(var e=0;e<B.length;e++)B[e]._scroller.destroy()},K._markupReady=function(e){D=e,Le(".mbsc-sc-whl",D).each(function(e){var t,s=Le(this),n=B[e],a=-(n.min-n._offset+(n.multiple&&!A?Math.floor(R.rows/2):0))*P,i=Math.min(a,-(n.max-n._offset-(n.multiple&&!A?Math.floor(R.rows/2):0))*P);n._$markup=s,n._$scroller=Le(".mbsc-sc-whl-sc",this),n._$3d=Le(".mbsc-sc-whl-3d",this),n._scroller=new mt(this,{mousewheel:R.mousewheel,moveElement:n._$scroller,initialPos:(n._first-n._index)*P,contSize:0,snap:P,minScroll:i,maxScroll:a,maxSnapScroll:U,prevDef:!0,stopProp:!0,timeUnit:3,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",sync:function(e,t,s){A&&(n._$3d[0].style[ft+"Transition"]=t?pt+"transform "+Math.round(t)+"ms "+s:"",n._$3d[0].style[ft+"Transform"]="rotateX("+-e/P*V+"deg)")},onStart:function(t,s){s.settings.readonly=v(e)},onGestureStart:function(){s.addClass("mbsc-sc-whl-a mbsc-sc-whl-anim"),j("onWheelGestureStart",{index:e})},onGestureEnd:function(s){var a=90==s.direction?1:2,i=s.duration,r=s.destinationY;t=Math.round(-r/P)+n._offset,T(n,e,t,i,a)},onAnimationStart:function(){s.addClass("mbsc-sc-whl-anim")},onAnimationEnd:function(){s.removeClass("mbsc-sc-whl-a mbsc-sc-whl-anim"),j("onWheelAnimationEnd",{index:e}),n._$3d.find(".mbsc-sc-itm-del").remove()},onMove:function(t){w(n,e,t.posY)},onBtnTap:function(t){l(e,Le(t.target))}})}),C()},K._fillValue=function(){K._hasValue=!0,M(!0,!0,0,!0)},K._clearValue=function(){Le(".mbsc-sc-whl-multi .mbsc-sc-itm-sel",D).removeClass(O).removeAttr("aria-selected")},K._readValue=function(){var t=G.val()||"",s=0;""!==t&&(K._hasValue=!0),K._tempWheelArray=Y=K._hasValue&&K._wheelArray?K._wheelArray.slice(0):R.parseValue.call(e,t,K)||[],K._tempSelected=Ne(!0,{},K._selected),Le.each(R.wheels,function(e,t){Le.each(t,function(e,t){B[s]=g(t,s),s++})}),M(!1,!1,0,!0),j("onRead")},K.__processSettings=function(){R=K.settings,j=K.trigger,q=R.multiline,O="mbsc-sc-itm-sel mbsc-ic mbsc-ic-"+R.checkIcon,B=[],X={}},K.__init=function(){I=R.showScrollArrows,A=R.scroll3d&&!xt&&!I,P=R.height,F=A?2*Math.round((P-.03*(P*R.rows/2+3))/2):P,S=Math.round(1.8*R.rows),V=360/(2*S),I&&(R.rows=Math.max(3,R.rows)),R.cssClass=(R.cssClass||"")+" mbsc-sc"},K._getItemValue=u,K._tempSelected={},K._selected={},s||K.init(t)};wt.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_hasPreset:!0,_class:"scroller",_defaults:Ne({},et.prototype._defaults,{minWidth:80,height:40,rows:3,multiline:1,delay:300,readonly:!1,showLabel:!0,setOnTap:!1,wheels:[],preset:"",speedUnit:.0012,timeUnit:.08,checkIcon:"checkmark",validate:function(){},formatValue:function(e){return e.join(" ")},parseValue:function(e,t){var s,n,a=[],i=[],r=0;return null!==e&&void 0!==e&&(a=(e+"").split(" ")),Le.each(t.settings.wheels,function(e,o){Le.each(o,function(e,o){n=o.data,s=t._getItemValue(n[0]),Le.each(n,function(e,n){if(a[r]==t._getItemValue(n))return s=t._getItemValue(n),!1}),i.push(s),r++})}),i}})},ne.classes.Scroller=wt;var _t=ne.util,Ct=_t.isString,Tt={inputClass:"",invalid:[],rtl:!1,showInput:!0,groupLabel:"Groups",dataHtml:"html",dataText:"text",dataValue:"value",dataGroup:"group",dataDisabled:"disabled",filterPlaceholderText:"Type to filter",filterEmptyText:"No results",filterClearIcon:"material-close"};ne.presetShort("select"),ne.presets.scroller.select=function(e){function t(e){var t,s,n,a,i,r,o=0,l=0,c={};if(H={},C={},k=[],_=[],J.length=0,B)Le.each(v,function(o,d){i=d[$.dataText],s=d[$.dataHtml],r=d[$.dataValue],n=d[$.dataGroup],a={value:r,html:s,text:i,index:o},H[r]=a,e&&!m(i,e)||(k.push(a),X&&(void 0===c[n]?(t={text:n,value:l,options:[],index:l},C[l]=t,c[n]=l,_.push(t),l++):t=C[c[n]],K&&(a.index=t.options.length),a.group=c[n],t.options.push(a)),d[$.dataDisabled]&&J.push(r))});else if(X){var d=!0;Le("optgroup",I).each(function(t){C[t]={text:this.label,value:t,options:[],index:t},d=!0,Le("option",this).each(function(s){a={value:this.value,text:this.text,index:K?s:o++,group:t},H[this.value]=a,e&&!m(this.text,e)||(d&&(_.push(C[t]),d=!1),k.push(a),C[t].options.push(a),this.disabled&&J.push(this.value))})})}else Le("option",I).each(function(t){a={value:this.value,text:this.text,index:t},H[this.value]=a,e&&!m(this.text,e)||(k.push(a),this.disabled&&J.push(this.value))});$.defaultValue?g=$.defaultValue:k.length&&(g=k[0].value),G&&(k=[],o=0,Le.each(C,function(e,t){t.options.length&&(r="__group"+e,a={text:t.text,value:r,group:e,index:o++,cssClass:"mbsc-sel-gr"},H[r]=a,k.push(a),J.push(a.value),Le.each(t.options,function(e,t){t.index=o++,k.push(t)}))})),E&&(k.length?E.removeClass("mbsc-sel-empty-v"):E.addClass("mbsc-sel-empty-v"))}function s(e,t,s){var n,a=[];for(n=0;n<e.length;n++)a.push({value:e[n].value,display:e[n].html||e[n].text,cssClass:e[n].cssClass});return{circular:!1,multiple:t,data:a,label:s}}function n(){return s(_,!1,$.groupLabel)}function a(){return s(K?C[w].options:k,W,q)}function i(){var e,t,s=[[]];return z&&(e=n(),P?s[0][T]=e:s[T]=[e]),t=a(),P?s[0][S]=t:s[S]=[t],
s}function r(e){F&&(e&&Ct(e)&&(e=e.split(",")),Le.isArray(e)&&(e=e[0])),D=void 0===e||null===e||""===e?g:e,z&&(w=H[D]?H[D].group:null)}function o(t,s){var n=t?e._tempWheelArray:e._hasValue?e._wheelArray:null;return n?$.group&&s?n:n[S]:null}function l(e){return A[e]||(H[e]?H[e].text:"")}function c(t){var s,n,a=[];if(W){for(s in e._tempSelected[S])a.push(l(s));return a.join(", ")}return n=t[S],l(n)}function d(){var t=e.getVal(),s=l(t);$.filter&&"inline"==$.display||p.val(s),I.is("select")&&B&&I.html('<option value="'+t+'">'+s+"</option>"),I[0]!==p[0]&&I.val(t)}function u(){var t={};t[S]=a(),V=!0,e.changeWheel(t)}function m(e,t){return t=t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),e.match(new RegExp(t,"ig"))}function h(e){return $.data.dataField?e[$.data.dataField]:$.data.processResponse?$.data.processResponse(e):e}function f(s){var o={};t(s),$.wheels=i(),r(D),o[S]=a(),e._tempWheelArray[S]=D,z&&(o[T]=n(),e._tempWheelArray[T]=w),e._isVisible&&e.changeWheel(o,0,!0)}var p,v,g,y,x,w,_,C,T,M,D,k,S,V,A={},O=1e3,I=Le(this),L=Ne({},e.settings),$=Ne(e.settings,Tt,L),E=Le('<div class="mbsc-sel-empty">'+$.filterEmptyText+"</div>"),N=$.readonly,H={},Y=$.layout||(/top|bottom|inline/.test($.display)||$.filter?"liquid":""),P="liquid"==Y,F=_t.isNumeric($.select)?$.select:"multiple"==$.select||I.prop("multiple"),W=F||!!$.filter&&1,R=this.id+"_dummy",j=Le('label[for="'+this.id+'"]').attr("for",R),q=void 0!==$.label?$.label:j.length?j.text():I.attr("name"),B=!!$.data,X=B?!!$.group:Le("optgroup",I).length,U=$.group,z=X&&U&&U.groupWheel!==!1,K=X&&U&&z&&U.clustered===!0,G=X&&(!U||U.header!==!1&&!K),Z=I.val()||(F?[]:[""]),J=[];return e.setVal=function(t,s,n,a,i){W&&(t&&!F&&(t=[t]),t&&Ct(t)&&(t=t.split(",")),e._tempSelected[S]=_t.arrayToObject(t),a||(e._selected[S]=_t.arrayToObject(t)),t=t?t[0]:null),e._setVal(t,s,n,a,i)},e.getVal=function(t,s){if(W){var n=_t.objectToArray(t?e._tempSelected[S]:e._selected[S]);return F?n:n.length?n[0]:null}return o(t,s)},e.refresh=function(e,t,s){e?v=e:Le.isArray($.data)&&(v=$.data),!e&&M&&void 0===t?b($.data.url,function(e){v=h(e),f(),s()},$.data.dataType):(f(t),s())},$.invalid.length||($.invalid=J),z?(T=0,S=1):(T=-1,S=0),W&&(F&&I.prop("multiple",!0),Z&&Ct(Z)&&(Z=Z.split(",")),e._selected[S]=_t.arrayToObject(Z)),e._dummyInput&&e._dummyInput.remove(),I.next().is("input.mbsc-control")?p=I.off(".mbsc-form").next().removeAttr("tabindex"):$.input?p=Le($.input):($.filter&&"inline"==$.display?e._dummyInput=Le('<div class="mbsc-sel-input-wrap"><input type="text" id="'+R+'" class="mbsc-control '+$.inputClass+'" readonly /></div>'):(p=Le('<input type="text" id="'+R+'" class="mbsc-control '+$.inputClass+'" readonly />'),e._dummyInput=p),$.showInput&&(e._dummyInput.insertBefore(I),p||(p=e._dummyInput.find("#"+R)))),e.attachShow(p.attr("placeholder",$.placeholder||"")),p[0]!==I[0]&&I.addClass("mbsc-sel-hdn").attr("tabindex",-1),$.filter&&(y=$.filter.minLength||0),M=$.data&&$.data.url,M?e.refresh(void 0,void 0,d):(B&&(v=$.data),t(),r(I.val())),{layout:Y,headerText:!1,anchor:p,compClass:"mbsc-sel"+(z?" mbsc-sel-gr-whl":"")+(W?" mbsc-sel-multi":""),setOnTap:!z||[!1,!0],formatValue:c,parseValue:function(e){return r(void 0===e?I.val():e),z?[w,D]:[D]},validate:function(e){var t=e.index,s=[];return s[S]=$.invalid,K&&!V&&void 0===t&&u(),V=!1,{disabled:s}},onRead:d,onFill:d,onMarkupReady:function(e,t){if($.filter){var s,n,a,i=Le(".mbsc-fr-w",e.target),r=Le('<span class="mbsc-sel-filter-clear mbsc-ic mbsc-ic-'+$.filterClearIcon+'"></span>');"inline"==$.display?(s=p,p.parent().find(".mbsc-sel-filter-clear").remove()):(i.prepend('<div class="mbsc-input mbsc-sel-filter-cont mbsc-control-w"><span class="mbsc-input-wrap"><input type="text" class="mbsc-sel-filter-input mbsc-control"/></span></div>'),s=i.find(".mbsc-sel-filter-input")),x="",a=s[0],s.prop("readonly",!1).attr("placeholder",$.filterPlaceholderText).parent().append(r),i.find(".mbsc-fr-c").prepend(E),t.tap(r,function(){a.value="",t.refresh(),r.removeClass("mbsc-sel-filter-show-clear")}),s.on("keydown",function(e){13!=e.keyCode&&27!=e.keyCode||(e.stopPropagation(),a.blur())}).on("keyup",function(){clearTimeout(n),a.value.length?r.addClass("mbsc-sel-filter-show-clear"):r.removeClass("mbsc-sel-filter-show-clear"),n=setTimeout(function(){x!==a.value&&t.trigger("onFilter",{filterText:a.value})!==!1&&(x=a.value,(x.length>=y||!x.length)&&(M&&$.data.remoteFilter?b($.data.url+encodeURIComponent(x),function(e){t.refresh(h(e))},$.data.dataType):t.refresh(void 0,x)))},500)})}},onBeforeShow:function(){F&&$.counter&&($.headerText=function(){var t=0;return Le.each(e._tempSelected[S],function(){t++}),(t>1?$.selectedPluralText||$.selectedText:$.selectedText).replace(/{count}/,t)}),r(I.val()),$.filter&&t(void 0),e.settings.wheels=i(),V=!0},onWheelGestureStart:function(e){e.index==T&&($.readonly=[!1,!0])},onWheelAnimationEnd:function(t){var s=e.getArrayVal(!0);t.index==T?($.readonly=N,s[T]!=w&&(w=s[T],D=C[w].options[0].value,s[S]=D,K?u():e.setArrayVal(s,!1,!1,!0,O))):t.index==S&&s[S]!=D&&(D=s[S],z&&H[D]&&H[D].group!=w&&(w=H[D].group,s[T]=w,e.setArrayVal(s,!1,!1,!0,O)))},onItemTap:function(e){if(e.index==S&&(A[e.value]=H[e.value].text,W&&!F&&e.selected))return!1},onClose:function(){M&&$.data.remoteFilter&&x&&e.refresh()},onDestroy:function(){e._dummyInput&&e._dummyInput.remove(),I.removeClass("mbsc-sel-hdn").removeAttr("tabindex")}}};var Mt=["ng-repeat","ng:repeat","data-ng-repeat","x-ng-repeat","ng_repeat"];e.module("mobiscroll-select",[]).directive("mobiscrollSelectOption",function(){return{link:function(e,t,s){var n=Le(t[0]).closest("select");e.$watch(s.ngValue,function(){e.$emit("mbscSelectRefresh",n)}),e.$on("$destroy",function(){e.$emit("mbscSelectRefresh",n)})}}}).directive("mobiscrollSelect",["$parse",function(t){var s=ne.ng.getDDO(t,"mobiscrollSelect",{preset:"select"});return s.link=void 0,s.compile=function(s){var n,a,i=Le(s[0]);return i.find("option").each(function(){for(a=0;a<Mt.length;a++)if(Le(this).attr(Mt[a]))return Le(this).attr("mobiscroll-select-option",""),n=!0,!1}),function(s,a,i,r){var o,l,c=Le(a[0]),d=ne.ng.getOpt(s,i,"mobiscrollSelect",r);e.extend(d,{preset:"select"}),i.mobiscrollData&&(e.extend(d,{data:s.$eval(i.mobiscrollData)||[]}),s.$watchCollection(i.mobiscrollData,function(){l&&l.refresh(s.$eval(i.mobiscrollData))})),ne.ng.addWatch(t,s,r,c,i,"mobiscrollSelect"),n?s.$on("mbscSelectRefresh",function(e,n){c[0]==n[0]&&(clearTimeout(o),o=setTimeout(function(){l=new ne.classes.Scroller(a[0],d),ne.ng.render(c,r?r.$modelValue:t(i.mobiscrollSelect)(s)),i.mobiscrollInstance&&t(i.mobiscrollInstance).assign(s,l)},10))}):(l=new ne.classes.Scroller(a[0],d),i.mobiscrollInstance&&t(i.mobiscrollInstance).assign(s,l))}},s}]);var Dt={defaults:{shortYearCutoff:"+10",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["S","M","T","W","T","F","S"],amText:"am",pmText:"pm",getYear:function(e){return e.getFullYear()},getMonth:function(e){return e.getMonth()},getDay:function(e){return e.getDate()},getDate:v,getMaxDayOfMonth:function(e,t){return 32-new Date(e,t,32,12).getDate()},getWeekNumber:function(e){e=new Date(e),e.setHours(0,0,0),e.setDate(e.getDate()+4-(e.getDay()||7));var t=new Date(e.getFullYear(),0,1);return Math.ceil(((e-t)/864e5+1)/7)}},adjustedDate:v,formatDate:function(e,t,s){if(!t)return null;var n,a,i=Ne({},Dt.defaults,s),r=function(t){for(var s=0;n+1<e.length&&e.charAt(n+1)==t;)s++,n++;return s},o=function(e,t,s){var n=""+t;if(r(e))for(;n.length<s;)n="0"+n;return n},l=function(e,t,s,n){return r(e)?n[t]:s[t]},c="",d=!1;for(n=0;n<e.length;n++)if(d)"'"!=e.charAt(n)||r("'")?c+=e.charAt(n):d=!1;else switch(e.charAt(n)){case"d":c+=o("d",i.getDay(t),2);break;case"D":c+=l("D",t.getDay(),i.dayNamesShort,i.dayNames);break;case"o":c+=o("o",(t.getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5,3);break;case"m":c+=o("m",i.getMonth(t)+1,2);break;case"M":c+=l("M",i.getMonth(t),i.monthNamesShort,i.monthNames);break;case"y":a=i.getYear(t),c+=r("y")?a:(a%100<10?"0":"")+a%100;break;case"h":var u=t.getHours();c+=o("h",u>12?u-12:0===u?12:u,2);break;case"H":c+=o("H",t.getHours(),2);break;case"i":c+=o("i",t.getMinutes(),2);break;case"s":c+=o("s",t.getSeconds(),2);break;case"a":c+=t.getHours()>11?i.pmText:i.amText;break;case"A":c+=t.getHours()>11?i.pmText.toUpperCase():i.amText.toUpperCase();break;case"'":r("'")?c+="'":d=!0;break;default:c+=e.charAt(n)}return c},parseDate:function(e,t,s){var n=Ne({},Dt.defaults,s),a=n.defaultValue&&n.defaultValue.getTime?n.defaultValue:new Date;if(!e||!t)return a;if(t.getTime)return t;t="object"==("undefined"==typeof t?"undefined":ae(t))?t.toString():t+"";var i,r=n.shortYearCutoff,o=n.getYear(a),l=n.getMonth(a)+1,c=n.getDay(a),d=-1,u=a.getHours(),m=a.getMinutes(),h=0,f=-1,p=!1,b=function(t){var s=i+1<e.length&&e.charAt(i+1)==t;return s&&i++,s},v=function(e){b(e);var s="@"==e?14:"!"==e?20:"y"==e?4:"o"==e?3:2,n=new RegExp("^\\d{1,"+s+"}"),a=t.substr(x).match(n);return a?(x+=a[0].length,parseInt(a[0],10)):0},g=function(e,s,n){var a,i=b(e)?n:s;for(a=0;a<i.length;a++)if(t.substr(x,i[a].length).toLowerCase()==i[a].toLowerCase())return x+=i[a].length,a+1;return 0},y=function(){x++},x=0;for(i=0;i<e.length;i++)if(p)"'"!=e.charAt(i)||b("'")?y():p=!1;else switch(e.charAt(i)){case"d":c=v("d");break;case"D":g("D",n.dayNamesShort,n.dayNames);break;case"o":d=v("o");break;case"m":l=v("m");break;case"M":l=g("M",n.monthNamesShort,n.monthNames);break;case"y":o=v("y");break;case"H":u=v("H");break;case"h":u=v("h");break;case"i":m=v("i");break;case"s":h=v("s");break;case"a":f=g("a",[n.amText,n.pmText],[n.amText,n.pmText])-1;break;case"A":f=g("A",[n.amText,n.pmText],[n.amText,n.pmText])-1;break;case"'":b("'")?y():p=!0;break;default:y()}if(o<100&&(o+=(new Date).getFullYear()-(new Date).getFullYear()%100+(o<=("string"!=typeof r?r:(new Date).getFullYear()%100+parseInt(r,10))?0:-100)),d>-1)for(l=1,c=d;;){var w=32-new Date(o,l-1,32,12).getDate();if(c<=w)break;l++,c-=w}u=f==-1?u:f&&u<12?u+12:f||12!=u?u:0;var _=n.getDate(o,l-1,c,u,m,h);return n.getYear(_)!=o||n.getMonth(_)+1!=l||n.getDay(_)!=c?a:_}};ne.util.datetime=Dt;var kt=Dt.adjustedDate,St={separator:" ",dateFormat:"mm/dd/yy",dateDisplay:"MMddyy",timeFormat:"h:ii A",dayText:"Day",monthText:"Month",yearText:"Year",hourText:"Hours",minuteText:"Minutes",ampmText:"&nbsp;",secText:"Seconds",nowText:"Now",todayText:"Today"},Vt=function e(t){function s(e){return e<10?"0"+e:e}function n(e){var t,s,n,a=[];if(e){for(t=0;t<e.length;t++)if(s=e[t],s.start&&s.start.getTime)for(n=new Date(s.start);n<=s.end;)a.push(kt(n.getFullYear(),n.getMonth(),n.getDate())),n.setDate(n.getDate()+1);else a.push(s);return a}return e}function a(e,t,s,n){return Math.min(n,Math.floor(e/t)*t+s)}function i(e,t,s){return Math.floor((s-t)/e)*e+t}function r(e){return P.getYear(e)}function o(e){return P.getMonth(e)}function l(e){return P.getDay(e)}function c(e){var t=e.getHours();return t=J&&t>=12?t-12:t,a(t,te,ie,le)}function d(e){return a(e.getMinutes(),se,re,ce)}function u(e){return a(e.getSeconds(),ne,oe,de)}function m(e){return e.getMilliseconds()}function h(e){return e.getHours()>11?1:0}function f(e){return e.getFullYear()+"-"+s(e.getMonth()+1)+"-"+s(e.getDate())}function p(e){return a(Math.round((e.getTime()-new Date(e).setHours(0,0,0,0))/1e3),O,0,86400)}function b(e,t,s,n){var a;return void 0===$[t]||(a=+e[$[t]],isNaN(a))?s?pe[t](s):void 0!==E[t]?E[t]:pe[t](n):a}function v(e){var t,s=new Date((new Date).setHours(0,0,0,0));if(null===e)return e;void 0!==$.dd&&(t=e[$.dd].split("-"),t=new Date(t[0],t[1]-1,t[2])),void 0!==$.tt&&(t=t||s,t=new Date(t.getTime()+e[$.tt]%86400*1e3));var n=b(e,"y",t,s),a=b(e,"m",t,s),i=Math.min(b(e,"d",t,s),P.getMaxDayOfMonth(n,a)),r=b(e,"h",t,s);return P.getDate(n,a,i,J&&b(e,"a",t,s)?r+12:r,b(e,"i",t,s),b(e,"s",t,s),b(e,"u",t,s))}function g(e,t){var s,n,a=["y","m","d","a","h","i","s","u","dd","tt"],i=[];if(null===e||void 0===e)return e;for(s=0;s<a.length;s++)n=a[s],void 0!==$[n]&&(i[$[n]]=pe[n](e)),t&&(E[n]=pe[n](e));return i}function y(e,t){return t?Math.floor(new Date(e)/864e5):e.getMonth()+12*(e.getFullYear()-1970)}function x(e){return{value:e,display:(/yy/i.test(X)?e:(e+"").substr(2,2))+(P.yearSuffix||"")}}function w(e){return e}function _(e){var t=/d/i.test(e);return{label:"",cssClass:"mbsc-dt-whl-date",min:K?y(f(K),t):void 0,max:G?y(f(G),t):void 0,data:function(s){var n=new Date((new Date).setHours(0,0,0,0)),a=t?new Date(864e5*s):new Date(1970,s,1);return t&&(a=new Date(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate())),{invalid:t&&!k(a,!0),value:f(a),display:n.getTime()==a.getTime()?P.todayText:Dt.formatDate(e,a,P)}},getIndex:function(e){return y(e,t)}}}function C(e){var t,s,n,a=[];for(/s/i.test(e)?s=ne:/i/i.test(e)?s=60*se:/h/i.test(e)&&(s=3600*te),O=he.tt=s,t=0;t<86400;t+=s)n=new Date((new Date).setHours(0,0,0,0)+1e3*t),a.push({value:t,display:Dt.formatDate(e,n,P)});return{label:"",cssClass:"mbsc-dt-whl-time",data:a}}function T(){var t,n,a,i,r,o,l,c,d=0,u=[],m=[],h=[];if(e.match(/date/i)){for(t=q.split(/\|/.test(q)?"|":""),i=0;i<t.length;i++)if(a=t[i],o=0,a.length)if(/y/i.test(a)&&o++,/m/i.test(a)&&o++,/d/i.test(a)&&o++,o>1&&void 0===$.dd)$.dd=d,d++,m.push(_(a)),h=m,I=!0;else if(/y/i.test(a)&&void 0===$.y)$.y=d,d++,m.push({cssClass:"mbsc-dt-whl-y",label:P.yearText,min:K?P.getYear(K):void 0,max:G?P.getYear(G):void 0,data:x,getIndex:w});else if(/m/i.test(a)&&void 0===$.m){for($.m=d,l=[],d++,r=0;r<12;r++)c=X.replace(/[dy]/gi,"").replace(/mm/,s(r+1)+(P.monthSuffix||"")).replace(/m/,r+1+(P.monthSuffix||"")),l.push({value:r,display:/MM/.test(c)?c.replace(/MM/,'<span class="mbsc-dt-month">'+P.monthNames[r]+"</span>"):c.replace(/M/,'<span class="mbsc-dt-month">'+P.monthNamesShort[r]+"</span>")});m.push({cssClass:"mbsc-dt-whl-m",label:P.monthText,data:l})}else if(/d/i.test(a)&&void 0===$.d){for($.d=d,l=[],d++,r=1;r<32;r++)l.push({value:r,display:(/dd/i.test(X)?s(r):r)+(P.daySuffix||"")});m.push({cssClass:"mbsc-dt-whl-d",label:P.dayText,data:l})}u.push(m)}if(e.match(/time/i)){for(n=B.split(/\|/.test(B)?"|":""),i=0;i<n.length;i++)if(a=n[i],o=0,a.length&&(/h/i.test(a)&&o++,/i/i.test(a)&&o++,/s/i.test(a)&&o++,/a/i.test(a)&&o++),o>1&&void 0===$.tt)$.tt=d,d++,h.push(C(a));else if(/h/i.test(a)&&void 0===$.h){for(l=[],$.h=d,d++,r=ie;r<(J?12:24);r+=te)l.push({value:r,display:J&&0===r?12:/hh/i.test(U)?s(r):r});h.push({cssClass:"mbsc-dt-whl-h",label:P.hourText,data:l})}else if(/i/i.test(a)&&void 0===$.i){for(l=[],$.i=d,d++,r=re;r<60;r+=se)l.push({value:r,display:/ii/i.test(U)?s(r):r});h.push({cssClass:"mbsc-dt-whl-i",label:P.minuteText,data:l})}else if(/s/i.test(a)&&void 0===$.s){for(l=[],$.s=d,d++,r=oe;r<60;r+=ne)l.push({value:r,display:/ss/i.test(U)?s(r):r});h.push({cssClass:"mbsc-dt-whl-s",label:P.secText,data:l})}else/a/i.test(a)&&void 0===$.a&&($.a=d,d++,h.push({cssClass:"mbsc-dt-whl-a",label:P.ampmText,data:/A/.test(a)?[{value:0,display:P.amText.toUpperCase()},{value:1,display:P.pmText.toUpperCase()}]:[{value:0,display:P.amText},{value:1,display:P.pmText}]}));h!=m&&u.push(h)}return u}function M(e){var t,s,n,a={};if(e.is("input")){switch(e.attr("type")){case"date":t="yy-mm-dd";break;case"datetime":t="yy-mm-ddTHH:ii:ssZ";break;case"datetime-local":t="yy-mm-ddTHH:ii:ss";break;case"month":t="yy-mm",a.dateOrder="mmyy";break;case"time":t="HH:ii:ss"}a.format=t,s=e.attr("min"),n=e.attr("max"),s&&"undefined"!=s&&(a.min=Dt.parseDate(t,s)),n&&"undefined"!=n&&(a.max=Dt.parseDate(t,n))}return a}function D(e,t){var s,n,a=!1,i=!1,r=0,o=0,l=K?v(g(K)):-(1/0),c=G?v(g(G)):1/0;if(k(e))return e;if(e<l&&(e=l),e>c&&(e=c),s=e,n=e,2!==t)for(a=k(s,!0);!a&&s<c;)s=new Date(s.getTime()+864e5),a=k(s,!0),r++;if(1!==t)for(i=k(n,!0);!i&&n>l;)n=new Date(n.getTime()-864e5),i=k(n,!0),o++;return 1===t&&a?s:2===t&&i?n:o<=r&&i?n:s}function k(e,t){return!(!t&&e<K)&&(!(!t&&e>G)&&(!!S(e,W)||!S(e,F)))}function S(e,t){var s,n,a;if(t)for(n=0;n<t.length;n++)if(s=t[n],a=s+"",!s.start)if(s.getTime){if(e.getFullYear()==s.getFullYear()&&e.getMonth()==s.getMonth()&&e.getDate()==s.getDate())return!0}else if(a.match(/w/i)){if(a=+a.replace("w",""),a==e.getDay())return!0}else if(a=a.split("/"),a[1]){if(a[0]-1==e.getMonth()&&a[1]==e.getDate())return!0}else if(a[0]==e.getDate())return!0;return!1}function V(e,t,s,n,a,i,r){var o,l,c,d;if(e)for(l=0;l<e.length;l++)if(o=e[l],d=o+"",!o.start)if(o.getTime)P.getYear(o)==t&&P.getMonth(o)==s&&(i[P.getDay(o)]=r);else if(d.match(/w/i))for(d=+d.replace("w",""),c=d-n;c<a;c+=7)c>=0&&(i[c+1]=r);else d=d.split("/"),d[1]?d[0]-1==s&&(i[d[1]]=r):i[d[0]]=r}function A(e,t,s,n,i,r,o,l){var c,d,u,m,h,f,p,b,v,g,y,x,w,_,C,T,M,D,k,S,V={},A=P.getDate(n,i,r),I=["a","h","i","s"];if(e){for(p=0;p<e.length;p++)y=e[p],y.start&&(y.apply=!1,u=y.d,M=u+"",D=M.split("/"),u&&(u.getTime&&n==P.getYear(u)&&i==P.getMonth(u)&&r==P.getDay(u)||!M.match(/w/i)&&(D[1]&&r==D[1]&&i==D[0]-1||!D[1]&&r==D[0])||M.match(/w/i)&&A.getDay()==+M.replace("w",""))&&(y.apply=!0,V[A]=!0));for(p=0;p<e.length;p++)if(y=e[p],c=0,T=0,b=ue[s],v=me[s],_=!0,C=!0,d=!1,y.start&&(y.apply||!y.d&&!V[A])){for(x=y.start.split(":"),w=y.end.split(":"),g=0;g<3;g++)void 0===x[g]&&(x[g]=0),void 0===w[g]&&(w[g]=59),x[g]=+x[g],w[g]=+w[g];if("tt"==s)b=a(Math.round((new Date(A).setHours(x[0],x[1],x[2])-new Date(A).setHours(0,0,0,0))/1e3),O,0,86400),v=a(Math.round((new Date(A).setHours(w[0],w[1],w[2])-new Date(A).setHours(0,0,0,0))/1e3),O,0,86400);else{for(x.unshift(x[0]>11?1:0),w.unshift(w[0]>11?1:0),J&&(x[1]>=12&&(x[1]=x[1]-12),w[1]>=12&&(w[1]=w[1]-12)),g=0;g<t;g++)void 0!==N[g]&&(k=a(x[g],he[I[g]],ue[I[g]],me[I[g]]),S=a(w[g],he[I[g]],ue[I[g]],me[I[g]]),m=0,h=0,f=0,J&&1==g&&(m=x[0]?12:0,h=w[0]?12:0,f=N[0]?12:0),_||(k=0),C||(S=me[I[g]]),(_||C)&&k+m<N[g]+f&&N[g]+f<S+h&&(d=!0),N[g]!=k&&(_=!1),N[g]!=S&&(C=!1));if(!l)for(g=t+1;g<4;g++)x[g]>0&&(c=he[s]),w[g]<me[I[g]]&&(T=he[s]);d||(k=a(x[t],he[s],ue[s],me[s])+c,S=a(w[t],he[s],ue[s],me[s])-T,_&&(b=k),C&&(v=S))}if(_||C||d)for(g=b;g<=v;g+=he[s])o[g]=!l}}}var O,I,L,$={},E={},N=[],H=M(Le(this)),Y=Ne({},t.settings),P=Ne(t.settings,Dt.defaults,St,H,Y),F=n(P.invalid),W=n(P.valid),e=P.preset,R="datetime"==e?P.dateFormat+P.separator+P.timeFormat:"time"==e?P.timeFormat:P.dateFormat,j=H.format||R,q=P.dateWheels||P.dateFormat,B=P.timeWheels||P.timeFormat,X=P.dateWheels||P.dateDisplay,U=B,z=P.baseTheme||P.theme,K=P.min,G=P.max,Z=/time/i.test(e),J=/h/.test(U),Q=/D/.test(X),ee=P.steps||{},te=ee.hour||P.stepHour||1,se=ee.minute||P.stepMinute||1,ne=ee.second||P.stepSecond||1,ae=ee.zeroBased,ie=ae||!K?0:K.getHours()%te,re=ae||!K?0:K.getMinutes()%se,oe=ae||!K?0:K.getSeconds()%ne,le=i(te,ie,J?11:23),ce=i(se,re,59),de=i(se,re,59),ue={y:K?K.getFullYear():-(1/0),m:0,d:1,h:ie,i:re,s:oe,a:0,tt:0},me={y:G?G.getFullYear():1/0,m:11,d:31,h:le,i:ce,s:de,a:1,tt:86400},he={y:1,m:1,d:1,h:te,i:se,s:ne,a:1,tt:1},fe={"android-holo":40,bootstrap:46,ios:50,jqm:46,material:46,mobiscroll:46,wp:50},pe={y:r,m:o,d:l,h:c,i:d,s:u,u:m,a:h,dd:f,tt:p};return t.getDate=t.getVal=function(e){return t._hasValue||e?v(t.getArrayVal(e)):null},t.setDate=function(e,s,n,a,i){t.setArrayVal(g(e),s,i,a,n)},L=T(),t.format=R,t.order=$,t.handlers.now=function(){t.setDate(new Date,t.live,1e3,!0,!0)},t.buttons.now={text:P.nowText,icon:P.nowIcon,handler:"now"},{minWidth:I&&Z?fe[z]:void 0,compClass:"mbsc-dt",wheels:L,headerText:!!P.headerText&&function(){return Dt.formatDate(R,v(t.getArrayVal(!0)),P)},formatValue:function(e){return Dt.formatDate(j,v(e),P)},parseValue:function(e){return e||(E={}),g(e?Dt.parseDate(j,e,P):P.defaultValue&&P.defaultValue.getTime?P.defaultValue:new Date,!!e&&!!e.getTime)},validate:function(e){var s,n,a,i,r=e.values,o=e.index,l=e.direction,c=t.settings.wheels[0][$.d],d=D(v(r),l),u=g(d),m=[],h={},f=pe.y(d),p=pe.m(d),b=P.getMaxDayOfMonth(f,p),y=!0,x=!0;if(Le.each(["dd","y","m","d","tt","a","h","i","s"],function(e,t){if(void 0!==$[t]){var s=ue[t],a=me[t],i=pe[t](d);if(m[$[t]]=[],y&&K&&(s=pe[t](K)),x&&G&&(a=pe[t](G)),"y"!=t&&"dd"!=t)for(n=ue[t];n<=me[t];n+=he[t])(n<s||n>a)&&m[$[t]].push(n);if(i<s&&(i=s),i>a&&(i=a),y&&(y=i==s),x&&(x=i==a),"d"==t){var r=P.getDate(f,p,1).getDay(),o={};V(F,f,p,r,b,o,1),V(W,f,p,r,b,o,0),Le.each(o,function(e,s){s&&m[$[t]].push(e)})}}}),Z&&Le.each(["a","h","i","s","tt"],function(e,s){var n=pe[s](d),a=pe.d(d),i={};void 0!==$[s]&&(A(F,e,s,f,p,a,i,0),A(W,e,s,f,p,a,i,1),Le.each(i,function(e,t){t&&m[$[s]].push(e)}),N[e]=t.getValidValue($[s],n,l,i))}),c&&(c._length!==b||Q&&(void 0===o||o===$.y||o===$.m))){for(h[$.d]=c,c.data=[],s=1;s<=b;s++)i=P.getDate(f,p,s).getDay(),a=X.replace(/[my]/gi,"").replace(/dd/,(s<10?"0"+s:s)+(P.daySuffix||"")).replace(/d/,s+(P.daySuffix||"")),c.data.push({value:s,display:a.match(/DD/)?a.replace(/DD/,'<span class="mbsc-dt-day">'+P.dayNames[i]+"</span>"):a.replace(/D/,'<span class="mbsc-dt-day">'+P.dayNamesShort[i]+"</span>")});t._tempWheelArray[$.d]=u[$.d],t.changeWheel(h)}return{disabled:m,valid:u}}}};Le.each(["date","time","datetime"],function(e,t){ne.presets.scroller[t]=Vt}),["date","time","datetime"].forEach(function(e){ne.presetShort(e)}),e.module("mobiscroll-datetime",[]).directive("mobiscrollDatetime",["$parse",function(e){return ne.ng.getDDO(e,"mobiscrollDatetime",{preset:"datetime"})}]).directive("mobiscrollDate",["$parse",function(e){return ne.ng.getDDO(e,"mobiscrollDate",{preset:"date"})}]).directive("mobiscrollTime",["$parse",function(e){return ne.ng.getDDO(e,"mobiscrollTime",{preset:"time"})}]);var At={inputClass:"",values:5,order:"desc",style:"icon",invalid:[],icon:{filled:"star3",empty:"star3"}};ne.presetShort("rating"),ne.presets.scroller.rating=function(e){var t,s,n,a,i,r,o,l,c,d,u=Ne({},e.settings),m=Ne(e.settings,At,u),h=Le(this),f=this.id+"_dummy",p=Le('label[for="'+this.id+'"]').attr("for",f),b=void 0!==m.label?m.label:p.length?p.text():h.attr("name"),v=m.defaultValue,g=[[]],y={data:[],label:b,circular:!1},x={},w=[],_=!1,C="grade"===m.style?"circle":"icon";if(h.is("select")&&(m.values={},Le("option",h).each(function(){m.values[Le(this).val()]=Le(this).text()}),Le("#"+f).remove()),Le.isArray(m.values))for(s=0;s<m.values.length;s++)l=+m.values[s],isNaN(l)&&(l=s+1,_=!0),w.push({order:l,key:m.values[s],value:m.values[s]});else if(Le.isPlainObject(m.values)){s=1,_=!0;for(c in m.values)l=+c,isNaN(l)&&(l=s),w.push({order:l,key:c,value:m.values[c]}),s++}else for(s=1;s<=m.values;s++)w.push({order:s,key:s,value:s});for(void 0===m.showText&&_&&(m.showText=!0),void 0===m.icon.empty&&(m.icon.empty=m.icon.filled),w.sort(function(e,t){return"desc"==m.order?t.order-e.order:e.order-t.order}),d="desc"==m.order?w[0].order:w[w.length-1].order,s=0;s<w.length;s++){for(o=w[s].order,i=w[s].key,r=w[s].value,a="",n=1;n<o+1;n++)a+='<span class="mbsc-rating-'+C+("circle"===C?"":" mbsc-ic mbsc-ic-"+m.icon.filled)+' ">'+("circle"==C?n:" ")+"</span>";for(n=o+1;n<=d;n++)a+='<span class="mbsc-rating-'+C+("circle"===C?" mbsc-rating-circle-unf":" mbsc-ic mbsc-ic-"+(m.icon.empty?m.icon.empty+" mbsc-rating-icon-unf":"")+(m.icon.empty===m.icon.filled?" mbsc-rating-icon-same":""))+'"></span>';void 0===v&&(v=i),a+=m.showText?'<span class="mbsc-rating-txt">'+r+"</span>":"",y.data.push({value:i,display:a,label:r}),x[i]=r}return h.is("select")&&(t=Le('<input type="text" id="'+f+'" value="'+x[h.val()]+'" class="'+m.inputClass+'" placeholder="'+(m.placeholder||"")+'" readonly />').insertBefore(h)),g[0].push(y),t&&e.attachShow(t),h.is("select")&&h.hide().closest(".ui-field-contain").trigger("create"),e.getVal=function(t){var s=e._hasValue?e[t?"_tempWheelArray":"_wheelArray"][0]:null;return ne.util.isNumeric(s)?+s:s},{anchor:t,wheels:g,headerText:!1,compClass:"mbsc-rating",setOnTap:!0,formatValue:function(e){return x[e[0]]},parseValue:function(e){var s;for(s in x)if(t&&s==e||!t&&x[s]==e)return[s];return[v]},validate:function(){return{disabled:[m.invalid]}},onFill:function(s){t&&(t.val(s.valueText),h.val(e._tempWheelArray[0]))},onDestroy:function(){t&&t.remove(),h.show()}}},e.module("mobiscroll-rating",[]).directive("mobiscrollRating",["$parse",function(e){return ne.ng.getDDO(e,"mobiscrollRating",{preset:"rating"})}]);var Ot={invalid:[],showInput:!0,inputClass:""};ne.presets.scroller.list=function(e){function t(e,t,n){for(var a=0,i=[];a<e;)i[a]=s(n,a,t),a++;return i}function s(e,t,s){for(var n,a=0,i=s,r=[];a<t;){var o=e[a];for(n in i)if(i[n].key==o){i=i[n].children;break}a++}for(a=0;a<i.length;)i[a].invalid&&r.push(i[a].key),a++;return r}function n(e,t){for(var s=[];e;)s[--e]=!0;return s[t]=!1,s}function a(e){var t,s=[];for(t=0;t<e;t++)s[t]=v.labels&&v.labels[t]?v.labels[t]:t;return s}function i(e,t,s){var n,a,i,l=0,c=[[]],d=D;if(t)for(n=0;n<t;n++)y?c[0][n]={}:c[n]=[{}];for(;l<e.length;){for(y?c[0][l]=o(d,k[l]):c[l]=[o(d,k[l])],n=0,i=void 0;n<d.length&&void 0===i;)d[n].key==e[l]&&(void 0!==s&&l<=s||void 0===s)&&(i=n),n++;if(void 0!==i&&d[i].children)l++,d=d[i].children;else{if(!(a=r(d))||!a.children)return c;l++,d=a.children}}return c}function r(e,t){if(!e)return!1;for(var s,n=0;n<e.length;)if(!(s=e[n++]).invalid)return t?n-1:s;return!1}function o(e,t){for(var s={data:[],label:t},n=0;n<e.length;)s.data.push({value:e[n].key,display:e[n].value}),n++;return s}function l(t){e._isVisible&&Le(".mbsc-sc-whl-w",e._markup).css("display","").slice(t).hide()}function c(e){for(var t,s=[],n=e,a=!0,i=0;a;)t=r(n),s[i++]=t.key,a=t.children,a&&(n=a);return s}function d(e,t){var s,n,a,i=[],o=D,l=0,c=!1;if(void 0!==e[l]&&l<=t)for(s=0,n=e[l],a=void 0;s<o.length&&void 0===a;)o[s].key!=e[l]||o[s].invalid||(a=s),s++;else a=r(o,!0),n=o[a].key;for(c=void 0!==a&&o[a].children,i[l]=n;c;){if(o=o[a].children,l++,c=!1,a=void 0,void 0!==e[l]&&l<=t)for(s=0,n=e[l],a=void 0;s<o.length&&void 0===a;)o[s].key!=e[l]||o[s].invalid||(a=s),s++;else a=r(o,!0),a=a===!1?void 0:a,n=o[a].key;c=!(void 0===a||!r(o[a].children))&&o[a].children,i[l]=n}return{lvl:l+1,nVector:i}}function u(t){var s=[];return C=C>T++?C:T,t.children("li").each(function(t){var n=Le(this),a=n.clone();a.children("ul,ol").remove();var i=e._processMarkup?e._processMarkup(a):a.html().replace(/^\s\s*/,"").replace(/\s\s*$/,""),r=!!n.attr("data-invalid"),o={key:void 0===n.attr("data-val")||null===n.attr("data-val")?t:n.attr("data-val"),value:i,invalid:r,children:null},l=n.children("ul,ol");l.length&&(o.children=u(l)),s.push(o)}),T--,s}function m(t,s,n){var a,r=(s||0)+1,o=[],c={},d={};for(c=i(t,null,s),a=0;a<t.length;a++)e._tempWheelArray[a]=t[a]=n.nVector[a]||0;for(;r<n.lvl;)d[r]=y?c[0][r]:c[r][0],o.push(r++);l(n.lvl),M=t.slice(0),o.length&&(f=!0,e.changeWheel(d))}var h,f,p,b=Ne({},e.settings),v=Ne(e.settings,Ot,b),g=v.layout||(/top|bottom/.test(v.display)?"liquid":""),y="liquid"==g,x=v.readonly,w=Le(this),_=this.id+"_dummy",C=0,T=0,M=[],D=v.wheelArray||u(w),k=a(C),S=c(D),V=i(S,C);return Le("#"+_).remove(),v.input?h=Le(v.input):v.showInput&&(h=Le('<input type="text" id="'+_+'" value="" class="'+v.inputClass+'" placeholder="'+(v.placeholder||"")+'" readonly />').insertBefore(w)),h&&e.attachShow(h),v.wheelArray||w.hide(),{wheels:V,anchor:h,layout:g,headerText:!1,setOnTap:1==C,formatValue:function(e){return void 0===p&&(p=d(e,e.length).lvl),e.slice(0,p).join(" ")},parseValue:function(e){return e?(e+"").split(" "):(v.defaultValue||S).slice(0)},onBeforeShow:function(){var t=e.getArrayVal(!0);M=t.slice(0),v.wheels=i(t,C,C),f=!0},onWheelGestureStart:function(e){v.readonly=n(C,e.index)},onWheelAnimationEnd:function(t){var s=t.index,n=e.getArrayVal(!0),a=d(n,s);p=a.lvl,v.readonly=x,n[s]!=M[s]&&m(n,s,a)},onFill:function(e){p=void 0,h&&h.val(e.valueText)},validate:function(e){var s=e.values,n=e.index,a=d(s,s.length);return p=a.lvl,void 0===n&&(l(a.lvl),f||m(s,n,a)),f=!1,{disabled:t(p,D,s)}},onDestroy:function(){h&&Le("#"+_).remove(),w.show()}}},ne.presets.scroller.treelist=ne.presets.scroller.list,ne.presetShort("list"),ne.presetShort("treelist");var It=["ng-repeat","ng:repeat","data-ng-repeat","x-ng-repeat","ng_repeat"],Lt=+new Date;e.module("mobiscroll-treelist",[]).directive("mobiscrollRepeatRender",g).directive("mobiscrollTreelist",["$parse",function(e){return y("mobiscrollTreelist","treelist",e)}]),e.module("mobiscroll-list",[]).directive("mobiscrollRepeatRender",g).directive("mobiscrollList",["$parse",function(e){return y("mobiscrollList","treelist",e)}]);var $t=ne.presets.scroller;ne.presetShort("image"),$t.image=function(e){return e.settings.enhance&&(e._processMarkup=function(e){var t=e.attr("data-icon");return e.children().each(function(e,t){t=Le(t),t.is("img")?Le('<div class="mbsc-img-c"></div>').insertAfter(t).append(t.addClass("mbsc-img")):t.is("p")&&t.addClass("mbsc-img-txt")}),t&&e.prepend('<div class="mbsc-ic mbsc-ic-'+t+'"></div'),e.html('<div class="mbsc-img-w">'+e.html()+"</div>"),e.html()}),$t.list.call(this,e)},e.module("mobiscroll-image",[]).directive("mobiscrollRepeatRender",g).directive("mobiscrollImage",["$parse",function(e){return y("mobiscrollImage","image",e)}]);var Et=ne.presets.scroller,Nt=ne.classes,Ht=ne.util,Yt=Ht.datetime.adjustedDate,Pt=Ht.jsPrefix,Ft=Ht.testTouch,Wt=Ht.getCoord,Rt=Ht.animEnd,jt=new Date,qt={min:new Date(jt.getFullYear()-100,0,1),max:new Date(jt.getFullYear()+1,11,31,23,59,59),controls:["calendar"],firstDay:0,weekDays:"short",maxMonthWidth:170,months:1,preMonths:1,highlight:!0,outerMonthChange:!0,quickNav:!0,yearChange:!0,todayClass:"mbsc-cal-today",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left6",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right6",dateText:"Date",timeText:"Time",calendarText:"Calendar",todayText:"Today",prevMonthText:"Previous Month",nextMonthText:"Next Month",prevYearText:"Previous Year",nextYearText:"Next Year"};Et.calbase=function(e){function t(e){var t;Ce=Le(this),Te=!1,"keydown"!=e.type?(we=Wt(e,"X"),_e=Wt(e,"Y"),t=Ft(e,this)):t=32===e.keyCode,Me||!t||Ce.hasClass("mbsc-fr-btn-d")||(Me=!0,setTimeout(a,100),"mousedown"==e.type&&Le(document).on("mousemove",s).on("mouseup",n))}function s(e){(Math.abs(we-Wt(e,"X"))>7||Math.abs(_e-Wt(e,"Y"))>7)&&(Me=!1,Ce.removeClass("mbsc-fr-btn-a"))}function n(e){"touchend"==e.type&&e.preventDefault(),Ce&&!Te&&a(),Me=!1,"mouseup"==e.type&&Le(document).off("mousemove",s).off("mouseup",n)}function a(){Te=!0,Ce.hasClass("mbsc-cal-prev-m")?C():Ce.hasClass("mbsc-cal-next-m")?_():Ce.hasClass("mbsc-cal-prev-y")?M(Ce):Ce.hasClass("mbsc-cal-next-y")&&T(Ce)}function i(e){return!(e<Yt(ce.getFullYear(),ce.getMonth(),ce.getDate()))&&(!(e>de)&&(void 0===ve[e]||void 0!==be[e]))}function r(e,t,s){var n,a,i,r,o={},l=st+Se;return e&&Le.each(e,function(e,c){if(n=c.d||c.start||c,a=n+"",c.start&&c.end)for(r=new Date(c.start);r<=c.end;)i=Yt(r.getFullYear(),r.getMonth(),r.getDate()),o[i]=o[i]||[],o[i].push(c),r.setDate(r.getDate()+1);else if(n.getTime)i=Yt(n.getFullYear(),n.getMonth(),n.getDate()),o[i]=o[i]||[],o[i].push(c);else if(a.match(/w/i)){var d=+a.replace("w",""),u=0,m=Be.getDate(t,s-st-Ve,1).getDay();for(Be.firstDay-m+1>1&&(u=7),L=0;L<5*ke;L++)i=Be.getDate(t,s-st-Ve,7*L-u-m+1+d),o[i]=o[i]||[],o[i].push(c)}else if(a=a.split("/"),a[1])s+l>=11&&(i=Be.getDate(t+1,a[0]-1,a[1]),o[i]=o[i]||[],o[i].push(c)),s-l<=1&&(i=Be.getDate(t-1,a[0]-1,a[1]),o[i]=o[i]||[],o[i].push(c)),i=Be.getDate(t,a[0]-1,a[1]),o[i]=o[i]||[],o[i].push(c);else for(L=0;L<ke;L++)i=Be.getDate(t,s-st-Ve+L,a[0]),Be.getDay(i)==a[0]&&(o[i]=o[i]||[],o[i].push(c))}),o}function o(t,s){ve=r(Be.invalid,t,s),be=r(Be.valid,t,s),e.onGenMonth(t,s)}function l(e,t,s,n,a,i,r){var o='<div class="mbsc-cal-h mbsc-cal-sc-c mbsc-cal-'+e+"-c "+(Be.calendarClass||"")+'"><div class="mbsc-cal-sc"><div class="mbsc-cal-sc-p"><div class="mbsc-cal-sc-tbl"><div class="mbsc-cal-sc-row">';for(I=1;I<=t;I++)o+=I<=12||I>s?'<div class="mbsc-cal-sc-m-cell mbsc-cal-sc-cell mbsc-cal-sc-empty"><div class="mbsc-cal-sc-cell-i">&nbsp;</div></div>':'<div tabindex="0" role="button"'+(i?' aria-label="'+i[I-13]+'"':"")+' class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-cal-sc-m-cell mbsc-cal-sc-cell mbsc-cal-'+e+'-s" data-val='+(n+I-13)+'><div class="mbsc-cal-sc-cell-i mbsc-cal-sc-tbl"><div class="mbsc-cal-sc-cell">'+(r?r[I-13]:n+I-13+a)+"</div></div></div>",
I<t&&(I%12===0?o+='</div></div></div><div class="mbsc-cal-sc-p" style="'+(et?"top":Ze?"right":"left")+":"+100*Math.round(I/12)+'%"><div class="mbsc-cal-sc-tbl"><div class="mbsc-cal-sc-row">':I%3===0&&(o+='</div><div class="mbsc-cal-sc-row">'));return o+="</div></div></div></div></div>"}function c(t,s){var n,a,r,o,l,c,d,u,m,h,f,p,b,v,g,y,x=1,w=0,_=Be.getDate(t,s,1),C=Be.getYear(_),T=Be.getMonth(_),M=null!==Be.defaultValue||e._hasValue?e.getDate(!0):null,D=Be.getDate(C,T,1).getDay(),k='<div class="mbsc-cal-table">',S='<div class="mbsc-cal-week-nr-c">';for(Be.firstDay-D+1>1&&(w=7),y=0;y<42;y++)g=y+Be.firstDay-w,n=Be.getDate(C,T,g-D+1),r=n.getFullYear(),o=n.getMonth(),l=n.getDate(),c=Be.getMonth(n),d=Be.getDay(n),v=Be.getMaxDayOfMonth(r,o),u=r+"-"+o+"-"+l,m=Ne({valid:i(n),selected:M&&M.getFullYear()===r&&M.getMonth()===o&&M.getDate()===l},e.getDayProps(n,M)),h=m.valid,f=m.selected,a=m.cssClass,p=new Date(n).setHours(12,0,0,0)===(new Date).setHours(12,0,0,0),b=c!==T,Re[u]=m,y%7===0&&(k+=(y?"</div>":"")+'<div class="mbsc-cal-row'+(Be.highlight&&M&&M-n>=0&&M-n<6048e5?" mbsc-cal-week-hl":"")+'">'),Ue&&1==n.getDay()&&("month"==Ue&&b&&x>1?x=1==l?1:2:"year"==Ue&&(x=Be.getWeekNumber(n)),S+='<div class="mbsc-cal-week-nr"><div class="mbsc-cal-week-nr-i">'+x+"</div></div>",x++),k+='<div role="button" tabindex="-1" aria-label="'+(p?Be.todayText+", ":"")+Be.dayNames[n.getDay()]+", "+Be.monthNames[c]+" "+d+" "+(m.ariaLabel?", "+m.ariaLabel:"")+'"'+(b&&!Oe?' aria-hidden="true"':"")+(f?' aria-selected="true"':"")+(h?"":' aria-disabled="true"')+' data-day="'+g%7+'" data-full="'+u+'"class="mbsc-cal-day '+(Be.dayClass||"")+(f?" mbsc-cal-day-sel":"")+(p?" "+Be.todayClass:"")+(a?" "+a:"")+(1==d?" mbsc-cal-day-first":"")+(d==v?" mbsc-cal-day-last":"")+(b?" mbsc-cal-day-diff":"")+(h?" mbsc-cal-day-v mbsc-fr-btn-e mbsc-fr-btn-nhl":" mbsc-cal-day-inv")+'"><div class="mbsc-cal-day-i '+(f?lt:"")+" "+(Be.innerDayClass||"")+'"><div class="mbsc-cal-day-fg">'+d+"</div>"+(m.markup||"")+'<div class="mbsc-cal-day-frame"></div></div></div>';return k+="</div></div>"+S+"</div>"}function d(e,t,s){var n=Be.getDate(e,t,1),a=Be.getYear(n),i=Be.getMonth(n),r=a+ot;if(tt){if($e&&$e.removeClass("mbsc-cal-sc-sel").removeAttr("aria-selected").find(".mbsc-cal-sc-cell-i").removeClass(lt),Ee&&Ee.removeClass("mbsc-cal-sc-sel").removeAttr("aria-selected").find(".mbsc-cal-sc-cell-i").removeClass(lt),$e=Le('.mbsc-cal-year-s[data-val="'+a+'"]',N).addClass("mbsc-cal-sc-sel").attr("aria-selected","true"),Ee=Le('.mbsc-cal-month-s[data-val="'+i+'"]',N).addClass("mbsc-cal-sc-sel").attr("aria-selected","true"),$e.find(".mbsc-cal-sc-cell-i").addClass(lt),Ee.find(".mbsc-cal-sc-cell-i").addClass(lt),Ie&&Ie.scroll($e,s),Le(".mbsc-cal-month-s",N).removeClass("mbsc-fr-btn-d"),a===ne)for(I=0;I<ie;I++)Le('.mbsc-cal-month-s[data-val="'+I+'"]',N).addClass("mbsc-fr-btn-d");if(a===ae)for(I=re+1;I<=12;I++)Le('.mbsc-cal-month-s[data-val="'+I+'"]',N).addClass("mbsc-fr-btn-d")}for(1==te.length&&te.attr("aria-label",a).html(r),I=0;I<De;++I)n=Be.getDate(e,t-Ve+I,1),a=Be.getYear(n),i=Be.getMonth(n),r=a+ot,Le(Q[I]).attr("aria-label",Be.monthNames[i]+(nt?"":" "+a)).html((!nt&&se<ee?r+" ":"")+G[i]+(!nt&&se>ee?" "+r:"")),te.length>1&&Le(te[I]).html(r);Be.getDate(e,t-Ve-1,1)<oe?m(Le(".mbsc-cal-prev-m",N)):u(Le(".mbsc-cal-prev-m",N)),Be.getDate(e,t+De-Ve,1)>le?m(Le(".mbsc-cal-next-m",N)):u(Le(".mbsc-cal-next-m",N)),Be.getDate(e,t,1).getFullYear()<=oe.getFullYear()?m(Le(".mbsc-cal-prev-y",N)):u(Le(".mbsc-cal-prev-y",N)),Be.getDate(e,t,1).getFullYear()>=le.getFullYear()?m(Le(".mbsc-cal-next-y",N)):u(Le(".mbsc-cal-next-y",N))}function u(e){e.removeClass(ut).find(".mbsc-cal-btn-txt").removeAttr("aria-disabled")}function m(e){e.addClass(ut).find(".mbsc-cal-btn-txt").attr("aria-disabled","true")}function h(t){e.trigger("onDayHighlight",{date:t}),Be.highlight&&(Le(".mbsc-cal-day-sel .mbsc-cal-day-i",Y).removeClass(lt),Le(".mbsc-cal-day-sel",Y).removeClass("mbsc-cal-day-sel").removeAttr("aria-selected"),Le(".mbsc-cal-week-hl",Y).removeClass("mbsc-cal-week-hl"),(null!==Be.defaultValue||e._hasValue)&&Le('.mbsc-cal-day[data-full="'+t.getFullYear()+"-"+t.getMonth()+"-"+t.getDate()+'"]',Y).addClass("mbsc-cal-day-sel").attr("aria-selected","true").find(".mbsc-cal-day-i").addClass(lt).closest(".mbsc-cal-row").addClass("mbsc-cal-week-hl"))}function f(t,s){if(j&&("calendar"===ye||s)){var n,a,i=Be.getDate(me,he,1),r=Math.abs(12*(Be.getYear(t)-Be.getYear(i))+Be.getMonth(t)-Be.getMonth(i));e.needsSlide&&r&&(me=Be.getYear(t),he=Be.getMonth(t),t>i?(a=r>st-Ve+De-1,he-=a?0:r-st,n="next"):t<i&&(a=r>st+Ve,he+=a?0:r-st,n="prev"),g(me,he,n,Math.min(r,st),a,!0)),s||(ue=t,h(t)),e.needsSlide=!0}}function p(t,s,n){if(n||e.trigger("onMonthLoading",{year:t,month:s}),o(t,s),Pe.length)for(I=0;I<ke;I++)Pe[I].html(c(t,s-Ve-st+I));v(),Ae=void 0,e.trigger("onMonthLoaded",{year:t,month:s})}function b(e,t){for(var s=st,n=st;n&&Be.getDate(e,t+n+De-Ve-1,1)>le;)n--;for(;s&&Be.getDate(e,t-s-Ve,1)<oe;)s--;Ne(Z.settings,{contSize:De*F,snap:F,minScroll:W-(Ze?s:n)*F,maxScroll:W+(Ze?n:s)*F}),Z.refresh()}function v(){Ue&&U.html(Le(".mbsc-cal-week-nr-c",Pe[st]).html()),Le(".mbsc-cal-slide-a .mbsc-cal-day",P).attr("tabindex",0)}function g(t,s,n,a,i,r,l){if(t&&Fe.push({y:t,m:s,dir:n,slideNr:a,load:i,active:r,callback:l}),!xe&&Fe.length){var u,m=Fe.shift();if(t=m.y,s=m.m,n="next"===m.dir,a=m.slideNr,i=m.load,r=m.active,l=m.callback||je,u=Be.getDate(t,s,1),t=Be.getYear(u),s=Be.getMonth(u),xe=!0,e.changing=!0,e.trigger("onMonthChange",{year:t,month:s}),e.trigger("onMonthLoading",{year:t,month:s}),o(t,s),i)for(I=0;I<De;I++)Pe[n?ke-De+I:I].html(c(t,s-Ve+I));r&&Ye.addClass("mbsc-cal-slide-a"),setTimeout(function(){e.ariaMessage(Be.monthNames[s]+" "+t),d(t,s,200),W=n?W-F*a*Je:W+F*a*Je,Z.scroll(W,r?200:0,!1,function(){var r;if(X=W,Pe.length){if(Ye.removeClass("mbsc-cal-slide-a").attr("aria-hidden","true"),n)for(r=Pe.splice(0,a),I=0;I<a;I++)Pe.push(r[I]),x(Pe[Pe.length-1],+Pe[Pe.length-2].attr("data-curr")+100*Je);else for(r=Pe.splice(ke-a,a),I=a-1;I>=0;I--)Pe.unshift(r[I]),x(Pe[0],+Pe[1].attr("data-curr")-100*Je);for(I=0;I<a;I++)Pe[n?ke-a+I:I].html(c(t,s-Ve-st+I+(n?ke-a:0))),i&&Pe[n?I:ke-a+I].html(c(t,s-Ve-st+I+(n?0:ke-a)));for(I=0;I<De;I++)Pe[st+I].addClass("mbsc-cal-slide-a").removeAttr("aria-hidden");b(t,s),xe=!1}Fe.length?setTimeout(function(){g()},10):(me=t,he=s,e.changing=!1,Le(".mbsc-cal-day",P).attr("tabindex",-1),v(),void 0!==Ae?p(t,s,Ae):e.trigger("onMonthLoaded",{year:t,month:s}),l())})},10)}}function y(){var t=Le(this),s=e.live,n=e.getDate(!0),a=t.attr("data-full"),i=a.split("-"),r=Yt(i[0],i[1],i[2]),o=Yt(r.getFullYear(),r.getMonth(),r.getDate(),n.getHours(),n.getMinutes(),n.getSeconds()),l=t.hasClass("mbsc-cal-day-sel");!Oe&&t.hasClass("mbsc-cal-day-diff")||e.trigger("onDayChange",Ne(Re[a],{date:o,target:this,selected:l}))!==!1&&(e.needsSlide=!1,R=!0,e.setDate(o,s,.2,!s,!0),Be.outerMonthChange&&(Me=!0,r<Be.getDate(me,he-Ve,1)?C():r>Be.getDate(me,he-Ve+De,0)&&_(),Me=!1),e.live&&e.trigger("onSet",{valueText:e._value}))}function x(e,t){e.attr("data-curr",t),e[0].style[Pt+"Transform"]="translate3d("+(et?"0,"+t+"%,":t+"%,0,")+"0)"}function w(t){e.isVisible()&&j&&(e.changing?Ae=t:p(me,he,t))}function _(){Me&&Be.getDate(me,he+De-Ve,1)<=le&&g(me,++he,"next",1,!1,!0,_)}function C(){Me&&Be.getDate(me,he-Ve-1,1)>=oe&&g(me,--he,"prev",1,!1,!0,C)}function T(e){Me&&Be.getDate(me,he,1)<=Be.getDate(Be.getYear(le)-1,Be.getMonth(le)-Se,1)?g(++me,he,"next",st,!0,!0,function(){T(e)}):Me&&!e.hasClass("mbsc-fr-btn-d")&&g(Be.getYear(le),Be.getMonth(le)-Se,"next",st,!0,!0)}function M(e){Me&&Be.getDate(me,he,1)>=Be.getDate(Be.getYear(oe)+1,Be.getMonth(oe)+Ve,1)?g(--me,he,"prev",st,!0,!0,function(){M(e)}):Me&&!e.hasClass("mbsc-fr-btn-d")&&g(Be.getYear(oe),Be.getMonth(oe)+Ve,"prev",st,!0,!0)}function D(t,s){t.hasClass("mbsc-cal-v")||(t.addClass("mbsc-cal-v"+(s?"":" mbsc-cal-p-in")).removeClass("mbsc-cal-p-out mbsc-cal-h"),e.trigger("onSelectShow"))}function k(e,t){e.hasClass("mbsc-cal-v")&&e.removeClass("mbsc-cal-v mbsc-cal-p-in").addClass("mbsc-cal-h"+(t?"":" mbsc-cal-p-out"))}function S(e,t){(t||e).hasClass("mbsc-cal-v")?k(e):D(e)}function V(){Le(this).removeClass("mbsc-cal-p-out mbsc-cal-p-in")}function A(e){return e[0].innerWidth||e.innerWidth()}var O,I,L,$,E,N,H,Y,P,F,W,R,j,q,B,X,U,z,K,G,Z,J,Q,ee,te,se,ne,ae,ie,re,oe,le,ce,de,ue,me,he,fe,pe,be,ve,ge,ye,xe,we,_e,Ce,Te,Me,De,ke,Se,Ve,Ae,Oe,Ie,$e,Ee,He=this,Ye=[],Pe=[],Fe=[],We={},Re={},je=function(){},qe=Ne({},e.settings),Be=Ne(e.settings,qt,qe),Xe="full"==Be.weekDays?"":"min"==Be.weekDays?"Min":"Short",Ue=Be.weekCounter,ze=Be.layout||(/top|bottom|inline/.test(Be.display)?"liquid":""),Ke="liquid"==ze&&"bubble"!==Be.display,Ge="center"==Be.display,Ze=Be.rtl,Je=Ze?-1:1,Qe=Ke?null:Be.calendarWidth,et="vertical"==Be.calendarScroll,tt=Be.quickNav,st=Be.preMonths,nt=Be.yearChange,at=Be.controls.join(","),it=(Be.tabs===!0||Be.tabs!==!1&&Ke)&&Be.controls.length>1,rt=!it&&void 0===Be.tabs&&!Ke&&Be.controls.length>1,ot=Be.yearSuffix||"",lt=Be.activeClass||"",ct="mbsc-cal-tab-sel "+(Be.activeTabClass||""),dt=Be.activeTabInnerClass||"",ut="mbsc-fr-btn-d "+(Be.disabledClass||""),mt=et?"Y":"X",ht="",ft="";return at.match(/calendar/)?j=!0:tt=!1,at.match(/date/)&&(We.date=1),at.match(/time/)&&(We.time=1),j&&We.date&&(it=!0,rt=!1),Be.layout=ze,Be.preset=(We.date||j?"date":"")+(We.time?"time":""),"inline"==Be.display&&Le(this).closest('[data-role="page"]').on("pageshow",function(){e.position()}),e.changing=!1,e.needsSlide=!0,e.getDayProps=je,e.onGenMonth=je,e.prepareObj=r,e.refresh=function(){w(!1)},e.redraw=function(){w(!0)},e.navigate=function(t,s){var n,a,i=e.isVisible();Fe=[],s&&i?f(t,!0):(n=Be.getYear(t),a=Be.getMonth(t),!i||n==me&&a==he||(xe=!1,e.changing=!1,e.trigger("onMonthChange",{year:n,month:a}),d(n,a),p(n,a),W=X,Z.scroll(W),b(t.getFullYear(),t.getMonth())),me=n,he=a)},e.showMonthView=function(){tt&&!K&&(k(ft,!0),k(ht,!0),D(z,!0),K=!0)},e.changeTab=function(t){e._isVisible&&We[t]&&ye!=t&&(ye=t,Le(".mbsc-cal-pnl",N).removeClass("mbsc-cal-p-in").addClass("mbsc-cal-pnl-h"),Le(".mbsc-cal-tab",N).removeClass(ct).removeAttr("aria-selected").find(".mbsc-cal-tab-i").removeClass(dt),Le('.mbsc-cal-tab[data-control="'+t+'"]',N).addClass(ct).attr("aria-selected","true").find(".mbsc-cal-tab-i").addClass(dt),We[ye].removeClass("mbsc-cal-pnl-h").addClass("mbsc-cal-p-in"),"calendar"==ye&&(O=e.getDate(!0),O.getFullYear()===ue.getFullYear()&&O.getMonth()===ue.getMonth()&&O.getDate()===ue.getDate()||f(O)),e.showMonthView(),e.trigger("onTabChange",{tab:ye}))},$=Et.datetime.call(this,e),ee=(Be.dateWheels||Be.dateFormat).search(/m/i),se=(Be.dateWheels||Be.dateFormat).search(/y/i),Ne($,{ariaMessage:Be.calendarText,onMarkupReady:function(a){var i,r,o="";if(N=Le(a.target),H="inline"==Be.display?Le(this).is("div")?Le(this):Le(this).parent():e._window,ue=e.getDate(!0),me||(me=Be.getYear(ue),he=Be.getMonth(ue)),W=0,X=0,B=!0,xe=!1,G=Be.monthNames,ye="calendar",Be.min&&(oe=Yt(Be.min.getFullYear(),Be.min.getMonth(),1),ce=Be.min),Be.max&&(le=Yt(Be.max.getFullYear(),Be.max.getMonth(),1),de=Be.max),N.addClass("mbsc-calendar"),E=Le(".mbsc-fr-popup",N),ge=Le(".mbsc-fr-c",N),We.date?We.date=Le(".mbsc-sc-whl-gr-c",N).eq(0):j&&Le(".mbsc-sc-whl-gr-c",N).eq(0).addClass("mbsc-cal-hdn"),We.time&&(We.time=Le(".mbsc-sc-whl-gr-c",N).eq(1)),j){for(De="auto"==Be.months?Math.max(1,Math.min(3,Math.floor((Qe||A(H))/280))):Be.months,ke=De+2*st,Se=Math.floor(De/2),Ve=Math.round(De/2)-1,Oe=void 0===Be.showOuterDays?De<2:Be.showOuterDays,et=et&&De<2,r='<div class="mbsc-cal-btnw"><div class="'+(Ze?"mbsc-cal-next-m":"mbsc-cal-prev-m")+' mbsc-cal-prev mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"><div role="button" tabindex="0" class="mbsc-cal-btn-txt '+(Be.btnCalPrevClass||"")+'" aria-label="'+Be.prevMonthText+'"></div></div>',I=0;I<De;++I)r+='<div class="mbsc-cal-btnw-m" style="width: '+100/De+'%"><span role="button" class="mbsc-cal-month"></span></div>';for(r+='<div class="'+(Ze?"mbsc-cal-prev-m":"mbsc-cal-next-m")+' mbsc-cal-next mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"><div role="button" tabindex="0" class="mbsc-cal-btn-txt '+(Be.btnCalNextClass||"")+'" aria-label="'+Be.nextMonthText+'"></div></div></div>',nt&&(o='<div class="mbsc-cal-btnw"><div class="'+(Ze?"mbsc-cal-next-y":"mbsc-cal-prev-y")+' mbsc-cal-prev mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"><div role="button" tabindex="0" class="mbsc-cal-btn-txt '+(Be.btnCalPrevClass||"")+'" aria-label="'+Be.prevYearText+'"></div></div><span role="button" class="mbsc-cal-year"></span><div class="'+(Ze?"mbsc-cal-prev-y":"mbsc-cal-next-y")+' mbsc-cal-next mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"><div role="button" tabindex="0" class="mbsc-cal-btn-txt '+(Be.btnCalNextClass||"")+'" aria-label="'+Be.nextYearText+'"></div></div></div>'),tt&&(ne=Be.getYear(oe),ae=Be.getYear(le),ie=Be.getMonth(oe),re=Be.getMonth(le),pe=Math.ceil((ae-ne+1)/12)+2,ht=l("month",36,24,0,"",Be.monthNames,Be.monthNamesShort),ft=l("year",12*pe,ae-ne+13,ne,ot)),q='<div class="mbsc-w-p mbsc-cal-c"><div class="mbsc-cal mbsc-cal-hl-now '+(De>1?" mbsc-cal-multi ":"")+(Ue?" mbsc-cal-weeks ":"")+(et?" mbsc-cal-vertical":"")+(Oe?"":" mbsc-cal-hide-diff ")+(Be.calendarClass||"")+'"><div class="mbsc-cal-header"><div class="mbsc-cal-btnc '+(nt?"mbsc-cal-btnc-ym":"mbsc-cal-btnc-m")+'">'+(se<ee||De>1?o+r:r+o)+'</div></div><div class="mbsc-cal-body"><div class="mbsc-cal-m-c mbsc-cal-v"><div class="mbsc-cal-days-c">',L=0;L<De;++L){for(q+='<div aria-hidden="true" class="mbsc-cal-days" style="width: '+100/De+'%"><table cellpadding="0" cellspacing="0"><tr>',I=0;I<7;I++)q+="<th>"+Be["dayNames"+Xe][(I+Be.firstDay)%7]+"</th>";q+="</tr></table></div>"}for(q+='</div><div class="mbsc-cal-week-nrs-c '+(Be.weekNrClass||"")+'"><div class="mbsc-cal-week-nrs"></div></div><div class="mbsc-cal-anim-c '+(Be.calendarClass||"")+'"><div class="mbsc-cal-anim">',I=0;I<De+2*st;I++)q+='<div class="mbsc-cal-slide" aria-hidden="true"></div>';q+="</div></div></div>"+ht+ft+"</div></div></div>",We.calendar=Le(q)}if(Le.each(Be.controls,function(e,t){We[t]=Le('<div class="mbsc-cal-pnl" id="'+(He.id+"_dw_pnl_"+e)+'"></div>').append(Le('<div class="mbsc-cal-pnl-i"></div>').append(We[t])).appendTo(ge)}),i='<div class="mbsc-cal-tabs"><ul role="tablist">',Le.each(Be.controls,function(e,t){We[t]&&(i+='<li role="tab" aria-controls="'+(He.id+"_dw_pnl_"+e)+'" class="mbsc-cal-tab '+(e?"":ct)+'" data-control="'+t+'"><a href="#" class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-cal-tab-i '+(e?"":dt)+'">'+Be[t+"Text"]+"</a></li>")}),i+="</ul></div>",ge.before(i),Y=Le(".mbsc-cal-anim-c",N),P=Le(".mbsc-cal-anim",Y),U=Le(".mbsc-cal-week-nrs",N),j){for(K=!0,Ye=Le(".mbsc-cal-slide",P).each(function(e,t){Pe.push(Le(t))}),Ye.slice(st,st+De).addClass("mbsc-cal-slide-a").removeAttr("aria-hidden"),I=0;I<ke;I++)x(Pe[I],100*(I-st)*Je);p(me,he),Z=new Nt.ScrollView(Y[0],{axis:mt,easing:"",contSize:0,snap:1,maxSnapScroll:st,moveElement:P,mousewheel:Be.mousewheel,time:200,lock:!0,stopProp:!1,minScroll:-(1/0),maxScroll:1/0,onAnimationEnd:function(e){var t=Math.round((e["pos"+mt]-W)/F)*Je;t&&g(me,he-t,t>0?"prev":"next",t>0?t:-t)}})}Q=Le(".mbsc-cal-month",N),te=Le(".mbsc-cal-year",N),z=Le(".mbsc-cal-m-c",N),tt&&(z.on(Rt,V),ht=Le(".mbsc-cal-month-c",N).on(Rt,V),ft=Le(".mbsc-cal-year-c",N).on(Rt,V),fe={axis:mt,contSize:0,snap:1,maxSnapScroll:1,rtl:Be.rtl,mousewheel:Be.mousewheel,time:200,stopProp:!1,minScroll:-(1/0),maxScroll:1/0},Ie=new Nt.ScrollView(ft[0],fe),J=new Nt.ScrollView(ht[0],fe)),Ke?N.addClass("mbsc-cal-liq"):Le(".mbsc-cal",N).width(Qe||280*De),Be.calendarHeight&&Le(".mbsc-cal-anim-c",N).height(Be.calendarHeight),e.tap(Y,function(e){var t=Le(e.target);xe||Z.scrolled||Be.readonly===!0||(t=t.closest(".mbsc-cal-day",this),t.hasClass("mbsc-cal-day-v")&&y.call(t[0]))}),Le(".mbsc-cal-btn",N).on("touchstart mousedown keydown",t).on("touchmove",s).on("touchend touchcancel keyup",n),Le(".mbsc-cal-tab",N).on("touchstart click",function(t){Ft(t,this)&&e.changeTab(Le(this).attr("data-control"))}),tt&&(e.tap(Le(".mbsc-cal-month",N),function(){ft.hasClass("mbsc-cal-v")||(S(z),K=z.hasClass("mbsc-cal-v")),S(ht),k(ft)}),e.tap(Le(".mbsc-cal-year",N),function(){ft.hasClass("mbsc-cal-v")||Ie.scroll($e),ht.hasClass("mbsc-cal-v")||(S(z),K=z.hasClass("mbsc-cal-v")),S(ft),k(ht)}),e.tap(Le(".mbsc-cal-month-s",N),function(){J.scrolled||Le(this).hasClass("mbsc-fr-btn-d")||e.navigate(Be.getDate(me,Le(this).attr("data-val"),1))}),e.tap(Le(".mbsc-cal-year-s",N),function(){Ie.scrolled||(O=Be.getDate(me,he,1),O=Be.getDate(Le(this).attr("data-val"),O.getMonth(),1),e.navigate(new Date(Ht.constrain(O,oe,le))))}),e.tap(ft,function(){Ie.scrolled||(k(ft),D(z),K=!0)}),e.tap(ht,function(){J.scrolled||(k(ht),D(z),K=!0)}))},onShow:function(){j&&d(me,he)},onPosition:function(t){var s,n,a,i,r,o,l=0,c=0,d=0,u=t.windowHeight;if(Ke&&(Ge&&Y.height(""),ge.height(""),P.width("")),F&&(r=F),j&&(F=Math.round(Math.round(Y[0][et?"offsetHeight":"offsetWidth"])/De)),F&&(N.removeClass("mbsc-cal-m mbsc-cal-l"),F>1024?N.addClass("mbsc-cal-l"):F>640&&N.addClass("mbsc-cal-m")),(it&&(B||Ke)||rt)&&(Le(".mbsc-cal-pnl",N).removeClass("mbsc-cal-pnl-h"),Le.each(We,function(e,t){s=t[0].offsetWidth,l=Math.max(l,s),c=Math.max(c,t[0].offsetHeight),d+=s}),it||rt&&d>A(H)?(n=!0,ye=Le(".mbsc-cal-tabs .mbsc-cal-tab-sel",N).attr("data-control"),E.addClass("mbsc-cal-tabbed")):(ye="calendar",l="",c="",E.removeClass("mbsc-cal-tabbed"),ge.css({width:"",height:""}))),Ke&&Ge&&j&&(e._isFullScreen=!0,n&&ge.height(We.calendar[0].offsetHeight),i=E[0].offsetHeight,u>=i&&Y.height(u-i+Y[0].offsetHeight),c=Math.max(c,We.calendar[0].offsetHeight)),n&&(ge.css({width:Ke?"":l,height:c}),j&&(F=Math.round(Math.round(Y[0][et?"offsetHeight":"offsetWidth"])/De))),F){if(P[et?"height":"width"](F),F!==r){if(nt)for(G=Be.maxMonthWidth>Le(".mbsc-cal-btnw-m",N).width()?Be.monthNamesShort:Be.monthNames,I=0;I<De;++I)Le(Q[I]).text(G[Be.getMonth(Be.getDate(me,he-Ve+I,1))]);tt&&(o=ft[0][et?"offsetHeight":"offsetWidth"],Ne(Ie.settings,{contSize:o,snap:o,minScroll:(2-pe)*o,maxScroll:-o}),Ne(J.settings,{contSize:o,snap:o,minScroll:-o,maxScroll:-o}),Ie.refresh(),J.refresh(),ft.hasClass("mbsc-cal-v")&&Ie.scroll($e)),Ke&&!B&&r&&(a=W/r,W=a*F,X=W),b(me,he)}}else F=r;n&&(Le(".mbsc-cal-pnl",N).addClass("mbsc-cal-pnl-h"),We[ye].removeClass("mbsc-cal-pnl-h")),e.trigger("onCalResize"),B=!1},onHide:function(){Fe=[],Pe=[],ye=null,me=null,he=null,xe=!0,F=0,Z&&Z.destroy(),tt&&Ie&&J&&(Ie.destroy(),J.destroy())},onValidated:function(t){var s,n,a;if(n=e.getDate(!0),R)s="calendar";else for(a in e.order)a&&e.order[a]===t&&(s=/[mdy]/.test(a)?"date":"time");e.trigger("onSetDate",{date:n,control:s}),f(n),R=!1}}),$};var Bt=ne.util,Xt=Bt.datetime,Ut=Xt.adjustedDate,zt=ne.presets.scroller,Kt={};ne.presetShort("calendar"),zt.calendar=function(e){function t(e){if(e){if(m[e])return m[e];var t=Le('<div style="background-color:'+e+';"></div>').appendTo("body"),s=window.getComputedStyle?getComputedStyle(t[0]):t[0].style,n=s.backgroundColor.replace(/rgb|rgba|\(|\)|\s/g,"").split(","),a=.299*n[0]+.587*n[1]+.114*n[2],i=a>130?"#000":"#fff";return t.remove(),m[e]=i,i}}function s(e){return Ut(e.getFullYear(),e.getMonth(),e.getDate())}function n(e){if(y={},e&&e.length)for(l=0;l<e.length;l++)y[s(e[l])]=e[l]}function a(){e.refresh()}var i,r,o,l,c,d,u,m={},h=Ne({},e.settings),f=Ne(e.settings,Kt,h),p=f.activeClass||"",b="multiple"==f.select||f.select>1||"week"==f.selectType,v=Bt.isNumeric(f.select)?f.select:1/0,g=!!f.events,y={};if(u=zt.calbase.call(this,e),i=Ne({},u),o=void 0===f.firstSelectDay?f.firstDay:f.firstSelectDay,b&&f.defaultValue&&f.defaultValue.length)for(l=0;l<f.defaultValue.length;l++)y[s(f.defaultValue[l])]=f.defaultValue[l];return e.onGenMonth=function(t,s){c=e.prepareObj(f.events||f.marked,t,s)},e.getDayProps=function(e){var s,n=b?void 0!==y[e]:void 0,a=!!c[e]&&c[e],i=a&&a[0]&&a[0].text,r=a&&a[0]&&a[0].color,o=g&&i?t(r):"",l="",d="";if(a){for(s=0;s<a.length;s++)a[s].icon&&(l+='<span class="mbsc-ic mbsc-ic-'+a[s].icon+'"'+(a[s].text?"":a[s].color?' style="color:'+a[s].color+';"':"")+"></span>\n");for(d='<div class="mbsc-cal-day-m"><div class="mbsc-cal-day-m-t">',s=0;s<a.length;s++)d+='<div class="mbsc-cal-day-m-c"'+(a[s].color?' style="background:'+a[s].color+';"':"")+"></div>";d+="</div></div>"}return{marked:a,selected:n,cssClass:a?"mbsc-cal-day-marked":"",ariaLabel:g?i:"",markup:g&&i?'<div class="mbsc-cal-day-txt-c"><div class="mbsc-cal-day-txt" title="'+Le("<div>"+i+"</div>").text()+'"'+(r?' style="background:'+r+";color:"+o+';text-shadow:none;"':"")+">"+l+i+"</div></div>":g&&l?'<div class="mbsc-cal-day-ic-c">'+l+"</div>":a?d:""}},e.addValue=function(e){y[s(e)]=e,a()},e.removeValue=function(e){delete y[s(e)],a()},e.setVal=function(t,s,i,r,o){b&&(n(t),t=t?t[0]:null),e._setVal(t,s,i,r,o),a()},e.getVal=function(t){return b?Bt.objectToArray(y):e.getDate(t)},Ne(u,{highlight:!b,outerMonthChange:!b,parseValue:function(t){var n,a;if(b&&t&&"string"==typeof t){for(y={},t=t.split(","),n=0;n<t.length;n++)a=Xt.parseDate(e.format,t[n].replace(/^\s+|\s+$/g,""),f),y[s(a)]=a;t=t[0]}return b&&f.defaultValue&&f.defaultValue.length&&(f.defaultValue=f.defaultValue[0]),i.parseValue.call(this,t)},formatValue:function(t){var s,n=[];if(b){for(s in y)n.push(Xt.formatDate(e.format,y[s],f));return n.join(", ")}return i.formatValue.call(this,t)},onClear:function(){b&&(y={},e.refresh())},onBeforeShow:function(){void 0!==f.setOnDayTap||f.buttons&&f.buttons.length||(f.setOnDayTap=!0),f.setOnDayTap&&"inline"!=f.display&&(f.outerMonthChange=!1),f.counter&&b&&(f.headerText=function(){var e=0,t="week"==f.selectType?7:1;return Le.each(y,function(){e++}),e=Math.round(e/t),(e>1?f.selectedPluralText||f.selectedText:f.selectedText).replace(/{count}/,e)})},onMarkupReady:function(e){i.onMarkupReady.call(this,e),r=Le(e.target),b&&(Le(".mbsc-fr-hdr",r).attr("aria-live","off"),d=Ne({},y)),g&&Le(".mbsc-cal",r).addClass("mbsc-cal-ev")},onDayChange:function(t){var n=t.date,i=s(n),l=Le(t.target),c=t.selected;if(b)if("week"==f.selectType){var d,u,m=i.getDay()-o;for(m=m<0?7+m:m,"multiple"!=f.select&&(y={}),d=0;d<7;d++)u=Ut(i.getFullYear(),i.getMonth(),i.getDate()-m+d),c?delete y[u]:Bt.objectToArray(y).length/7<v&&(y[u]=u);a()}else{var h=Le('.mbsc-cal .mbsc-cal-day[data-full="'+l.attr("data-full")+'"]',r);c?(h.removeClass("mbsc-cal-day-sel").removeAttr("aria-selected").find(".mbsc-cal-day-i").removeClass(p),delete y[i]):Bt.objectToArray(y).length<v&&(h.addClass("mbsc-cal-day-sel").attr("aria-selected","true").find(".mbsc-cal-day-i").addClass(p),y[i]=i)}if(f.setOnDayTap&&"multiple"!=f.select&&"inline"!=f.display)return e.needsSlide=!1,e.setDate(n),e.select(),!1},onCancel:function(){!e.live&&b&&(y=Ne({},d))}}),u},e.module("mobiscroll-calendar",[]).directive("mobiscrollCalendar",["$parse",function(e){return ne.ng.getDDO(e,"mobiscrollCalendar",{preset:"calendar"})}]);var Gt={wheelOrder:"hhiiss",useShortLabels:!1,min:0,max:1/0,labels:["Years","Months","Days","Hours","Minutes","Seconds"],labelsShort:["Yrs","Mths","Days","Hrs","Mins","Secs"]};ne.presetShort("timespan"),ne.presets.scroller.timespan=function(e){function t(e){var t={};return Le(p).each(function(s,n){t[n]=y[n]?Math.floor(e/b[n].limit):0,e-=t[n]*b[n].limit}),t}function s(e){var t=!1,s=g[y[e]-1]||1,a=b[e],i=a.label,o=a.wheel;if(o.data=[],o.label=a.label,h.match(new RegExp(a.re+a.re,"i"))&&(t=!0),e==x)o.min=c[e],o.max=d[e],o.data=function(e){return{value:e*s,display:n(e*s,t,i)}},o.getIndex=function(e){return Math.round(e/s)};else for(r=0;r<=a.until;r+=s)o.data.push({value:r,display:n(r,t,i)})}function n(e,t,s){return(e<10&&t?"0":"")+e+'<span class="mbsc-ts-lbl">'+s+"</span>"}function a(e){var t=0,s=0;return Le.each(v,function(n,a){isNaN(+e[t])||(s+=b[a.v].limit*e[n])}),s}function i(e,t){return Math.floor(e/t)*t}var r,o,l,c,d,u=Ne({},e.settings),m=Ne(e.settings,Gt,u),h=m.wheelOrder,f=m.useShortLabels?m.labelsShort:m.labels,p=["years","months","days","hours","minutes","seconds"],b={years:{ord:0,index:6,until:10,limit:31536e6,label:f[0],re:"y",wheel:{}},months:{ord:1,index:5,until:11,limit:2592e6,label:f[1],re:"m",wheel:{}},days:{ord:2,index:4,until:31,limit:864e5,label:f[2],re:"d",wheel:{}},hours:{ord:3,index:3,until:23,limit:36e5,label:f[3],re:"h",wheel:{}},minutes:{ord:4,index:2,until:59,limit:6e4,label:f[4],re:"i",wheel:{}},seconds:{ord:5,index:1,until:59,limit:1e3,label:f[5],re:"s",wheel:{}}},v=[],g=m.steps||[],y={},x="seconds",w=m.defaultValue||Math.max(m.min,Math.min(0,m.max)),_=[[]];return Le(p).each(function(e,t){o=h.search(new RegExp(b[t].re,"i")),o>-1&&(v.push({o:o,v:t}),b[t].index>b[x].index&&(x=t))}),v.sort(function(e,t){return e.o>t.o?1:-1}),Le.each(v,function(e,t){y[t.v]=e+1,_[0].push(b[t.v].wheel)}),c=t(m.min),d=t(m.max),Le.each(v,function(e,t){s(t.v)}),e.getVal=function(t,s){return s?e._getVal(t):e._hasValue||t?a(e.getArrayVal(t)):null},{showLabel:!0,wheels:_,compClass:"mbsc-ts",parseValue:function(e){var s,n=[];return ne.util.isNumeric(e)||!e?(l=t(e||w),Le.each(v,function(e,t){n.push(l[t.v])})):Le.each(v,function(t,a){s=new RegExp("(\\d+)\\s?("+m.labels[b[a.v].ord]+"|"+m.labelsShort[b[a.v].ord]+")","gi").exec(e),n.push(s?s[1]:0)}),Le(n).each(function(e,t){n[e]=i(t,g[e]||1)}),n},formatValue:function(e){var t="";return Le.each(v,function(s,n){t+=+e[s]?e[s]+" "+b[n.v].label+" ":""}),t?t.replace(/\s+$/g,""):0},validate:function(s){var n,i,r,o,l=s.values,u=s.direction,m=[],h=!0,f=!0;return Le(p).each(function(s,p){if(void 0!==y[p]){if(r=y[p]-1,m[r]=[],o={},p!=x){if(h)for(i=d[p]+1;i<=b[p].until;i++)o[i]=!0;if(f)for(i=0;i<c[p];i++)o[i]=!0}l[r]=e.getValidValue(r,l[r],u,o),n=t(a(l)),h=h&&n[p]==d[p],f=f&&n[p]==c[p],Le.each(o,function(e){m[r].push(e)})}}),{disabled:m}}}},e.module("mobiscroll-timespan",[]).directive("mobiscrollTimespan",["$parse",function(e){return ne.ng.getDDO(e,"mobiscrollTimespan",{preset:"timespan"})}]);var Zt={autostart:!1,step:1,useShortLabels:!1,labels:["Years","Months","Days","Hours","Minutes","Seconds",""],labelsShort:["Yrs","Mths","Days","Hrs","Mins","Secs",""],startText:"Start",stopText:"Stop",resetText:"Reset",lapText:"Lap",hideText:"Hide"};ne.presetShort("timer"),ne.presets.scroller.timer=function(e){function t(e){return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())}function s(e){var s={};if(E&&T[I].index>T.days.index){var n,a,i,r,o=new Date,l=b?o:$,c=b?$:o;for(c=t(c),l=t(l),s.years=l.getFullYear()-c.getFullYear(),s.months=l.getMonth()-c.getMonth(),s.days=l.getDate()-c.getDate(),s.hours=l.getHours()-c.getHours(),s.minutes=l.getMinutes()-c.getMinutes(),s.seconds=l.getSeconds()-c.getSeconds(),s.fract=(l.getMilliseconds()-c.getMilliseconds())/10,n=C.length;n>0;n--)a=C[n-1],i=T[a],r=C[Le.inArray(a,C)-1],T[r]&&s[a]<0&&(s[r]--,s[a]+="months"==r?32-new Date(l.getFullYear(),l.getMonth(),32).getDate():i.until+1);"months"==I&&(s.months+=12*s.years,delete s.years)}else Le(C).each(function(t,n){T[n].index<=T[I].index&&(s[n]=Math.floor(e/T[n].limit),e-=s[n]*T[n].limit)});return s}function n(e){var t=1,s=T[e],n=s.wheel,i=s.prefix,r=0,o=s.until,c=T[C[Le.inArray(e,C)-1]];if(s.index<=T[I].index&&(!c||c.limit>O))if(M[e]||N[0].push(n),M[e]=1,n.data=[],n.label=s.label||"",n.cssClass="mbsc-timer-whl-"+e,O>=s.limit&&(t=Math.max(Math.round(O/s.limit),1),d=t*s.limit),e==I)n.min=0,n.data=function(e){return{value:e,display:a(e,i,s.label)}},n.getIndex=function(e){return e};else for(l=r;l<=o;l+=t)n.data.push({value:l,display:a(l,i,s.label)})}function a(e,t,s){return(t||"")+(e<10?"0":"")+e+'<span class="mbsc-timer-lbl">'+s+"</span>"}function i(e){var t,n=[],a=s(e);return Le(C).each(function(e,s){M[s]&&(t=Math.max(Math.round(O/T[s].limit),1),n.push(Math.round(a[s]/t)*t))}),n}function r(e){E?(f=$-new Date,f<0?(f*=-1,b=!0):b=!1,p=0,A=!0):void 0!==$?(A=!1,f=1e3*$,b="countdown"!=x.mode,e&&(p=0)):(f=0,b="countdown"!=x.mode,A=b,e&&(p=0))}function o(){S?(Le(".mbsc-fr-w",v).addClass("mbsc-timer-running mbsc-timer-locked"),Le(".mbsc-timer-btn-toggle-c > div",v).text(x.stopText),e.buttons.start.icon&&Le(".mbsc-timer-btn-toggle-c > div",v).removeClass("mbsc-ic-"+e.buttons.start.icon),e.buttons.stop.icon&&Le(".mbsc-timer-btn-toggle-c > div",v).addClass("mbsc-ic-"+e.buttons.stop.icon),"stopwatch"==x.mode&&(Le(".mbsc-timer-btn-resetlap-c > div",v).text(x.lapText),e.buttons.reset.icon&&Le(".mbsc-timer-btn-resetlap-c > div",v).removeClass("mbsc-ic-"+e.buttons.reset.icon),e.buttons.lap.icon&&Le(".mbsc-timer-btn-resetlap-c > div",v).addClass("mbsc-ic-"+e.buttons.lap.icon))):(Le(".mbsc-fr-w",v).removeClass("mbsc-timer-running"),Le(".mbsc-timer-btn-toggle-c > div",v).text(x.startText),e.buttons.start.icon&&Le(".mbsc-timer-btn-toggle-c > div",v).addClass("mbsc-ic-"+e.buttons.start.icon),e.buttons.stop.icon&&Le(".mbsc-timer-btn-toggle-c > div",v).removeClass("mbsc-ic-"+e.buttons.stop.icon),"stopwatch"==x.mode&&(Le(".mbsc-timer-btn-resetlap-c > div",v).text(x.resetText),e.buttons.reset.icon&&Le(".mbsc-timer-btn-resetlap-c > div",v).addClass("mbsc-ic-"+e.buttons.reset.icon),e.buttons.lap.icon&&Le(".mbsc-timer-btn-resetlap-c > div",v).removeClass("mbsc-ic-"+e.buttons.lap.icon)))}var l,c,d,u,m,h,f,p,b,v,g,y=Ne({},e.settings),x=Ne(e.settings,Zt,y),w=x.useShortLabels?x.labelsShort:x.labels,_=["toggle","resetlap"],C=["years","months","days","hours","minutes","seconds","fract"],T={years:{index:6,until:10,limit:31536e6,label:w[0],wheel:{}},months:{index:5,until:11,limit:2592e6,label:w[1],wheel:{}},days:{index:4,until:31,limit:864e5,label:w[2],wheel:{}},hours:{index:3,until:23,limit:36e5,label:w[3],wheel:{}},minutes:{index:2,until:59,limit:6e4,label:w[4],wheel:{}},seconds:{index:1,until:59,limit:1e3,label:w[5],wheel:{}},fract:{index:0,until:99,limit:10,label:w[6],prefix:".",wheel:{}}},M={},D=[],k=0,S=!1,V=!0,A=!1,O=Math.max(10,1e3*x.step),I=x.maxWheel,L="stopwatch"==x.mode||E,$=x.targetTime,E=$&&void 0!==$.getTime,N=[[]];return e.start=function(){if(V&&e.reset(),!S){if(r(),!A&&p>=f)return;S=!0,V=!1,m=new Date,u=p,x.readonly=!0,e.setVal(i(b?p:f-p),!0,!0,!1,100),c=setInterval(function(){p=new Date-m+u,e.setVal(i(b?p:f-p),!0,!0,!1,Math.min(100,d-10)),!A&&p+d>=f&&(clearInterval(c),setTimeout(function(){e.stop(),p=f,e.setVal(i(b?p:0),!0,!0,!1,100),e.trigger("onFinish",{time:f}),V=!0},f-p))},d),o(),e.trigger("onStart")}},e.stop=function(){S&&(S=!1,clearInterval(c),p=new Date-m+u,o(),e.trigger("onStop",{ellapsed:p}))},e.toggle=function(){S?e.stop():e.start()},e.reset=function(){e.stop(),p=0,D=[],k=0,e.setVal(i(b?0:f),!0,!0,!1,100),e.settings.readonly=L,V=!0,L||Le(".mbsc-fr-w",v).removeClass("mbsc-timer-locked"),e.trigger("onReset")},e.lap=function(){S&&(h=new Date-m+u,g=h-k,k=h,D.push(h),e.trigger("onLap",{ellapsed:h,lap:g,laps:D}))},e.resetlap=function(){S&&"stopwatch"==x.mode?e.lap():e.reset()},e.getTime=function(){return f},e.setTime=function(e){$=e/1e3,f=e},e.getEllapsedTime=function(){return S?new Date-m+u:0},e.setEllapsedTime=function(t,s){V||(u=p=t,m=new Date,e.setVal(i(b?p:f-p),!0,s,!1,100))},r(!0),I||f||(I="minutes"),"inline"!==x.display&&_.push("hide"),I||Le(C).each(function(e,t){if(!I&&f>=T[t].limit)return I=t,!1}),Le(C).each(function(e,t){n(t)}),d=Math.max(87,d),x.autostart&&setTimeout(function(){e.start()},0),e.handlers.toggle=e.toggle,e.handlers.start=e.start,e.handlers.stop=e.stop,e.handlers.resetlap=e.resetlap,e.handlers.reset=e.reset,e.handlers.lap=e.lap,e.buttons.toggle={parentClass:"mbsc-timer-btn-toggle-c",text:x.startText,icon:x.startIcon,handler:"toggle"},e.buttons.start={text:x.startText,icon:x.startIcon,handler:"start"},e.buttons.stop={text:x.stopText,icon:x.stopIcon,handler:"stop"},e.buttons.reset={text:x.resetText,icon:x.resetIcon,handler:"reset"},e.buttons.lap={text:x.lapText,icon:x.lapIcon,handler:"lap"},e.buttons.resetlap={parentClass:"mbsc-timer-btn-resetlap-c",text:x.resetText,icon:x.resetIcon,handler:"resetlap"},e.buttons.hide={parentClass:"mbsc-timer-btn-hide-c",text:x.hideText,icon:x.closeIcon,handler:"cancel"},{wheels:N,headerText:!1,readonly:L,buttons:_,mode:"countdown",compClass:"mbsc-timer",parseValue:function(){return i(b?0:f)},formatValue:function(e){var t="",s=0;return Le(C).each(function(n,a){
"fract"!=a&&M[a]&&(t+=e[s]+("seconds"==a&&M.fract?"."+e[s+1]:"")+" "+w[n]+" ",s++)}),t},validate:function(e){var t=e.values,s=e.index,n=0;V&&void 0!==s&&($=0,Le(C).each(function(e,s){M[s]&&($+=T[s].limit*t[n],n++)}),$/=1e3,r(!0))},onBeforeShow:function(){x.showLabel=!0},onMarkupReady:function(e){v=Le(e.target),o(),L&&Le(".mbsc-fr-w",v).addClass("mbsc-timer-locked")},onPosition:function(e){Le(".mbsc-fr-w",e.target).css("min-width",0).css("min-width",Le(".mbsc-fr-btn-cont",e.target)[0].offsetWidth)},onDestroy:function(){clearInterval(c)}}};var Jt=ne.instances;e.module("mobiscroll-timer",[]).directive("mobiscrollTimer",["$parse",function(e){return ne.ng.getDDO(e,"mobiscrollTimer",{preset:"timer"},w,x,_)}]);var Qt=function(){},es=function(e,t,s){var n,a,i,r,o=this;ne.classes.Base.call(this,e,t,!0),o.__init=Qt,o.__destroy=Qt,o._init=function(t){var s;r=o.settings,n=Le(e),s=!!a,a=n.parent(),a=a.hasClass("mbsc-input-wrap")?a.parent():a,o._$parent=a,i&&a.removeClass(i),i=o._css+" mbsc-progress-w mbsc-control-w mbsc-"+r.theme+(r.baseTheme?" mbsc-"+r.baseTheme:"")+(r.rtl?" mbsc-rtl":" mbsc-ltr"),a.addClass(i),n.addClass("mbsc-control"),o.__init(t),s||o._attachChange(),o.refresh()},o._destroy=function(){o.__destroy(),a.removeClass(i),n.removeClass("mbsc-control")},s||o.init(t)};es.prototype={_class:"progressbase"};var ts="mbsc-input-wrap",ss=function(e,t,s){function n(){var e=a("value",m);e!==b&&i(e)}function a(e,t){var s=o.attr(e);return void 0===s||""===s?t:+s}function i(e,t,s,n){e=Math.min(h,Math.max(e,m)),c.css("width",100*(e-m)/(h-m)+"%"),void 0===s&&(s=!0),void 0===n&&(n=s),(e!==b||t)&&g._display(e),e!==b&&(b=e,s&&o.attr("value",b),n&&o.trigger("change"))}var r,o,l,c,d,u,m,h,f,p,b,v,g=this;es.call(this,e,t,!0),g._display=function(e){v=p&&f.returnAffix?p.replace(/\{value\}/,e).replace(/\{max\}/,h):e,d&&d.html(v),r&&r.html(v)},g._attachChange=function(){o.on("change",n)},g.__init=function(t){var s,n,i,v;if(f=g.settings,o=Le(e),v=!!l,l=g._$parent,m=g._min=void 0===t.min?a("min",f.min):t.min,h=g._max=void 0===t.max?a("max",f.max):t.max,b=a("value",m),s=o.attr("data-val")||f.val,i=o.attr("data-step-labels"),i=i?JSON.parse(i):f.stepLabels,p=o.attr("data-template")||(100!=h||f.template?f.template:"{value}%"),v?(s&&(r.remove(),l.removeClass("mbsc-progress-value-"+("right"==s?"right":"left"))),i&&Le(".mbsc-progress-step-label",u).remove()):(M(l),C(o),l.find(".mbsc-input-wrap").append('<span class="mbsc-progress-cont"><span class="mbsc-progress-track mbsc-progress-anim"><span class="mbsc-progress-bar"></span></span></span>'),c=g._$progress=l.find(".mbsc-progress-bar"),u=g._$track=l.find(".mbsc-progress-track")),o.attr("min",m).attr("max",h),s&&(r=Le('<span class="mbsc-progress-value"></span>'),l.addClass("mbsc-progress-value-"+("right"==s?"right":"left")).find(".mbsc-input-wrap").append(r)),i)for(n=0;n<i.length;++n)u.append('<span class="mbsc-progress-step-label" style="'+(f.rtl?"right":"left")+": "+100*(i[n]-m)/(h-m)+'%" >'+i[n]+"</span>");d=Le(o.attr("data-target")||f.target)},g.__destroy=function(){l.removeClass("mbsc-ic-left mbsc-ic-right").find(".mbsc-progress-cont").remove(),l.find(".mbsc-input-ic").remove(),o.off("change",n)},g.refresh=function(){i(a("value",m),!0,!1)},g.getVal=function(){return b},g.setVal=function(e,t,s){i(e,!0,t,s)},s||g.init(t)};ss.prototype={_class:"progress",_css:"mbsc-progress",_hasTheme:!0,_hasLang:!0,_hasDef:!0,_defaults:{min:0,max:100,returnAffix:!0}},ne.classes.Progress=ss,ne.presetShort("progress","Progress");var ns=function(){},as=ne.util,is=as.getCoord,rs=as.testTouch,os=function(e,t,s){function n(t){!rs(t,this)||C||e.disabled||(P.stopProp&&t.stopPropagation(),C=!0,E=!1,T=!1,W=is(t,"X"),R=is(t,"Y"),S=W,_.removeClass("mbsc-progress-anim"),v=N?Le(".mbsc-slider-handle",this):y,g&&g.removeClass("mbsc-handle-curr"),g=v.parent().addClass("mbsc-active mbsc-handle-curr"),A=+v.attr("data-index"),B=_[0].offsetWidth,k=_[0].getBoundingClientRect().left,"mousedown"===t.type&&(t.preventDefault(),Le(document).on("mousemove",a).on("mouseup",i)))}function a(e){C&&(S=is(e,"X"),V=is(e,"Y"),M=S-W,D=V-R,(Math.abs(M)>5||E)&&(E=!0,Math.abs(z-new Date)>50&&(z=new Date,h(S,P.round,I))),E?e.preventDefault():Math.abs(D)>7&&m(e))}function i(e){C&&(e.preventDefault(),N||_.addClass("mbsc-progress-anim"),h(S,!0,!0),E||T||("touchend"==e.type&&as.preventClick(),U._onTap(X[A])),m())}function r(){C&&m()}function o(){var e=U._readValue(Le(this)),t=+Le(this).attr("data-index");e!==X[t]&&(X[t]=e,p(e,t))}function l(e){e.stopPropagation()}function c(e){e.preventDefault()}function d(t){var s;if(!e.disabled){switch(t.keyCode){case 38:case 39:s=1;break;case 40:case 37:s=-1}s&&(t.preventDefault(),q||(A=+Le(this).attr("data-index"),p(X[A]+Y*s,A,!0),q=setInterval(function(){p(X[A]+Y*s,A,!0)},200)))}}function u(e){e.preventDefault(),clearInterval(q),q=null}function m(){C=!1,g.removeClass("mbsc-active"),Le(document).off("mousemove",a).off("mouseup",i)}function h(e,t,s){var n=t?Math.min(Math.round(Math.max(100*(e-k)/B,0)/F/Y)*Y*100/(L-$),100):Math.max(0,Math.min(100*(e-k)/B,100));O&&(n=100-n),p(Math.round(($+n/F)*j)/j,A,s,n)}function f(e){return 100*(e-$)/(L-$)}function p(e,t,s,n,a,i){var r=y.eq(t),o=r.parent();e=Math.min(L,Math.max(e,$)),void 0===i&&(i=s),U._update?e=U._update(e,X,t,n,N,a,o):o.css({left:O?"auto":(n||f(e))+"%",right:O?(n||f(e))+"%":"auto"}),e>$?o.removeClass("mbsc-slider-start"):(X[t]>$||a)&&o.addClass("mbsc-slider-start"),s&&H[t]!=e&&(T=!0,H[t]=e,X[t]=e,U._fillValue(e,t,i)),r.attr("aria-valuenow",e)}var b,v,g,y,x,w,_,C,T,M,D,k,S,V,A,O,I,L,$,E,N,H,Y,P,F,W,R,j,q,B,X,U=this,z=new Date;es.call(this,e,t,!0),U._onTap=ns,U.___init=ns,U.___destroy=ns,U._attachChange=function(){b.on(P.changeEvent,o)},U.__init=function(e){var t;y&&(t=!0,y.parent().remove()),U.___init(e),w=U._$parent,_=U._$track,b=w.find("input"),P=U.settings,$=U._min,L=U._max,Y=U._step,I=U._live,j=Y%1!==0?100/(100*+(Y%1).toFixed(2)):1,F=100/(L-$)||100,N=b.length>1,O=P.rtl,X=[],H=[],b.each(function(e){X[e]=U._readValue(Le(this)),Le(this).attr("data-index",e)}),y=w.find(".mbsc-slider-handle"),x=w.find(N?".mbsc-slider-handle-cont":".mbsc-progress-cont"),y.on("keydown",d).on("keyup",u).on("blur",u),x.on("touchstart mousedown",n).on("touchmove",a).on("touchend touchcancel",i).on("pointercancel",r),t||(b.on("click",l),w.on("click",c))},U.__destroy=function(){w.off("click",c),b.off(P.changeEvent,o).off("click",l),y.off("keydown",d).off("keyup",u).off("blur",u),x.off("touchstart mousedown",n).off("touchmove",a).off("touchend touchcancel",i).off("pointercancel",r),U.___destroy()},U.refresh=function(){b.each(function(e){p(U._readValue(Le(this)),e,!0,!1,!0,!1)})},U.getVal=function(){return N?X.slice(0):X[0]},U.setVal=U._setVal=function(e,t,s){Le.isArray(e)||(e=[e]),Le.each(e,function(e,t){X[e]=t}),Le.each(e,function(e,t){p(t,e,!0,!1,!0,s)})},s||U.init(t)};os.prototype={_class:"sliderbase"};var ls=function(e,t,s){function n(e){return 100*(e-p)/(f-p)}function a(e,t){var s=i.attr(e);return void 0===s||""===s?t:"true"===s}var i,r,o,l,c,d,u,m,h,f,p,b,v,g=this;ss.call(this,e,t,!0);var y=g.__init,x=g.__destroy;os.call(this,e,t,!0);var w=g.__init,_=g.__destroy;g.__init=function(e){y(e),w(e)},g.__destroy=function(){x(),_()},g._update=function(e,t,s,a,i,r,c){return m?0===s?(e=Math.min(e,t[1]),o.css({width:n(t[1])-n(e)+"%",left:h?"auto":n(e)+"%",right:h?n(e)+"%":"auto"})):(e=Math.max(e,t[0]),o.css({width:n(e)-n(t[0])+"%"})):i||!d?c.css({left:h?"auto":(a||n(e))+"%",right:h?(a||n(e))+"%":"auto"}):o.css("width",(a||n(e))+"%"),u&&l.eq(s).html(e),i||t[s]==e&&!r||g._display(e),e},g._readValue=function(e){return+e.val()},g._fillValue=function(e,t,s){i.eq(t).val(e),s&&i.eq(t).trigger("change")},g.___init=function(e){var t,s;if(r&&(r.removeClass("mbsc-slider-has-tooltip"),1!=b&&Le(".mbsc-slider-step",c).remove()),r=g._$parent,c=g._$track,o=g._$progress,i=r.find("input"),v=g.settings,p=g._min,f=g._max,g._step=b=void 0===e.step?+i.attr("step")||v.step:e.step,g._live=a("data-live",v.live),u=a("data-tooltip",v.tooltip),d=a("data-highlight",v.highlight)&&i.length<3,m=d&&2==i.length,h=v.rtl,u&&r.addClass("mbsc-slider-has-tooltip"),1!=b)for(s=(f-p)/b,t=0;t<=s;++t)c.append('<span class="mbsc-slider-step" style="'+(h?"right":"left")+":"+100/s*t+'%"></span>');i.each(function(e){"range"==this.type&&Le(this).attr("min",p).attr("max",f).attr("step",b),(d?o:c).append('<span class="mbsc-slider-handle-cont'+(m&&!e?" mbsc-slider-handle-left":"")+'"><span tabindex="0" class="mbsc-slider-handle" aria-valuemin="'+p+'" aria-valuemax="'+f+'" data-index="'+e+'"></span>'+(u?'<span class="mbsc-slider-tooltip"></span>':"")+"</span>")}),l=r.find(".mbsc-slider-tooltip")},s||g.init(t)};ls.prototype={_class:"progress",_css:"mbsc-progress mbsc-slider",_hasTheme:!0,_hasLang:!0,_hasDef:!0,_defaults:{changeEvent:"change",stopProp:!0,min:0,max:100,step:1,live:!0,highlight:!0,round:!0,returnAffix:!0}},ne.classes.Slider=ls,ne.presetShort("slider","Slider");var cs=ne.util,ds=function(){},us=ne.classes,ms=function(e,t,s){function n(e,t,s){if(!s){Z._value=Z._hasValue?Z._tempValue.slice(0):null;for(var n=0;n<x.length;++n)x[n].tempChangedColor&&Z._value&&Z._value.indexOf(x[n].tempChangedColor)!=-1&&(x[n].changedColor=x[n].tempChangedColor),delete x[n].tempChangedColor}e&&(Z._isInput&&J.val(Z._hasValue?Z._tempValue:""),_("onFill",{valueText:Z._hasValue?Z._tempValue:"",change:t}),t&&(ee=Ne(!0,{},te),Z._preventChange=!0,J.trigger("change")),m(Z._value,!0))}function a(e,t){return t=void 0!==t?t:r(e),'<div class="mbsc-color-input-item" data-color="'+(void 0!==t?t:e)+'" style="background: '+e+';">'+(j?"":'<div class="mbsc-color-input-item-close mbsc-ic mbsc-ic-material-close"></div>')+"</div>"}function i(e){H[0].style.background=e?cs.prefix+"linear-gradient(left, "+(g.rtl?"#000000":"#FFFFFF")+" 0%, "+e+" 50%, "+(g.rtl?"#FFFFFF":"#000000")+" 100%)":""}function r(e){if(Object.keys(te).length&&!isNaN(e))return e;for(var t in x)if(e==x[t].color||e==x[t].changedColor)return t}function o(){if(R){var e,t="";if(X.empty(),Z._value){if(j)t+=a(Z._value,W);else for(e=0;e<Z._value.length;++e)t+=a(Z._value[e],Object.keys(te).length&&te[e].colorIndex?te[e].colorIndex:r(Z._value[e]));X.append(t),Z.tap(Le(".mbsc-color-input-item",X),function(e){if(Le(e.target).hasClass("mbsc-color-input-item-close")){var t=Le(this).index();e.stopPropagation(),e.preventDefault(),void 0===W&&(W=Le(e.target).parent().attr("data-color")),N&&(Q=x[W].previewInd,z.eq(Q).parent().removeClass("mbsc-color-active"),ee[t]={},te[t]={}),Z._value.splice(t,1),Z.setVal(Z._value,!0,!0)}else Y&&"inline"!==g.display&&(A=!0,W=Le(e.target).attr("data-color"),isNaN(W)&&(W=r(W)),W&&(x[W].selected=!0,Q=x[W].previewInd,setTimeout(function(){C.scroll(U.eq(W),400),N&&T.scroll(z.eq(Q),400)},200)))})}}}function l(e,t){var s,n=e.match(/\d+/gim);switch(!0){case e.indexOf("rgb")>-1:s=D({r:n[0],g:n[1],b:n[2]});break;case e.indexOf("hsl")>-1:s=L({h:n[0],s:n[1],l:n[2]});break;case e.indexOf("hsv")>-1:s=$({h:n[0],s:n[1],v:n[2]});break;case e.indexOf("#")>-1:s=e}return c(s,t||g.format)}function c(e,t){switch(t){case"rgb":return k(e);case"hsl":return I(e);case"hsv":return E(e);default:return e}}function d(){var e;for(e=0;e<g.select;++e)if(void 0===te[e].colorIndex)return e}function u(e,t){Le(".mbsc-color-active",t).removeClass("mbsc-color-active"),Y&&(e.parent().addClass("mbsc-color-active"),N&&e&&void 0!==Q&&z.eq(Q).parent().addClass("mbsc-color-active"))}function m(e,t){var s,n,a=[],i=0,r=Le.map(x,function(e){return e.changedColor||e.color});if(j){if(e=Le.isArray(e)?e[0]:e,n=r.indexOf(e),n>-1&&a.push(n),e&&!a.length){var l=+Le(".mbsc-color-input-item",X).attr("data-color");isNaN(l)||a.push(l),W=l}}else if(e)if(N&&Y)for(var c in ee)void 0!==ee[c].colorIndex&&a.push(+ee[c].colorIndex);else for(s=0;s<e.length;++s)n=r.indexOf(e[s]),n>-1&&(a.push(n),r[n]="temp"+s);for(s=0;s<a.length;++s)h(!0,a[s],i++,x[a[s]].changedColor||x[a[s]].color,!0);for(s=0;s<x.length;++s)a.indexOf(s)==-1&&h(!1,s,void 0,x[s].changedColor||x[s].color,!1);if(N)for(s=i;s<g.select;++s)te[s]={},z&&z.eq(s).addClass("mbsc-color-preview-item-empty").css({background:"transparent"});ee=Ne(!0,{},te),t!==!1&&o()}function h(e,t,s,n,a,i){if(N&&a&&(te[s].colorIndex=e?t:void 0,te[s].color=e?n:void 0,z)){var r=z.eq(s);r.removeClass("mbsc-color-preview-item-empty").css({background:e?n:"transparent"}),e||r.addClass("mbsc-color-preview-item-empty").parent().removeClass("mbsc-color-active")}i&&(e?Z._tempValue.splice(s,0,n):Z._tempValue.splice(Z._tempValue.indexOf(n),1)),U&&(e?U.eq(t).addClass("mbsc-color-selected"):U.eq(t).removeClass("mbsc-color-selected").parent().removeClass("mbsc-color-active")),x[t].previewInd=e?s:void 0,x[t].selected=e}function f(e,t){void 0!==e&&(j||x[e].selected)?(W=e,S=x[e].changedColor||x[e].color,K=U.eq(e),Y&&(u(U.eq(e),t||""),V=l(x[e].color,"hsl"),V.l=l(S,"hsl").l,i(x[e].color),F.setVal(100-V.l,!1,!1))):Y&&i()}function p(){var e,t=[];for(e=0;e<x.length;++e)x[e].selected&&t.push(x[e]);return t}function b(e,t){var s=Le(e.target).index();W=te[s].colorIndex,K=U.eq(W),Q=s,f(W,t),C.scroll(K,250),_("onPreviewItemTap",{target:e.target,value:te[s].color,index:s})}function v(e,t){var s=!1,n=Le(".mbsc-color-selected",t);return K=Le(e.target),K.hasClass("mbsc-color-clear-item")?(S="",void Z.clear()):void((j||q>+n.length||K.hasClass("mbsc-color-selected"))&&(W=K.attr("data-index"),N&&(Q=void 0!==x[W].previewInd?x[W].previewInd:d(),s=Y&&K.hasClass("mbsc-color-selected")&&!K.parent().hasClass("mbsc-color-active"),z.length>6&&T.scroll(z.eq(Q))),S=x[W].changedColor||x[W].color,j?(n.removeClass("mbsc-color-selected"),Z._tempValue=S,S&&K.toggleClass("mbsc-color-selected"),u(K,t)):(u(K,t),s||h(!x[W].selected,W,Q,S,!0,!0)),f(W,t),Z.live&&(Z._fillValue(),_("onSet",{value:Z._value})),_("onItemTap",{target:e.target,value:S,selected:x[W].selected,index:W})))}var g,y,x,w,_,C,T,M,S,V,A,O,N,H,Y,P,F,W,R,j,q,B,X,U,z,K,G,Z=this,J=Le(e),Q=0,ee={},te={};us.Frame.call(this,e,t,!0),Z.setVal=Z._setVal=function(e,t,s,a){Z._hasValue=null!==e&&void 0!==e,Z._tempValue=j?Le.isArray(e)?e[0]:e:Le.isArray(e)?e:[e],n(t,void 0===s?t:s,a)},Z.getVal=Z._getVal=function(e){return Z._hasValue||e?B?p():Z[e?"_tempValue":"_value"]:null},Z._readValue=function(){var e=J.val()||"";Z._hasValue=!1,0!==e.length&&""!==e&&(Z._hasValue=!0),Z._hasValue?(Z._tempValue=j?e:"hex"==g.format?e.split(","):e.match(/[a-z]{3}\((\d+\.?\d{0,}?),\s*([\d.]+)%{0,},\s*([\d.]+)%{0,}\)/gim),n(!0)):Z._tempValue=[],m(Z._tempValue,Z._hasValue)},Z._fillValue=function(){Z._hasValue=!0,n(!0,!0)},Z._generateContent=function(){var e,t,s,n=M?1:0;for(P=O?Math.ceil((x.length+n)/g.rows):g.rows,t='<div class="mbsc-color-scroll-cont mbsc-w-p '+(O?"":"mbsc-color-vertical")+'"><div class="mbsc-color-cont">'+(O?'<div class="mbsc-color-row">':""),e=0;e<x.length;++e)s=x[e].changedColor||x[e].color,M&&0===e&&(t+='<div class="mbsc-color-item-c"><div tabindex="0" class="mbsc-color-clear-item mbsc-btn-e mbsc-color-selected"><div class="mbsc-color-clear-cross"></div></div></div>'),0!==e&&(e+n)%P===0&&(t+=O?'</div><div class="mbsc-color-row">':""),t+='<div class="mbsc-color-item-c"><div tabindex="0" data-index="'+e+'" class="mbsc-color-item mbsc-btn-e mbsc-ic mbsc-ic-material-check mbsc-color-btn-e '+(x[e].selected?"mbsc-color-selected":"")+'"  style="background:'+s+'"></div></div>';if(t+="</div></div>"+(O?"</div>":""),Y&&(t+='<div class="mbsc-color-slider-cont"><input class="mbsc-color-slider" type="range" data-highlight="false" value="50" min="0" max="100"/></div>'),N){t+='<div class="mbsc-color-preview-cont"><div class="mbsc-color-refine-preview">';for(var a in ee)t+='<div class="mbsc-color-preview-item-c mbsc-btn-e mbsc-color-btn-e" tabindex="0"><div class="mbsc-color-preview-item '+(ee[a].color?"":"mbsc-color-preview-item-empty")+'" style="background: '+(ee[a].color||"initial")+';"></div></div>';t+="</div></div>"}return t},Z._position=function(e){var t,s;O||(t=e.find(".mbsc-color-cont"),s=Math.ceil(t.find(".mbsc-color-item-c")[0].offsetWidth),t.width(Math.min(Math.floor(e.find(".mbsc-fr-c").width()/s),Math.round(x.length/g.rows))*s+1)),C&&C.refresh(),T&&T.refresh()},Z._markupInserted=function(e){O||e.find(".mbsc-color-scroll-cont").css("max-height",e.find(".mbsc-color-item-c")[0].offsetHeight*g.rows),C=new us.ScrollView(e.find(".mbsc-color-scroll-cont")[0],{axis:O?"X":"Y",rtl:g.rtl,elastic:60,stopProp:!1,mousewheel:g.mousewheel,onBtnTap:function(t){v(t,e)}})},Z._attachEvents=function(e){var t;U=Le(".mbsc-color-item",e),e.on("keydown",".mbsc-color-btn-e",function(t){t.stopPropagation(),32==t.keyCode&&(t.target.classList.contains("mbsc-color-item")?v(t,e):b(t,e))}),N&&(z=Le(".mbsc-color-preview-item",e)),Y&&(e.addClass("mbsc-color-refine"),G=Le(".mbsc-color-slider",e),F=new us.Slider(G[0],{theme:g.theme,rtl:g.rtl}),H=e.find(".mbsc-progress-track"),W&&Z._value&&f(W,e),G.on("change",function(){void 0!==W&&(j||x[W].selected)&&(V.l=100-this.value,t=l(V.toString()).toString(),j?Z._tempValue=t:Z._tempValue[void 0!==Q?Q:Z._tempValue.length]=t,x[W].tempChangedColor=t,U.eq(W).css("background",t),N&&(te[Q].color=t,z.eq(Q).removeClass("mbsc-color-preview-item-empty").css({background:t})),Z.live&&cs.throttle(Z._fillValue()))})),N&&(T=new us.ScrollView(e.find(".mbsc-color-preview-cont")[0],{axis:"X",rtl:g.rtl,mousewheel:g.mousewheel,onBtnTap:function(t){b(t,e)}}))},Z._detachEvents=function(){C.destroy(),F&&F.destroy(),T&&T.destroy()},Z.__processSettings=function(){var t,s;if(g=Z.settings,w=g.format,_=Z.trigger,O="horizontal"==g.navigation,Z._value=[],Z._tempValue=[],j="single"==g.select,M=void 0!==g.clear?g.clear:j,s=g.data||[],!s.length)switch(g.format){case"rgb":s=["rgb(255,235,60)","rgb(255,153,0)","rgb(244,68,55)","rgb(234,30,99)","rgb(156,38,176)","rgb(104,58,183)","rgb(63,81,181)","rgb(33,150,243)","rgb(0,151,136)","rgb(75,175,79)","rgb(126,93,78)","rgb(158,158,158)"],M&&s.splice(10,0,"rgb(83, 71, 65)");break;case"hsl":s=["hsl(54,100%,62%)","hsl(36,100%,50%)","hsl(4,90%,59%)","hsl(340,83%,52%)","hsl(291,64%,42%)","hsl(262,52%,47%)","hsl(231,48%,48%)","hsl(207,90%,54%)","hsl(174,100%,30%)","hsl(122,40%,49%)","hsl(19,24%,40%)","hsl(0,0%,62%)"],M&&s.splice(10,0,"hsl(20, 12%, 29%)");break;default:s=["#ffeb3c","#ff9900","#f44437","#ea1e63","#9c26b0","#683ab7","#3f51b5","#2196f3","#009788","#4baf4f","#7e5d4e","#9e9e9e"],M&&s.splice(10,0,"#534741")}if(Y="refine"==g.mode,N=!isNaN(g.select),q=isNaN(g.select)?j?2:s.length:g.select,B=Le.isPlainObject(s[0]),N&&!Object.keys(ee).length)for(t=0;t<g.select;++t)ee[t]={},te[t]={};if(!x)for(x=s.slice(0),t=0;t<x.length;++t)Le.isPlainObject(s[t])?x[t].color=s[t].color:(s[t]=s[t].toLowerCase(),x[t]={key:t,name:s[t],color:s[t]});y=g.defaultValue||x[0].color,S=y,V=l(S,"hsl"),R=g.enhance&&J.is("input"),R&&(J.hasClass("mbsc-color-input-hdn")?X=J.prev():(X=Le("<div "+(e.placeholder?'data-placeholder="'+e.placeholder+'"':"")+' class="mbsc-control mbsc-color-input '+(g.inputClass||"")+'" readonly ></div>'),X.insertBefore(J),J.addClass("mbsc-color-input-hdn").attr("tabindex",-1)),g.anchor=X,Z.attachShow(X))},Z.__init=function(){g.cssClass=(g.cssClass||"")+" mbsc-color"},Z.__destroy=function(){R&&(J.removeClass("mbsc-color-input-hdn"),X.remove())},s||Z.init(t)};ms.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_class:"color",_defaults:Ne({},us.Frame.prototype._defaults,{headerText:!1,validate:ds,parseValue:ds,enhance:!0,rows:2,select:"single",format:"hex",navigation:"horizontal"})},ne.classes.Color=ms,ne.themes.color=ne.themes.frame,ne.presetShort("color","Color",!1),cs.color={hsv2hex:$,hsv2rgb:S,rgb2hsv:V,rgb2hex:D,rgb2hsl:A,hex2rgb:k,hex2hsv:E,hex2hsl:I},e.module("mobiscroll-color",[]).directive("mobiscrollColor",["$parse",function(e){return ne.ng.getDDO(e,"mobiscrollColor",{component:"Color"})}]);var hs=ne.presets.scroller,fs=ne.util.datetime,ps=ne.util,bs=ps.testTouch,vs={autoCorrect:!0,showSelector:!0,minRange:1,rangeTap:!0,fromText:"Start",toText:"End"};ne.presetShort("range"),hs.range=function(e){function t(e,t){e&&(e.setFullYear(t.getFullYear()),e.setMonth(t.getMonth()),e.setDate(t.getDate()))}function s(t){e._startDate=D=g,e._endDate=k=x,O.startInput&&(Le(O.startInput).val(b),t&&Le(O.startInput).trigger("change")),O.endInput&&(Le(O.endInput).val(v),t&&Le(O.endInput).trigger("change"))}function n(e,t){var s=!0;return e&&g&&x&&(x-g>O.maxRange-1&&(S?g=new Date(x-O.maxRange+1):x=new Date(+g+O.maxRange-1)),x-g<O.minRange-1&&(S?g=new Date(x-O.minRange+1):x=new Date(+g+O.minRange-1))),g&&x||(s=!1),t&&o(),s}function a(){return g&&x?Math.max(1,Math.round((new Date(x).setHours(0,0,0,0)-new Date(g).setHours(0,0,0,0))/864e5)+1):0}function i(e){e.addClass("mbsc-range-btn-sel").attr("aria-checked","true").find(".mbsc-range-btn").addClass($)}function r(){M&&d&&(Le(".mbsc-range-btn-c",d).removeClass("mbsc-range-btn-sel").removeAttr("aria-checked").find(".mbsc-range-btn",d).removeClass($),i(Le(".mbsc-range-btn-c",d).eq(S)))}function o(){var e,t,s,n,a,i=0,r=L||!S?" mbsc-cal-day-hl mbsc-cal-sel-start":" mbsc-cal-sel-start",o=L||S?" mbsc-cal-day-hl mbsc-cal-sel-end":" mbsc-cal-sel-end";if(b=g?fs.formatDate(m,g,O):"",v=x?fs.formatDate(m,x,O):"",d&&(Le(".mbsc-range-btn-v-start",d).html(b||"&nbsp;"),Le(".mbsc-range-btn-v-end",d).html(v||"&nbsp;"),e=g?new Date(g):null,s=x?new Date(x):null,!e&&s&&(e=new Date(s)),!s&&e&&(s=new Date(e)),a=S?s:e,Le(".mbsc-cal-table .mbsc-cal-day-sel .mbsc-cal-day-i",d).removeClass($),Le(".mbsc-cal-table .mbsc-cal-day-hl",d).removeClass(N),Le(".mbsc-cal-table .mbsc-cal-day-sel",d).removeClass("mbsc-cal-day-sel mbsc-cal-sel-start mbsc-cal-sel-end").removeAttr("aria-selected"),e&&s))for(t=e.setHours(0,0,0,0),n=s.setHours(0,0,0,0);s>=e&&i<84;)Le('.mbsc-cal-day[data-full="'+a.getFullYear()+"-"+a.getMonth()+"-"+a.getDate()+'"]',d).addClass("mbsc-cal-day-sel"+(a.getTime()===t?r:"")+(a.getTime()===n?o:"")).attr("aria-selected","true").find(".mbsc-cal-day-i ").addClass($),a.setDate(a.getDate()+(S?-1:1)),i++}function l(e,t){return{h:e?e.getHours():t?23:0,i:e?e.getMinutes():t?59:0,s:e?e.getSeconds():t?59:0}}var c,d,u,m,h,f,p,b,v,g,y,x,w,_,C,T,M,D=e._startDate,k=e._endDate,S=0,V=new Date,A=Ne({},e.settings),O=Ne(e.settings,vs,A),I=O.anchor,L=O.rangeTap,$=O.activeClass||"",E="mbsc-fr-btn-d "+(O.disabledClass||""),N="mbsc-cal-day-hl",H=null===O.defaultValue?[]:O.defaultValue||[new Date(V.setHours(0,0,0,0)),new Date(V.getFullYear(),V.getMonth(),V.getDate()+6,23,59,59,999)];return L&&(O.tabs=!0),h=hs.calbase.call(this,e),c=Ne({},h),m=e.format,_="time"===O.controls.join(""),M=1!=O.controls.length||"calendar"!=O.controls[0]||O.showSelector,O.startInput&&(C=Le(O.startInput).prop("readonly"),e.attachShow(Le(O.startInput).prop("readonly",!0),function(){S=0,O.anchor=I||Le(O.startInput)})),O.endInput&&(T=Le(O.endInput).prop("readonly"),e.attachShow(Le(O.endInput).prop("readonly",!0),function(){S=1,O.anchor=I||Le(O.endInput)})),e.setVal=function(t,s,n,a,i){var r=t||[],o=t;(void 0===r[0]||null===r[0]||r[0].getTime)&&(p=!0,g=r[0]||null,b=g?fs.formatDate(m,g,O):"",S||(o=c.parseValue(b,e))),(void 0===r[1]||null===r[1]||r[1].getTime)&&(p=!0,x=r[1]||null,v=x?fs.formatDate(m,x,O):"",S&&(o=c.parseValue(v,e))),a||(e._startDate=D=g,e._endDate=k=x),e._setVal(o,s,n,a,i)},e.getVal=function(t){return t?[g,x]:e._hasValue?[D,k]:null},e.getDayProps=function(e){var t=g?new Date(g.getFullYear(),g.getMonth(),g.getDate()):null,s=x?new Date(x.getFullYear(),x.getMonth(),x.getDate()):null;return{selected:t&&s&&e>=t&&e<=x,cssClass:((L||!S)&&t&&t.getTime()===e.getTime()||(L||S)&&s&&s.getTime()===e.getTime()?N:"")+(t&&t.getTime()===e.getTime()?" mbsc-cal-sel-start":"")+(s&&s.getTime()===e.getTime()?" mbsc-cal-sel-end":"")}},e.setActiveDate=function(t){var s;S="start"==t?0:1,s="start"==t?g:x,e.isVisible()&&(r(),L||(Le(".mbsc-cal-table .mbsc-cal-day-hl",d).removeClass(N),s&&Le('.mbsc-cal-day[data-full="'+s.getFullYear()+"-"+s.getMonth()+"-"+s.getDate()+'"]',d).addClass(N)),s&&(f=!0,e.setDate(s,!1,1e3,!0)))},e.getValue=e.getVal,Ne(h,{highlight:!1,outerMonthChange:!1,formatValue:function(){return b+(O.endInput?"":v?" - "+v:"")},parseValue:function(t){var s=t?t.split(" - "):[];return O.defaultValue=H[1],k=O.endInput?Le(O.endInput).val()?fs.parseDate(m,Le(O.endInput).val(),O):H[1]:s[1]?fs.parseDate(m,s[1],O):H[1],O.defaultValue=H[0],D=O.startInput?Le(O.startInput).val()?fs.parseDate(m,Le(O.startInput).val(),O):H[0]:s[0]?fs.parseDate(m,s[0],O):H[0],O.defaultValue=H[S],b=D?fs.formatDate(m,D,O):"",v=k?fs.formatDate(m,k,O):"",e._startDate=D,e._endDate=k,c.parseValue(S?v:b,e)},onFill:function(e){s(e.change)},onBeforeClose:function(t){if("set"===t.button&&!n(!0,!0))return e.setActiveDate(S?"start":"end"),!1},onHide:function(){c.onHide.call(e),S=0,d=null,O.anchor=I},onClear:function(){L&&(S=0)},onBeforeShow:function(){O.headerText=!1,g=D||H[0],x=k||H[1],y=l(g,0),w=l(x,1),O.counter&&(O.headerText=function(){var e=a();return(e>1?O.selectedPluralText||O.selectedText:O.selectedText).replace(/{count}/,e)}),p=!0},onMarkupReady:function(t){var s;g&&(f=!0,e.setDate(g,!1,0,!0),g=e.getDate(!0)),x&&(f=!0,e.setDate(x,!1,0,!0),x=e.getDate(!0)),(S&&x||!S&&g)&&(f=!0,e.setDate(S?x:g,!1,0,!0)),o(),c.onMarkupReady.call(this,t),d=Le(t.target),d.addClass("mbsc-range"),M&&(s='<div class="mbsc-range-btn-t" role="radiogroup"><div class="mbsc-range-btn-c mbsc-range-btn-start"><div role="radio" class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-range-btn">'+O.fromText+'<div class="mbsc-range-btn-v mbsc-range-btn-v-start">'+(b||"&nbsp;")+'</div></div></div><div class="mbsc-range-btn-c mbsc-range-btn-end"><div role="radio" class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-range-btn">'+O.toText+'<div class="mbsc-range-btn-v mbsc-range-btn-v-end">'+(v||"&nbsp;")+"</div></div></div></div>",Le(".mbsc-cal-tabs",d).before(s),r()),Le(".mbsc-range-btn-c",d).on("touchstart click",function(t){bs(t,this)&&(e.showMonthView(),e.setActiveDate(Le(this).index()?"end":"start"))})},onDayChange:function(e){e.active=S?"end":"start",u=!0},onSetDate:function(s){var a=s.date,i=e.order;f||(void 0===i.h&&a.setHours(S?23:0),void 0===i.i&&a.setMinutes(S?59:0),void 0===i.s&&a.setSeconds(S?59:0),a.setMilliseconds(S?999:0),p&&!u||(L&&u&&(1==S&&a<g&&(S=0),S?a.setHours(w.h,w.i,w.s,999):a.setHours(y.h,y.i,y.s,0)),S?(x=new Date(a),w=l(x)):(g=new Date(a),y=l(g)),_&&O.autoCorrect&&(t(g,a),t(x,a)),L&&u&&!S&&(x=null))),_&&!O.autoCorrect&&x<g&&(x=new Date(x.setDate(x.getDate()+1))),e._isValid=n(p||u||O.autoCorrect,!f),s.active=S?"end":"start",!f&&L&&(u&&(S=S?0:1),r()),e.isVisible()&&(e._isValid?Le(".mbsc-fr-btn-s .mbsc-fr-btn",e._markup).removeClass(E):Le(".mbsc-fr-btn-s .mbsc-fr-btn",e._markup).addClass(E)),u=!1,p=!1,f=!1},onTabChange:function(t){"calendar"!=t.tab&&e.setDate(S?x:g,!1,1e3,!0),n(!0,!0)},onDestroy:function(){Le(O.startInput).prop("readonly",C),Le(O.endInput).prop("readonly",T)}}),h},e.module("mobiscroll-range",[]).directive("mobiscrollRange",["$parse",function(e){return ne.ng.getDDO(e,"mobiscrollRange",{preset:"range"})}]),e.module("mobiscroll-scroller",[]).directive("mobiscrollScroller",["$parse",function(e){return ne.ng.getDDO(e,"mobiscrollScroller",{})}]);var gs,ys=ne.classes,xs=ne.util,ws=xs.prefix,_s=xs.jsPrefix,Cs=xs.getCoord,Ts=xs.testTouch,Ms=xs.vibrate,Ds=xs.animEnd,ks=1,Ss=function(){},Vs="transparent",As=function(e,t){function s(){mt=!1,at=!1,X=0,wt=0,_t=new Date,We=J.width(),te=A(J),qe=te.index(Re),je=Re[0].offsetHeight,Bt=Re[0].offsetTop,It=Lt[Re.attr("data-type")||"defaults"],xt=It.stages}function n(e){var t;"touchstart"===e.type&&(it=!0,clearTimeout(rt)),!Ts(e,this)||j||jt||gs||Kt||(j=!0,U=!0,Ct=Cs(e,"X"),Tt=Cs(e,"Y"),ce=0,de=0,Re=Le(this),t=Re,s(),Vt=pt.onItemTap||It.tap||Re.hasClass("mbsc-lv-parent")||Re.hasClass("mbsc-lv-back"),Ue=Re.offset().top,Vt&&(B=setTimeout(function(){t.addClass("mbsc-lv-item-active"),ge("onItemActivate",{target:t[0],domEvent:e})},120)),Ft.sortable&&!Re.hasClass("mbsc-lv-back")&&(Ft.sortable.group||(st=Re.nextUntil(".mbsc-lv-gr-title").filter(".mbsc-lv-item"),ot=Re.prevUntil(".mbsc-lv-gr-title").filter(".mbsc-lv-item")),Ze=(Ft.sortable.group?J.children(Xe).eq(0):ot.length?ot.eq(-1):Re)[0].offsetTop-Bt,Ge=(Ft.sortable.group?J.children(Xe).eq(-1):st.length?st.eq(-1):Re)[0].offsetTop-Bt,Ft.sortable.handle?Le(e.target).hasClass("mbsc-lv-handle")&&(clearTimeout(B),"Moz"===_s?(e.preventDefault(),c()):Ot=setTimeout(function(){c()},100)):Ot=setTimeout(function(){ye.appendTo(Re),ye[0].style[_s+"Animation"]="mbsc-lv-fill "+(pt.sortDelay-100)+"ms linear",clearTimeout(pe),clearTimeout(B),U=!1,Ot=setTimeout(function(){ye[0].style[_s+"Animation"]="",c()},pt.sortDelay-80)},80)),"mousedown"==e.type&&Le(document).on("mousemove",a).on("mouseup",i))}function a(e){var t=!1,s=!0;if(j)if(be=Cs(e,"X"),ve=Cs(e,"Y"),ce=be-Ct,de=ve-Tt,clearTimeout(pe),he||Dt||bt||Re.hasClass("mbsc-lv-back")||(Math.abs(de)>10?(bt=!0,i(Ne({},e,{type:"mousemove"==e.type?"mouseup":"touchend"})),clearTimeout(B)):Math.abs(ce)>7&&r()),Dt)e.preventDefault(),X=ce/We*100,o();else if(he){e.preventDefault();var n,a=Nt.scrollTop(),l=Math.max(Ze,Math.min(de+Yt,Ge)),c=De?Ue-Pt+a-Yt:Ue;Ht+a<c+l+je?(Nt.scrollTop(c+l-Ht+je),n=!0):c+l<a&&(Nt.scrollTop(c+l),n=!0),n&&(Yt+=Nt.scrollTop()-a),et&&(Ft.sortable.multiLevel&&Qe.hasClass("mbsc-lv-parent")?Bt+je/4+l>et?t=!0:Bt+je-je/4+l>et&&(ue=Qe.addClass("mbsc-lv-item-hl"),s=!1):Bt+je/2+l>et&&(Qe.hasClass("mbsc-lv-back")?Ft.sortable.multiLevel&&(me=Qe.addClass("mbsc-lv-item-hl"),s=!1):t=!0),t&&(lt.insertAfter(Qe),ct=Qe,Qe=L(Qe,"next"),dt=et,et=Qe.length&&Qe[0].offsetTop,Z++)),!t&&dt&&(Ft.sortable.multiLevel&&ct.hasClass("mbsc-lv-parent")?Bt+je-je/4+l<dt?t=!0:Bt+je/4+l<dt&&(ue=ct.addClass("mbsc-lv-item-hl"),s=!1):Bt+je/2+l<dt&&(ct.hasClass("mbsc-lv-back")?Ft.sortable.multiLevel&&(me=ct.addClass("mbsc-lv-item-hl"),s=!1):t=!0),t&&(lt.insertBefore(ct),Qe=ct,ct=L(ct,"prev"),et=dt,dt=ct.length&&ct[0].offsetTop+ct[0].offsetHeight,Z--)),s&&(ue&&(ue.removeClass("mbsc-lv-item-hl"),ue=!1),me&&(me.removeClass("mbsc-lv-item-hl"),me=!1)),t&&ge("onSortChange",[Re,Z]),w(Re,l),ge("onSort",[Re,Z])}else(Math.abs(ce)>5||Math.abs(de)>5)&&_()}function i(e){var t,s,n,r,o=Re;j&&(j=!1,_(),"mouseup"==e.type&&Le(document).off("mousemove",a).off("mouseup",i),bt||(rt=setTimeout(function(){it=!1},300)),(Dt||bt||he)&&(at=!0),Dt?l():he?(n=J,ue?(D(Re.detach()),s=zt[ue.attr("data-ref")],Z=A(s.child).length,ue.removeClass("mbsc-lv-item-hl"),pt.navigateOnDrop?P(ue,function(){Ft.add(null,Re,null,null,ue,!0),H(Re),d(Re,qe,n,!0)}):(Ft.add(null,Re,null,null,ue,!0),d(Re,qe,n,!0))):me?(D(Re.detach()),s=zt[me.attr("data-back")],Z=A(s.parent).index(s.item)+1,me.removeClass("mbsc-lv-item-hl"),pt.navigateOnDrop?P(me,function(){Ft.add(null,Re,Z,null,J,!0),H(Re),d(Re,qe,n,!0)}):(Ft.add(null,Re,Z,null,s.parent,!0),d(Re,qe,n,!0))):(t=lt[0].offsetTop-Bt,w(Re,t,6*Math.abs(t-Math.max(Ze,Math.min(de+Yt,Ge))),function(){D(Re),Re.insertBefore(lt),d(Re,qe,n,Z!==qe)})),he=!1):!bt&&Math.abs(ce)<5&&Math.abs(de)<5&&(It.tap&&(r=It.tap.call(Wt,{target:Re,index:qe,domEvent:e},Ft)),Vt&&("touchend"===e.type&&xs.preventClick(),Re.addClass("mbsc-lv-item-active"),ge("onItemActivate",{target:Re[0],domEvent:e})),r=ge("onItemTap",{target:Re[0],index:qe,domEvent:e}),r!==!1&&P(Re)),clearTimeout(B),setTimeout(function(){o.removeClass("mbsc-lv-item-active"),ge("onItemDeactivate",{target:o[0]})},100),bt=!1,se=null)}function r(){Dt=k(It.swipe,{target:Re[0],index:qe,direction:ce>0?"right":"left"}),Dt&&(_(),clearTimeout(B),It.actions?(q=N(It,ce),Je.html(It.icons).show().children().css("width",q+"%"),Pe.hide(),Le(".mbsc-lv-ic-m",Fe).removeClass("mbsc-lv-ic-disabled"),Le(It.leftMenu).each(p),Le(It.rightMenu).each(p)):(Pe.show(),Je.hide(),ie=It.start+(ce>0?0:1),ut=xt[ie-1],tt=xt[ie]),Re.addClass("mbsc-lv-item-swiping").removeClass("mbsc-lv-item-active"),At.css("line-height",je+"px"),Fe.css({top:Bt,height:je,backgroundColor:$(ce)}).addClass("mbsc-lv-stage-c-v").appendTo(J.parent()),pt.iconSlide&&Re.append(Pe),ge("onSlideStart",{target:Re[0],index:qe}))}function o(){var e=!1;ft||(It.actions?Fe.attr("class","mbsc-lv-stage-c-v mbsc-lv-stage-c mbsc-lv-"+(X<0?"right":"left")):(ut&&X<=ut.percent?(ie--,tt=ut,ut=xt[ie],e=!0):tt&&X>=tt.percent&&(ie++,ut=tt,tt=xt[ie],e=!0),e&&(se=X>0?ut:tt,
se&&(C(se,pt.iconSlide),ge("onStageChange",{target:Re[0],index:qe,stage:se})))),vt||(ft=!0,ht=Te(g)))}function l(e){var t,s,n,a=!1,i=!0;Me(ht),ft=!1,vt||g(),It.actions?Math.abs(X)>10&&q&&(x(Re,X<0?-q:q,200),a=!0,gs=!0,z=Re,K=qe,Le(document).on("touchstart.mbsc-lv-conf mousedown.mbsc-lv-conf",function(t){t.preventDefault(),y(Re,!0,e)})):X&&(pt.quickSwipe&&!vt&&(n=new Date-_t,t=n<300&&ce<-50,s=n<300&&ce>50,t?(mt=!0,se=It.left,C(se,pt.iconSlide)):s&&(mt=!0,se=It.right,C(se,pt.iconSlide))),se&&se.action&&(le=k(se.disabled,{target:Re[0],index:qe}),le||(a=!0,gs=vt||k(se.confirm,{target:Re[0],index:qe}),gs?(x(Re,(X<0?-1:1)*Pe[0].offsetWidth*100/We,200,!0),v(se,Re,qe,!1,e)):b(se,Re,qe,e)))),a||y(Re,i,e),Dt=!1}function c(){he=!0,ue=!1,me=!1,Yt=0,Z=qe,pt.vibrate&&Ms(),Qe=L(Re,"next"),et=Qe.length&&Qe[0].offsetTop,ct=L(Re,"prev"),dt=ct.length&&ct[0].offsetTop+ct[0].offsetHeight,lt.height(je).insertAfter(Re),Re.css({top:Bt}).addClass("mbsc-lv-item-dragging").removeClass("mbsc-lv-item-active").appendTo(fe),ge("onSortStart",{target:Re[0],index:Z})}function d(e,t,s,n){e.removeClass("mbsc-lv-item-dragging"),lt.remove(),ge("onSortEnd",{target:e[0],index:Z}),pt.vibrate&&Ms(),n&&(Ft.addUndoAction(function(n){Ft.move(e,t,null,n,s,!0)},!0),ge("onSortUpdate",{target:e[0],index:Z}))}function u(){it||(clearTimeout($e),gs&&Le(document).trigger("touchstart"),Ae&&(Ft.close(Ve,Oe),Ae=!1,Ve=null))}function m(){clearTimeout(re),re=setTimeout(function(){Ht=Nt[0].innerHeight||Nt.innerHeight(),Pt=De?Nt.offset().top:0,j&&(Bt=Re[0].offsetTop,je=Re[0].offsetHeight,Fe.css({top:Bt,height:je}))},200)}function h(e){at&&(e.stopPropagation(),e.preventDefault(),at=!1)}function f(){if(he||!j){var e,t=Nt.scrollTop(),s=Rt.offset().top,n=Rt[0].offsetHeight,a=De?Nt.offset().top:t;Le(".mbsc-lv-gr-title",Rt).each(function(t,s){Le(s).offset().top<a&&(e=s)}),s<a&&s+n>a?we.show().empty().append(Le(e).clone()):we.hide()}}function p(e,t){k(t.disabled,{target:Re[0],index:qe})&&Le(".mbsc-ic-"+t.icon,Fe).addClass("mbsc-lv-ic-disabled")}function b(e,t,s,n){var a,i={icon:"undo2",text:pt.undoText,color:"#b1b1b1",action:function(){Ft.undo()}};e.undo&&(Ft.startActionTrack(),Le.isFunction(e.undo)&&Ft.addUndoAction(function(){e.undo.call(Wt,{target:t[0],index:s},Ft)}),$t=t.attr("data-ref")),a=e.action.call(Wt,{target:t[0],index:s},Ft),e.undo?(Ft.endActionTrack(),a!==!1&&x(t,+t.attr("data-pos")<0?-100:100,200),lt.height(je).insertAfter(t),t.css("top",Bt).addClass("mbsc-lv-item-undo"),Je.hide(),Pe.show(),Fe.append(Pe),C(i),v(i,t,s,!0,n)):y(t,a,n)}function v(e,t,s,n,a){var i,r;gs=!0,Le(document).off(".mbsc-lv-conf").on("touchstart.mbsc-lv-conf mousedown.mbsc-lv-conf",function(e){e.preventDefault(),n&&M(t),y(t,!0,a)}),oe||Pe.off(".mbsc-lv-conf").on("touchstart.mbsc-lv-conf mousedown.mbsc-lv-conf",function(e){e.stopPropagation(),i=Cs(e,"X"),r=Cs(e,"Y")}).on("touchend.mbsc-lv-conf mouseup.mbsc-lv-conf",function(o){o.preventDefault(),"touchend"===o.type&&xs.preventClick(),Math.abs(Cs(o,"X")-i)<10&&Math.abs(Cs(o,"Y")-r)<10&&(b(e,t,s,a),n&&(Et=null,M(t)))})}function g(){x(Re,wt+100*ce/We),ft=!1}function y(e,t,s){Le(document).off(".mbsc-lv-conf"),Pe.off(".mbsc-lv-conf"),t!==!1?x(e,0,"0"!==e.attr("data-pos")?200:0,!1,function(){T(e,s),D(e)}):T(e,s),gs=!1}function x(e,t,s,n,a){t=Math.max("right"==Dt?0:-100,Math.min(t,"left"==Dt?0:100)),Mt=e[0].style,e.attr("data-pos",t),Mt[_s+"Transform"]="translate3d("+(n?We*t/100+"px":t+"%")+",0,0)",Mt[_s+"Transition"]=ws+"transform "+(s||0)+"ms",a&&(jt++,setTimeout(function(){a(),jt--},s)),X=t}function w(e,t,s,n){t=Math.max(Ze,Math.min(t,Ge)),Mt=e[0].style,Mt[_s+"Transform"]="translate3d(0,"+t+"px,0)",Mt[_s+"Transition"]=ws+"transform "+(s||0)+"ms ease-out",n&&(jt++,setTimeout(function(){n(),jt--},s))}function _(){clearTimeout(Ot),!U&&Ft.sortable&&(U=!0,ye.remove())}function C(e,t){var s=k(e.text,{target:Re[0],index:qe})||"";k(e.disabled,{target:Re[0],index:qe})?Fe.addClass("mbsc-lv-ic-disabled"):Fe.removeClass("mbsc-lv-ic-disabled"),Fe.css("background-color",e.color||(0===e.percent?$(X):Vs)),Pe.attr("class","mbsc-lv-ic-c mbsc-lv-ic-"+(t?"move-":"")+(X<0?"right":"left")),Ye.attr("class"," mbsc-lv-ic-s mbsc-lv-ic mbsc-ic mbsc-ic-"+(e.icon||"none")),At.attr("class","mbsc-lv-ic-text"+(e.icon?"":" mbsc-lv-ic-text-only")+(s?"":" mbsc-lv-ic-only")).html(s||"&nbsp;"),pt.animateIcons&&(mt?Ye.addClass("mbsc-lv-ic-v"):setTimeout(function(){Ye.addClass("mbsc-lv-ic-a")},10))}function T(e,t){j||(Ye.attr("class","mbsc-lv-ic-s mbsc-lv-ic mbsc-ic mbsc-ic-none"),Fe.attr("style","").removeClass("mbsc-lv-stage-c-v"),At.html("")),Fe.removeClass("mbsc-lv-left mbsc-lv-right"),e&&(ge("onSlideEnd",{target:e[0],index:qe}),t&&t())}function M(e){e.css("top","").removeClass("mbsc-lv-item-undo"),Et?Ft.animate(lt,"collapse",function(){lt.remove()}):lt.remove(),T(),$t=null,Et=null}function D(e){Mt=e[0].style,Mt[_s+"Transform"]="",Mt[_s+"Transition"]="",Mt.top="",e.removeClass("mbsc-lv-item-swiping")}function k(e,t){return Le.isFunction(e)?e.call(this,t,Ft):e}function S(e){var t,s=e.attr("data-role");if(e.attr("data-ref")||(t=ks++,e.attr("data-ref",t),zt[t]={item:e,child:e.children(Ke),parent:e.parent(),ref:e.parent()[0]===Wt?null:e.parent().parent().attr("data-ref")}),e.addClass("list-divider"==s?"mbsc-lv-gr-title":"mbsc-lv-item"),Ft.sortable.handle&&"list-divider"!=s&&!e.children(".mbsc-lv-handle-c").length&&e.append(ke),pt.enhance&&!e.hasClass("mbsc-lv-item-enhanced")){var n=e.attr("data-icon"),a=e.find("img").eq(0).addClass("mbsc-lv-img");a.is(":first-child")?e.addClass("mbsc-lv-img-"+(pt.rtl?"right":"left")):a.length&&e.addClass("mbsc-lv-img-"+(pt.rtl?"left":"right")),e.addClass("mbsc-lv-item-enhanced").children().each(function(e,t){t=Le(t),t.is("p, h1, h2, h3, h4, h5, h6")&&t.addClass("mbsc-lv-txt")}),n&&e.addClass("mbsc-lv-item-ic-"+(e.attr("data-icon-align")||(pt.rtl?"right":"left"))).append('<div class="mbsc-lv-item-ic mbsc-ic mbsc-ic-'+n+'"></div>')}}function V(e){Le(Xe,e).not(".mbsc-lv-item").each(function(){S(Le(this))}),Le(Ke,e).not(".mbsc-lv").addClass("mbsc-lv").prepend(Ee).parent().addClass("mbsc-lv-parent").prepend(He),Le(".mbsc-lv-back",e).each(function(){Le(this).attr("data-back",Le(this).parent().parent().attr("data-ref"))})}function A(e){return e.children(Xe).not(".mbsc-lv-back").not(".mbsc-lv-removed").not(".mbsc-lv-ph")}function O(e){return"object"!==("undefined"==typeof e?"undefined":ae(e))&&(e=Le(Xe,G).filter('[data-id="'+e+'"]')),Le(e)}function I(e){for(var t=0,s=zt[e.attr("data-ref")];s&&s.ref;)t++,s=zt[s.ref];return t}function L(e,t){for(e=e[t]();e.length&&(!e.hasClass("mbsc-lv-item")||e.hasClass("mbsc-lv-ph")||e.hasClass("mbsc-lv-item-dragging"));){if(!Ft.sortable.group&&e.hasClass("mbsc-lv-gr-title"))return!1;e=e[t]()}return e}function $(e){return(e>0?It.right:It.left).color||Vs}function E(e){return xs.isNumeric(e)?e+"":0}function N(e,t){return+(t<0?E((e.actionsWidth||0).right)||E(e.actionsWidth)||E(pt.actionsWidth.right)||E(pt.actionsWidth):E((e.actionsWidth||0).left)||E(e.actionsWidth)||E(pt.actionsWidth.left)||E(pt.actionsWidth))}function H(e,t){if(e){var s=Nt.scrollTop(),n=e.is(".mbsc-lv-item")?e[0].offsetHeight:0,a=e.offset().top+(De?s-Pt:0);t?(a<s||a+n>s+Ht)&&Nt.scrollTop(a):a<s?Nt.scrollTop(a):a+n>s+Ht&&Nt.scrollTop(Math.min(a,a+n-Ht/2))}}function Y(e,t,s,n,a){var i=t.parent(),r=t.prev();n=n||Ss,r[0]===Pe[0]&&(r=Pe.prev()),J[0]!==t[0]?(ge("onNavStart",{level:qt,direction:e,list:t[0]}),gt.prepend(t.addClass("mbsc-lv-v mbsc-lv-sl-new")),H(G),F(gt,"mbsc-lv-sl-"+e,function(){J.removeClass("mbsc-lv-sl-curr"),t.removeClass("mbsc-lv-sl-new").addClass("mbsc-lv-sl-curr"),Q&&Q.length?J.removeClass("mbsc-lv-v").insertAfter(Q):ee.append(J.removeClass("mbsc-lv-v")),Q=r,ee=i,J=t,H(s,a),n.call(Wt,s),ge("onNavEnd",{level:qt,direction:e,list:t[0]})})):(H(s,a),n.call(Wt,s))}function P(e,t){jt||(e.hasClass("mbsc-lv-parent")?(qt++,Y("r",zt[e.attr("data-ref")].child,null,t)):e.hasClass("mbsc-lv-back")&&(qt--,Y("l",zt[e.attr("data-back")].parent,zt[e.attr("data-back")].item,t)))}function F(e,t,s){function n(){clearTimeout(a),jt--,e.off(Ds,n).removeClass(t),s.call(Wt,e)}var a;s=s||Ss,pt.animation&&"mbsc-lv-item-none"!==t?(jt++,e.on(Ds,n).addClass(t),a=setTimeout(n,500)):s.call(Wt,e)}function W(e,t){var s,n=e.attr("data-ref");s=Ut[n]=Ut[n]||[],t&&s.push(t),e.attr("data-action")||(t=s.shift(),e.attr("data-action",1),t(function(){e.removeAttr("data-action"),s.length?W(e):delete Ut[n]}))}function R(e,t,s){var n,a;e&&e.length&&(n=100/(e.length+2),Le.each(e,function(i,r){void 0===r.key&&(r.key=yt++),void 0===r.percent&&(r.percent=t*n*(i+1),s&&(a=Ne({},r),a.key=yt++,a.percent=-n*(i+1),e.push(a),Xt[a.key]=a)),Xt[r.key]=r}))}var j,q,B,X,U,z,K,G,Z,J,Q,ee,te,se,ie,re,oe,le,ce,de,ue,me,he,fe,pe,be,ve,ge,ye,xe,we,_e,Ce,De,ke,Se,Ve,Ae,Oe,Ie,$e,Ee,He,Ye,Pe,Fe,We,Re,je,qe,Be,Xe,Ue,ze,Ke,Ge,Ze,Je,Qe,et,tt,st,nt,at,it,rt,ot,lt,ct,dt,ut,mt,ht,ft,pt,bt,vt,gt,yt,xt,wt,_t,Ct,Tt,Mt,Dt,kt,St,Vt,At,Ot,It,Lt,$t,Et,Nt,Ht,Yt,Pt,Ft=this,Wt=e,Rt=Le(Wt),jt=0,qt=0,Bt=0,Xt={},Ut={},zt={};ys.Base.call(this,e,t,!0),Ft.animate=function(e,t,s){F(e,"mbsc-lv-item-"+t,s)},Ft.add=function(e,t,s,n,a,i){var r,o,l,c,d,u,m="",h=void 0===a?Rt:O(a),f=h,p=Le("object"!==("undefined"==typeof t?"undefined":ae(t))?"<"+Be+' data-ref="'+ks++ +'" data-id="'+e+'">'+t+"</"+Be+">":t),b=p.attr("data-pos")<0?"left":"right",v=p.attr("data-ref");n=n||Ss,v||(v=ks++,p.attr("data-ref",v)),S(p),i||Ft.addUndoAction(function(e){c?Ft.navigate(h,function(){f.remove(),h.removeClass("mbsc-lv-parent").children(".mbsc-lv-arr").remove(),d.child=h.children(Ke),Ft.remove(p,null,e,!0)}):Ft.remove(p,null,e,!0)},!0),W(p,function(e){D(p.css("top","").removeClass("mbsc-lv-item-undo")),h.is(Xe)?(u=h.attr("data-ref"),h.children(Ke).length||(c=!0,h.append("<"+ze+"></"+ze+">"))):u=h.children(".mbsc-lv-back").attr("data-back"),d=zt[u],d&&(d.child.length?f=d.child:(h.addClass("mbsc-lv-parent").prepend(He),f=h.children(Ke).prepend(Ee).addClass("mbsc-lv"),d.child=f,Le(".mbsc-lv-back",h).attr("data-back",u))),zt[v]={item:p,child:p.children(Ke),parent:f,ref:u},l=A(f),o=l.length,void 0!==s&&null!==s||(s=o),i&&(m="mbsc-lv-item-new-"+(i?b:"")),V(p.addClass(m)),s!==!1&&(o?s<o?p.insertBefore(l.eq(s)):p.insertAfter(l.eq(o-1)):(r=Le(".mbsc-lv-back",f),r.length?p.insertAfter(r):f.append(p))),f.hasClass("mbsc-lv-v")?Ft.animate(p.height(p[0].offsetHeight),i&&$t===v?"none":"expand",function(t){Ft.animate(t.height(""),i?"add-"+b:"pop-in",function(t){n.call(Wt,t.removeClass(m)),e()})}):(n.call(Wt,p.removeClass(m)),e()),G.trigger("mbsc-refresh"),ge("onItemAdd",{target:p[0]})})},Ft.swipe=function(e,t,n,a,i){e=O(e),Re=e,oe=a,vt=!0,j=!0,n=void 0===n?300:n,ce=t>0?1:-1,s(),r(),x(e,t,n),clearTimeout(St),clearInterval(kt),kt=setInterval(function(){X=xs.getPosition(e)/We*100,o()},10),St=setTimeout(function(){clearInterval(kt),X=t,o(),l(i),oe=!1,vt=!1,j=!1},n)},Ft.openStage=function(e,t,s,n){Xt[t]&&Ft.swipe(e,Xt[t].percent,s,n)},Ft.openActions=function(e,t,s,n){e=O(e);var a=N(Lt[e.attr("data-type")||"defaults"],"left"==t?-1:1);Ft.swipe(e,"left"==t?-a:a,s,n)},Ft.close=function(e,t){Ft.swipe(e,0,t)},Ft.remove=function(e,t,s,n){var a,i,r;s=s||Ss,e=O(e),e.length&&(i=e.parent(),a=A(i).index(e),r=e[0].style,n||(e.attr("data-ref")===$t&&(Et=!0),Ft.addUndoAction(function(t){Ft.add(null,e,a,t,i,!0)},!0)),W(e,function(a){t=t||(e.attr("data-pos")<0?"left":"right"),i.hasClass("mbsc-lv-v")?Ft.animate(e.addClass("mbsc-lv-removed"),n?"pop-out":"remove-"+t,function(e){r.height=e[0].offsetHeight+"px",Ft.animate(e,"collapse",function(e){r.height="",D(e.removeClass("mbsc-lv-removed")),s.call(Wt,e)!==!1&&e.remove(),a()})}):(s.call(Wt,e)!==!1&&e.remove(),a()),ge("onItemRemove",{target:e[0]})}))},Ft.move=function(e,t,s,n,a,i){e=O(e),i||Ft.startActionTrack(),Fe.append(Pe),Ft.remove(e,s,null,i),Ft.add(null,e,t,n,a,i),i||Ft.endActionTrack()},Ft.navigate=function(e,t){var s,n;e=O(e),s=zt[e.attr("data-ref")],n=I(e),s&&(Y(n>=qt?"r":"l",s.parent,e,t,!0),qt=n)},Ft._processSettings=function(){Rt.is("[mbsc-enhance]")&&(_e=!0,Rt.removeAttr("mbsc-enhance"))},Ft._init=function(){var e,t,s,r=Rt.find(Ke).length?"left":"right",o=0,l="",c="",d="";ze=pt.listNode,Ke=pt.listSelector,Be=pt.itemNode,Xe=pt.itemSelector,s=pt.sort||pt.sortable||!1,"group"===s&&(s={group:!1,multiLevel:!0}),s===!0&&(s={group:!0,multiLevel:!0,handle:pt.sortHandle}),s&&void 0===s.handle&&(s.handle=pt.sortHandle),s.handle&&(Ce=s.handle===!0?r:s.handle,ke='<div class="mbsc-lv-handle-c mbsc-lv-item-h-'+Ce+' mbsc-lv-handle"><div class="'+pt.handleClass+' mbsc-lv-handle-bar-c mbsc-lv-handle">'+pt.handleMarkup+"</div></div>"),Ee="<"+Be+' class="mbsc-lv-item mbsc-lv-back">'+pt.backText+'<div class="mbsc-lv-arr mbsc-lv-ic mbsc-ic '+pt.leftArrowClass+'"></div></'+Be+">",He='<div class="mbsc-lv-arr mbsc-lv-ic mbsc-ic '+pt.rightArrowClass+'"></div>',e="mbsc-lv-cont mbsc-lv-"+pt.theme+(pt.rtl?" mbsc-lv-rtl":"")+(pt.baseTheme?" mbsc-lv-"+pt.baseTheme:"")+(pt.animateIcons?" mbsc-lv-ic-anim":"")+(pt.striped?" mbsc-lv-alt-row":"")+(pt.fixedHeader?" mbsc-lv-has-fixed-header":"")+(s.handle?" mbsc-lv-handle-"+Ce:""),Ft.sortable=s||!1,G?(G.attr("class",e),s.handle&&Le(".mbsc-lv-handle-c",G).remove(),Le(Xe,G).not(".mbsc-lv-back").removeClass("mbsc-lv-item")):(l+='<div class="mbsc-lv-multi-c"></div>',l+='<div class="mbsc-lv-ic-c"><div class="mbsc-lv-ic-s mbsc-lv-ic mbsc-ic mbsc-ic-none"></div><div class="mbsc-lv-ic-text"></div></div>',Rt.addClass("mbsc-lv mbsc-lv-v mbsc-lv-root").show(),Fe=Le('<div class="mbsc-lv-stage-c">'+l+"</div>"),Pe=Le(".mbsc-lv-ic-c",Fe),Je=Le(".mbsc-lv-multi-c",Fe),Ye=Le(".mbsc-lv-ic-s",Fe),At=Le(".mbsc-lv-ic-text",Fe),lt=Le("<"+Be+' class="mbsc-lv-item mbsc-lv-ph"></'+Be+">"),ye=Le('<div class="mbsc-lv-fill-item"></div>'),G=Le('<div class="'+e+'"><'+ze+' class="mbsc-lv mbsc-lv-dummy"></'+ze+'><div class="mbsc-lv-sl-c"></div></div>'),De="body"!==pt.context,Nt=Le(De?pt.context:window),fe=Le(".mbsc-lv-dummy",G),G.insertAfter(Rt),Nt.on("orientationchange resize",m),m(),G.on("touchstart mousedown",".mbsc-lv-item",n).on("touchmove",".mbsc-lv-item",a).on("touchend touchcancel",".mbsc-lv-item",i),Wt.addEventListener("click",h,!0),G.on("touchstart mousedown",".mbsc-lv-ic-m",function(e){oe||(e.stopPropagation(),e.preventDefault()),Ct=Cs(e,"X"),Tt=Cs(e,"Y")}).on("touchend mouseup",".mbsc-lv-ic-m",function(e){oe||("touchend"===e.type&&xs.preventClick(),gs&&!Le(this).hasClass("mbsc-lv-ic-disabled")&&Math.abs(Cs(e,"X")-Ct)<10&&Math.abs(Cs(e,"Y")-Tt)<10&&b((X<0?It.rightMenu:It.leftMenu)[Le(this).index()],z,K))}),gt=Le(".mbsc-lv-sl-c",G).append(Rt.addClass("mbsc-lv-sl-curr")).attr("data-ref",ks++),J=Rt,ee=G),V(Rt),yt=0,Lt=pt.itemGroups||{},Lt.defaults={swipeleft:pt.swipeleft,swiperight:pt.swiperight,stages:pt.stages,actions:pt.actions,actionsWidth:pt.actionsWidth},Le.each(Lt,function(e,t){if(t.swipe=void 0!==t.swipe?t.swipe:pt.swipe,t.stages=t.stages||[],R(t.stages,1,!0),R(t.stages.left,1),R(t.stages.right,-1),(t.stages.left||t.stages.right)&&(t.stages=[].concat(t.stages.left||[],t.stages.right||[])),xe=!1,t.stages.length||(t.swipeleft&&t.stages.push({percent:-30,action:t.swipeleft}),t.swiperight&&t.stages.push({percent:30,action:t.swiperight})),Le.each(t.stages,function(e,t){if(0===t.percent)return xe=!0,!1}),xe||t.stages.push({percent:0}),t.stages.sort(function(e,t){return e.percent-t.percent}),Le.each(t.stages,function(e,s){if(0===s.percent)return t.start=e,!1}),xe?t.left=t.right=t.stages[t.start]:(t.left=t.stages[t.start-1]||{},t.right=t.stages[t.start+1]||{}),t.actions){for(t.leftMenu=t.actions.left||t.actions,t.rightMenu=t.actions.right||t.leftMenu,c="",d="",o=0;o<t.leftMenu.length;o++)c+="<div "+(t.leftMenu[o].color?'style="background-color: '+t.leftMenu[o].color+'"':"")+' class="mbsc-lv-ic-m mbsc-lv-ic mbsc-ic mbsc-ic-'+t.leftMenu[o].icon+'">'+(t.leftMenu[o].text||"")+"</div>";for(o=0;o<t.rightMenu.length;++o)d+="<div "+(t.rightMenu[o].color?'style="background-color: '+t.rightMenu[o].color+'"':"")+' class="mbsc-lv-ic-m mbsc-lv-ic mbsc-ic mbsc-ic-'+t.rightMenu[o].icon+'">'+(t.rightMenu[o].text||"")+"</div>";t.actions.left&&(t.swipe=t.actions.right?t.swipe:"right"),t.actions.right&&(t.swipe=t.actions.left?t.swipe:"left"),t.icons='<div class="mbsc-lv-multi mbsc-lv-multi-ic-left">'+c+'</div><div class="mbsc-lv-multi mbsc-lv-multi-ic-right">'+d+"</div>"}}),pt.fixedHeader&&(t="mbsc-lv-fixed-header"+(De?" mbsc-lv-fixed-header-ctx mbsc-lv-"+pt.theme+(pt.baseTheme?" mbsc-lv-"+pt.baseTheme:""):""),we?we.attr("class",t):(we=Le('<div class="'+t+'"></div>'),De?Nt.before(we):G.prepend(we),nt=xs.throttle(f,200),Nt.on("scroll touchmove",nt))),pt.hover&&(Oe||G.on("mouseover.mbsc-lv",".mbsc-lv-item",function(){Ve&&Ve[0]==this||(u(),Ve=Le(this),Lt[Ve.attr("data-type")||"defaults"].actions&&($e=setTimeout(function(){it?Ve=null:(Ae=!0,Ft.openActions(Ve,Se,Oe,!1))},Ie)))}).on("mouseleave.mbsc-lv",u),Oe=pt.hover.time||200,Ie=pt.hover.timeout||200,Se=pt.hover.direction||pt.hover||"right"),_e&&G.attr("mbsc-enhance",""),G.trigger("mbsc-enhance",[{theme:pt.theme,lang:pt.lang}])},Ft._destroy=function(){var e;ee.append(J),De&&we&&we.remove(),_e&&(Rt.attr("mbsc-enhance",""),e=ne.instances[G[0].id],e&&e.destroy()),Wt.removeEventListener("click",h,!0),G.find(".mbsc-lv-txt,.mbsc-lv-img").removeClass("mbsc-lv-txt mbsc-lv-img"),G.find(Ke).removeClass("mbsc-lv mbsc-lv-v mbsc-lv-root mbsc-lv-sl-curr").find(Xe).removeClass("mbsc-lv-gr-title mbsc-lv-item mbsc-lv-item-enhanced mbsc-lv-parent mbsc-lv-img-left mbsc-lv-img-right mbsc-lv-item-ic-left mbsc-lv-item-ic-right").removeAttr("data-ref"),Le(".mbsc-lv-back,.mbsc-lv-handle-c,.mbsc-lv-arr,.mbsc-lv-item-ic",G).remove(),Rt.insertAfter(G),G.remove(),Fe.remove(),Nt.off("orientationchange resize",m),nt&&Nt.off("scroll touchmove",nt)};var Kt,Gt=[],Zt=[],Jt=[],Qt=0;Ft.startActionTrack=function(){Qt||(Jt=[]),Qt++},Ft.endActionTrack=function(){Qt--,Qt||Zt.push(Jt)},Ft.addUndoAction=function(e,t){var s={action:e,async:t};Qt?Jt.push(s):(Zt.push([s]),Zt.length>pt.undoLimit&&Zt.shift())},Ft.undo=function(){function e(){n<0?(Kt=!1,t()):(s=a[n],n--,s.async?s.action(e):(s.action(),e()))}function t(){a=Gt.shift(),a&&(Kt=!0,n=a.length-1,e())}var s,n,a;Zt.length&&Gt.push(Zt.pop()),Kt||t()},pt=Ft.settings,ge=Ft.trigger,Ft.init(t)};As.prototype={_class:"listview",_hasDef:!0,_hasTheme:!0,_hasLang:!0,_defaults:{context:"body",actionsWidth:90,sortDelay:250,undoLimit:10,swipe:!0,quickSwipe:!0,animateIcons:!0,animation:!0,revert:!0,vibrate:!0,handleClass:"",handleMarkup:'<div class="mbsc-lv-handle-bar mbsc-lv-handle"></div><div class="mbsc-lv-handle-bar mbsc-lv-handle"></div><div class="mbsc-lv-handle-bar mbsc-lv-handle"></div>',listNode:"ul",listSelector:"ul,ol",itemNode:"li",itemSelector:"li",leftArrowClass:"mbsc-ic-arrow-left4",rightArrowClass:"mbsc-ic-arrow-right4",backText:"Back",undoText:"Undo",stages:[]}},ys.ListView=As,ne.themes.listview.mobiscroll={leftArrowClass:"mbsc-ic-arrow-left5",rightArrowClass:"mbsc-ic-arrow-right5"},ne.presetShort("listview","ListView");var Os,Is=+new Date,Ls=[],$s={},Es={};try{Os=e.module("ngAnimate")}catch(e){}Os&&Ls.push("ngAnimate"),e.module("mobiscroll-listview",Ls).directive("mobiscrollListviewItem",["$compile","$timeout",function(e,t){return{link:function(s,n,a){var i,r,o,l=Le(n[0]),c=l.parent("ul"),d=a.mobiscrollListviewItem,u=$s[d],m=l.parents(".mbsc-lv-cont").length;u.nodesLeft--,c&&(m||0===u.nodesLeft)&&(m?(r=c.children("li").not(".mbsc-lv-back").index(l),l.addClass("mbsc-lv-item").hide(),t(c.hasClass("mbsc-lv-root")?function(){i=ne.instances[c[0].id],i.add(null,l.show(),r,void 0,c)}:function(){c.prepend(c.children(".mbsc-lv-back")),o=c.parent("li"),i=ne.instances[u.rootNode[0].id],i.add(null,l.show(),r,void 0,o.length?o:c)})):s.$emit("mbscLvLastItemAdded",u.rootNode)),l.append(e('<div style="display:none;"><ul><li mobiscroll-listview-hitem="'+d+'" ng-repeat="item in item.children"></li></ul></div>')(s)[0])}}}]).directive("mobiscrollListviewHitem",["$compile","$timeout",function(e){return{link:function(t,s,n){var a=Le(s[0]),i=a.parent(),r=i.parent().hasClass("mbsc-lv-ng-init"),o=n.mobiscrollListviewHitem;i.children("li").not(".mbsc-lv-back").length<=1&&!r&&i.parent().addClass("mbsc-lv-ng-init").parent().append(e(Le("<ul></ul>").append(N(Es[o],"item.children",o)))(t.$parent)[0]),t.$on("$destroy",function(){i&&(i.children("li").length||(i=i.parent().parent().children("ul"),i.remove()))})}}}]).directive("mobiscrollListview",["$compile","$parse","$timeout",function(e,t,s){return{restrict:"A",require:"?ngModel",compile:function(n){var a,i=Is++,r=n.html().replace(/(mbsc-ng-)|(ms-ng-)/g,"ng-").trim();return function(n,o,l,c){var d,u,m,h=Le(o[0]);c||l.mobiscrollData?(d=n.$eval(l.mobiscrollListview||"{}"),m=l.mobiscrollData||l.ngModel):(d=n.$eval(l.mobiscrollOptions||"{}"),m=l.mobiscrollListview);var f=H(n.$eval(m));$s[i]&&(i=Is++),$s[i]={rootNode:h,allNodes:f,nodesLeft:f},Es[i]=r,a=Le("<div></div>").append(N(r,m,i)),h.empty().append(Le(e(a)(n)[0]).contents()),n.$on("mbscLvLastItemAdded",function(e,a){h[0]==a[0]&&s(function(){u=new ne.classes.ListView(h[0],d),l.mobiscrollInstance&&t(l.mobiscrollInstance).assign(n,u)})}),n.$on("$destroy",function(){u&&(u.destroy(),u=null)}),0===f&&n.$emit("mbscLvLastItemAdded",h)}}}}]),Os&&e.module("mobiscroll-listview").animation(".mbsc-lv-item",function(){return{leave:function(e,t){var s=Le(e[0]),n=ne.instances[s.closest(".mbsc-lv-cont").find(".mbsc-lv-root")[0].id];n.remove(s,void 0,t)}}});var Ns={batch:50,min:0,max:100,defaultUnit:"",units:null,unitNames:null,invalid:[],sign:!1,step:.05,scale:2,convert:function(e){return e},signText:"&nbsp;",wholeText:"Whole",fractionText:"Fraction",unitText:"Unit"};ne.presets.scroller.measurement=function(e){function t(e){return Math.max(y,Math.min(x,H?e<0?Math.ceil(e):Math.floor(e):i(Math.round(e-j),W)+j))}function s(e){return H?i((Math.abs(e)-Math.abs(t(e)))*F-q,W)+q:0}function n(e){var n=t(e),a=s(e),i=e<0?"-":"+";return a>=F&&(e<0?n--:n++,a=0),[i,n,a]}function a(e){var t=+e[p],s=H?e[f]/F*(t<0?-1:1):0;return(L&&"-"==e[0]?-1:1)*(t+s)}function i(e,t){return Math.round(e/t)*t}function r(e,t){for(e+="";e.length<t;)e="0"+e;return e}function o(e,t,s){return t!==s&&D.convert?D.convert.call(this,e,t,s):e}function l(e,t,s){return e=e>s?s:e,e=e<t?t:e}function c(e){var t,n;v=o(D.min,E,e),g=o(D.max,E,e),H?(y=v<0?Math.ceil(v):Math.floor(v),x=g<0?Math.ceil(g):Math.floor(g),w=s(v),_=s(g)):(y=Math.round(v),x=Math.round(g),x=y+Math.floor((x-y)/W)*W,j=y%W),t=y,n=x,L&&(n=Math.abs(t)>Math.abs(n)?Math.abs(t):Math.abs(n),t=t<0?0:t),A.min=t<0?Math.ceil(t/Y):Math.floor(t/Y),A.max=n<0?Math.ceil(n/Y):Math.floor(n/Y)}function d(e){return a(e).toFixed(H?P:0)+($?" "+N[e[b]]:"")}var u,m,h,f,p,b,v,g,y,x,w,_,C,T,M=Ne({},e.settings),D=Ne(e.settings,Ns,M),k={},S=[[]],V={},A={},O={},I=[],L=D.sign,$=D.units&&D.units.length,E=$?D.defaultUnit||D.units[0]:"",N=[],H=D.step<1,Y=D.step>1?D.step:1,P=H?Math.max(D.scale,(D.step+"").split(".")[1].length):1,F=Math.pow(10,P),W=Math.round(H?D.step*F:D.step),R=-1,j=0,q=0,B=0;if(e.setVal=function(t,s,n,a,i){e._setVal(Le.isArray(t)?d(t):t,s,n,a,i)},D.units)for(T=0;T<D.units.length;++T)C=D.units[T],N.push(D.unitNames?D.unitNames[C]||C:C);if(L)if(L=!1,$)for(T=0;T<D.units.length;T++)o(D.min,E,D.units[T])<0&&(L=!0);else L=D.min<0;if(L&&(S[0].push({data:["-","+"],label:D.signText}),R=B++),A={label:D.wholeText,data:function(e){return y%Y+e*Y},getIndex:function(e){return Math.round((e-y%Y)/Y)}},S[0].push(A),p=B++,c(E),H){for(S[0].push(O),O.data=[],O.label=D.fractionText,T=q;T<F;T+=W)I.push(T),O.data.push({value:T,display:"."+r(T,P)});f=B++,u=Math.ceil(100/W),D.invalid&&D.invalid.length&&(Le.each(D.invalid,function(e,t){var s=t>0?Math.floor(t):Math.ceil(t);0===s&&(s=t<=0?-.001:.001),V[s]=(V[s]||0)+1,0===t&&(s=.001,V[s]=(V[s]||0)+1)}),Le.each(V,function(e,t){t<u?delete V[e]:V[e]=e}))}if($){for(k={data:[],label:D.unitText,cssClass:"mbsc-msr-whl-unit",circular:!1},T=0;T<D.units.length;T++)k.data.push({value:T,display:N[T]});S[0].push(k)}return b=B,{wheels:S,minWidth:L&&H?70:80,showLabel:!1,formatValue:d,compClass:"mbsc-msr",parseValue:function(e){var t,s=("number"==typeof e?e+"":e)||D.defaultValue,a=(s+"").split(" "),i=+a[0],r=[],o="";return $&&(o=Le.inArray(a[1],N),o=o==-1?Le.inArray(E,D.units):o,o=o==-1?0:o),h=$?D.units[o]:"",c(h),i=isNaN(i)?0:i,i=l(i,v,g),t=n(i),t[1]=l(t[1],y,x),m=i,L&&(r[0]=t[0],t[1]=Math.abs(t[1])),r[p]=t[1],H&&(r[f]=t[2]),$&&(r[b]=o),r},onCancel:function(){m=void 0},validate:function(t){var s,r,d,u,C,T=t.values,M=t.index,k=t.direction,S={},O=[],N={},P=$?D.units[T[b]]:"";if(L&&0===M&&(m=Math.abs(m)*("-"==T[0]?-1:1)),(M===p||M===f&&H||void 0===m||void 0===M)&&(m=a(T),h=P),($&&M===b&&h!==P||void 0===M)&&(c(P),m=o(m,h,P),h=P,r=n(m),void 0!==M&&(N[p]=A,e.changeWheel(N)),L&&(T[0]=r[0])),O[p]=[],L)for(O[0]=[],v>0&&(O[0].push("-"),T[0]="+"),g<0&&(O[0].push("+"),T[0]="-"),C=Math.abs("-"==T[0]?y:x),B=C+Y;B<C+20*Y;B+=Y)O[p].push(B),S[B]=!0;if(m=l(m,v,g),r=n(m),d=L?Math.abs(r[1]):r[1],s=L?"-"==T[0]:m<0,T[p]=d,s&&(r[0]="-"),H&&(T[f]=r[2]),Le.each(H?V:D.invalid,function(e,t){if(L&&s){if(!(t<=0))return;t=Math.abs(t)}t=i(o(t,E,P),H?1:W),S[t]=!0,O[p].push(t)}),T[p]=e.getValidValue(p,d,k,S),r[1]=T[p]*(L&&s?-1:1),H){O[f]=[];var F=L?T[0]+T[1]:(m<0?"-":"+")+Math.abs(r[1]),R=(v<0?"-":"+")+Math.abs(y),j=(g<0?"-":"+")+Math.abs(x);F===R&&Le(I).each(function(e,t){(s?t>w:t<w)&&O[f].push(t)}),F===j&&Le(I).each(function(e,t){(s?t<_:t>_)&&O[f].push(t)}),Le.each(D.invalid,function(e,t){u=n(o(t,E,P)),(r[0]===u[0]||0===r[1]&&0===u[1]&&0===u[2])&&r[1]===u[1]&&O[f].push(u[2])})}return{disabled:O,valid:T}}}},ne.presetShort("measurement"),ne.presets.scroller.number=ne.presets.scroller.measurement,ne.presetShort("number"),e.module("mobiscroll-number",[]).directive("mobiscrollNumber",["$parse",function(e){return ne.ng.getDDO(e,"mobiscrollNumber",{preset:"number"})}]);var Hs=ne.util,Ys=ne.presets.numpad,Ps=Hs.testTouch,Fs=Hs.getCoord,Ws=Hs.isNumeric,Rs=function(){},js=function(e,t,s){function n(t){var s,n=g.validate.call(e,{values:S.slice(0),variables:H},$)||[],i=n&&n.disabled||[];if($._isValid=!n.invalid,$._tempValue=g.formatValue.call(e,S.slice(0),H,$),v=S.length,V=n.length||O,$._isVisible){if(Le(".mbsc-np-ph",f).each(function(e){Le(this).html("ltr"==g.fill?e>=v?b:y||S[e]:e>=O-V?e+v<O?b:y||S[e+v-O]:"")}),Le(".mbsc-np-cph",f).each(function(){Le(this).html(H[Le(this).attr("data-var")]||Le(this).attr("data-ph"))}),v===O)for(s=0;s<=9;s++)i.push(s);for(Le(".mbsc-np-btn",f).removeClass(p),s=0;s<i.length;s++)Le('.mbsc-np-btn[data-val="'+i[s]+'"]',f).addClass(p);$._isValid?Le(".mbsc-fr-btn-s .mbsc-fr-btn",f).removeClass(p):Le(".mbsc-fr-btn-s .mbsc-fr-btn",f).addClass(p),$.live&&($._hasValue=t||$._hasValue,a(t,!1,t),t&&A("onSet",{valueText:$._value}))}}function a(e,t,s,a){t&&n(),a||(I=S.slice(0),Y=Ne({},H),E=N.slice(0),$._value=$._hasValue?$._tempValue:null),e&&($._isInput&&L.val($._hasValue&&$._isValid?$._value:""),A("onFill",{valueText:$._hasValue?$._tempValue:"",change:s}),s&&($._preventChange=!0,L.trigger("change")))}function i(e){var t,s,n=e||[],a=[];for(N=[],H={},t=0;t<n.length;t++)/:/.test(n[t])?(s=n[t].split(":"),H[s[0]]=s[1],N.push(s[0])):(a.push(n[t]),N.push("digit"));return a}function r(e,t){!(v||t||g.allowLeadingZero)||e.hasClass("mbsc-fr-btn-d")||e.hasClass("mbsc-np-btn-empty")||v<O&&(N.push("digit"),S.push(t),n(!0))}function o(e){var t,s,a=e.attr("data-val"),i="false"!==e.attr("data-track"),r=e.attr("data-var");if(!e.hasClass("mbsc-fr-btn-d")){if(r&&(s=r.split(":"),i&&N.push(s[0]),H[s[0]]=void 0===s[2]?s[1]:H[s[0]]==s[1]?s[2]:s[1]),a.length+v<=V)for(t=0;t<a.length;++t)s=Ws(a[t])?+a[t]:a[t],(g.allowLeadingZero||v||s)&&(N.push("digit"),S.push(s),v=S.length);n(!0)}}function l(){var e,t,s=N.pop();if(v||"digit"!==s){if("digit"!==s&&H[s])for(delete H[s],t=N.slice(0),N=[],e=0;e<t.length;e++)t[e]!==s&&N.push(t[e]);else S.pop();n(!0)}}function c(e){D=!0,x=Fs(e,"X"),w=Fs(e,"Y"),clearInterval(k),clearTimeout(k),l(),k=setInterval(function(){l()},150)}function d(){clearInterval(k),D=!1}function u(e){if(Ps(e,this)){if("keydown"==e.type&&32!=e.keyCode)return;c(e),"mousedown"==e.type&&Le(document).on("mousemove",m).on("mouseup",h)}}function m(e){D&&(_=Fs(e,"X"),C=Fs(e,"Y"),T=_-x,M=C-w,(Math.abs(T)>7||Math.abs(M)>7)&&d())}function h(e){D&&(e.preventDefault(),d(),"mouseup"==e.type&&Le(document).off("mousemove",m).off("mouseup",h))}var f,p,b,v,g,y,x,w,_,C,T,M,D,k,S,V,A,O,I,L=Le(e),$=this,E=[],N=[],H={},Y={},P={107:"+",109:"-"},F={48:0,49:1,50:2,51:3,52:4,53:5,54:6,55:7,56:8,57:9,96:0,97:1,98:2,99:3,100:4,101:5,102:6,103:7,104:8,105:9};et.call(this,e,t,!0),$.setVal=$._setVal=function(t,s,n,r){$._hasValue=null!==t&&void 0!==t,S=i(Le.isArray(t)?t.slice(0):g.parseValue.call(e,t,$)),a(s,!0,void 0===n?s:n,r)},$.getVal=$._getVal=function(e){return $._hasValue||e?$[e?"_tempValue":"_value"]:null},$.setArrayVal=$.setVal,$.getArrayVal=function(e){return e?S.slice(0):$._hasValue?I.slice(0):null},$._readValue=function(){var t=L.val()||"";""!==t&&($._hasValue=!0),y?(H={},N=[],S=[]):(H=$._hasValue?Y:{},N=$._hasValue?E:[],S=$._hasValue&&I?I.slice(0):i(g.parseValue.call(e,t,$)),a(!1,!0))},$._fillValue=function(){$._hasValue=!0,a(!0,!1,!0)},$._generateContent=function(){var e,t,s,n=1,a="",i="";for(i+='<div class="mbsc-np-hdr"><div role="button" tabindex="0" aria-label="'+g.deleteText+'" class="mbsc-np-del mbsc-fr-btn-e mbsc-ic mbsc-ic-'+g.deleteIcon+'"></div><div class="mbsc-np-dsp">',a=g.template.replace(/d/g,'<span class="mbsc-np-ph">'+b+"</span>").replace(/&#100;/g,"d"),a=a.replace(/{([a-zA-Z0-9]*)\:?([a-zA-Z0-9\-\_]*)}/g,'<span class="mbsc-np-cph" data-var="$1" data-ph="$2">$2</span>'),i+=a,i+="</div></div>",i+='<div class="mbsc-np-tbl-c mbsc-w-p"><div class="mbsc-np-tbl">',e=0;e<4;e++){for(i+='<div class="mbsc-np-row">',t=0;t<3;t++)s=n,10==n||12==n?s="":11==n&&(s=0),i+=""===s?10==n&&g.leftKey?'<div role="button" tabindex="0" class="mbsc-np-btn mbsc-np-btn-custom mbsc-fr-btn-e" '+(g.leftKey.variable?'data-var="'+g.leftKey.variable+'"':"")+' data-val="'+(g.leftKey.value||"")+'" '+(void 0!==g.leftKey.track?' data-track="'+g.leftKey.track+'"':"")+">"+g.leftKey.text+"</div>":12==n&&g.rightKey?'<div role="button" tabindex="0" class="mbsc-np-btn mbsc-np-btn-custom mbsc-fr-btn-e" '+(g.rightKey.variable?'data-var="'+g.rightKey.variable+'"':"")+' data-val="'+(g.rightKey.value||"")+'" '+(void 0!==g.rightKey.track?' data-track="'+g.rightKey.track+'"':"")+" >"+g.rightKey.text+"</div>":'<div class="mbsc-np-btn mbsc-np-btn-empty"></div>':'<div tabindex="0" role="button" class="mbsc-np-btn mbsc-fr-btn-e" data-val="'+s+'">'+s+"</div>",n++;i+="</div>"}return i+="</div></div>"},$._markupReady=function(){f=$._markup,n()},$._attachEvents=function(e){e.on("keydown",function(t){var s;void 0!==P[t.keyCode]?(s=Le('.mbsc-np-btn[data-var="sign:-:"]',e),s.length&&(H.sign=107==t.keyCode?"-":"",o(s))):void 0!==F[t.keyCode]?r(Le('.mbsc-np-btn[data-val="'+F[t.keyCode]+'"]',e),F[t.keyCode]):8==t.keyCode&&(t.preventDefault(),l())}),$.tap(Le(".mbsc-np-btn",e),function(){var e=Le(this);e.hasClass("mbsc-np-btn-custom")?o(e):r(e,+e.attr("data-val"))},!1,30,!0),Le(".mbsc-np-del",e).on("touchstart mousedown keydown",u).on("touchmove mousemove",m).on("touchend mouseup keyup",h)},$.__init=function(){g=$.settings,g.cssClass=(g.cssClass||"")+" mbsc-np",g.template=g.template.replace(/\\d/,"&#100;"),b=g.placeholder,O=(g.template.match(/d/g)||[]).length,p="mbsc-fr-btn-d "+(g.disabledClass||""),y=g.mask,A=$.trigger,y&&L.is("input")&&L.attr("type","password")},$._indexOf=function(e,t){var s;for(s=0;s<e.length;++s)if(e[s].toString()===t.toString())return s;return-1},s||$.init(t)};js.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_hasPreset:!0,_class:"numpad",_defaults:Ne({},et.prototype._defaults,{template:"dd.dd",placeholder:"0",deleteIcon:"backspace",allowLeadingZero:!1,headerText:!1,fill:"rtl",deleteText:"Delete",decimalSeparator:".",thousandsSeparator:",",validate:Rs,parseValue:Rs,formatValue:function(e,t,s){var n,a=1,i=s.settings,r=i.placeholder,o=i.template,l=e.length,c=o.length,d="";for(n=0;n<c;n++)"d"==o[c-n-1]?(d=a<=l?e[l-a]+d:r+d,a++):d=o[c-n-1]+d;return Le.each(t,function(e,t){d=d.replace("{"+e+"}",t)}),Le("<div>"+d+"</div>").text();
}})},ne.classes.Numpad=js,ne.themes.numpad=ne.themes.frame,ne.presetShort("numpad","Numpad",!1);var qs={min:0,max:99.99,scale:2,prefix:"",suffix:"",returnAffix:!1};Ys.decimal=function(e){function t(e,t){for(var s,n=e.slice(0),i=0;n.length;)i=10*i+n.shift();for(s=0;s<a.scale;s++)i/=10;return t?i*-1:i}function s(e){var s=t(e).toFixed(a.scale).replace(".",a.decimalSeparator).replace(/\B(?=(\d{3})+(?!\d))/g,a.thousandsSeparator);return s}var n=Ne({},e.settings),a=Ne(e.settings,qs,n),i=a.min<0;return e.getVal=function(t){var s=e._getVal(t),n=(s+"").replace(a.decimalSeparator,".").replace(a.thousandsSeparator,"");return Hs.isNumeric(n)?+n:s},{template:(i?"{sign}":"")+a.prefix.replace(/d/g,"\\d")+Array((Math.floor(Math.max(a.max,Math.abs(a.min)))+"").length+1).join("d")+(a.scale?"."+Array(a.scale+1).join("d"):"")+a.suffix.replace(/d/g,"\\d"),leftKey:i?{text:"-/+",variable:"sign:-:",track:!1}:void 0,parseValue:function(e){var t,s,n=e||a.defaultValue,i=[];if(n&&(n=(n+"").replace(a.decimalSeparator,".").replace(a.thousandsSeparator,""),s=n.match(/\d+\.?\d*/g)))for(s=(+s[0]).toFixed(a.scale),t=0;t<s.length;t++)"."!=s[t]&&(+s[t]?i.push(+s[t]):i.length&&i.push(0));return e<0&&i.push("sign:-"),i},formatValue:function(e,n){var i=s(e),r=t(e,n&&"-"==n.sign);return(r<0?"-":"")+(a.returnAffix?a.prefix+i+a.suffix:i)},validate:function(n){var i=n.values,r=s(i),o=t(i,n.variables&&"-"==n.variables.sign),l=[];return i.length||a.allowLeadingZero||l.push(0),e.isVisible()&&Le(".mbsc-np-dsp",e._markup).html((n.variables.sign||"")+a.prefix+r+a.suffix),{disabled:l,invalid:o>a.max||o<a.min||!!a.invalid&&e._indexOf(a.invalid,o)!=-1}}}};var Bs=["h","m","s"],Xs={min:0,max:362439,defaultValue:0,hourTextShort:"h",minuteTextShort:"m",secTextShort:"s"};Ys.timespan=function(e){function t(e){var t,s="",n=3600;return Le(Bs).each(function(i,r){t=Math.floor(e/n),e-=t*n,n/=60,(t>0||"s"==r&&!s)&&(s=s+(s?" ":"")+t+a[r])}),s}var s=Ne({},e.settings),n=Ne(e.settings,Xs,s),a={h:n.hourTextShort.replace(/d/g,"\\d"),m:n.minuteTextShort.replace(/d/g,"\\d"),s:n.secTextShort.replace(/d/g,"\\d")},i='d<span class="mbsc-np-sup mbsc-np-time">'+a.s+"</span>";return n.max>9&&(i="d"+i),n.max>99&&(i='<span class="mbsc-np-ts-m">'+(n.max>639?"d":"")+'d</span><span class="mbsc-np-sup mbsc-np-time">'+a.m+"</span>"+i),n.max>6039&&(i='<span class="mbsc-np-ts-h">'+(n.max>38439?"d":"")+'d</span><span class="mbsc-np-sup mbsc-np-time">'+a.h+"</span>"+i),e.setVal=function(s,n,a,i){return Hs.isNumeric(s)&&(s=t(s)),e._setVal(s,n,a,i)},e.getVal=function(t){return e._hasValue||t?Y(e.getArrayVal(t)):null},{template:i,parseValue:function(e){var s,i=e||t(n.defaultValue),r=[];return i&&Le(Bs).each(function(e,t){s=new RegExp("(\\d+)"+a[t],"gi").exec(i),s?(s=+s[1],s>9?(r.push(Math.floor(s/10)),r.push(s%10)):(r.length&&r.push(0),(s||r.length)&&r.push(s))):r.length&&(r.push(0),r.push(0))}),r},formatValue:function(e){return t(Y(e))},validate:function(t){var s=t.values,a=Y(s.slice(0)),i=[];return s.length||i.push(0),{disabled:i,invalid:a>n.max||a<n.min||!!n.invalid&&e._indexOf(n.invalid,+a)!=-1}}}};var Us={timeFormat:"hh:ii A",amText:"am",pmText:"pm"};Ys.time=function(e){function t(e,t){var s,n="";for(s=0;s<e.length;++s)n+=e[s]+(s%2==(e.length%2==1?0:1)&&s!=e.length-1?":":"");return Le.each(t,function(e,t){n+=" "+t}),n}function s(e){var t,s,n,o,l,b,v,g,y,x,w=[],_=2*i.length;if(c=_,e.length||(r&&(w.push(0),w.push(a.leftKey.value)),w.push(a.rightKey.value)),!r&&(_-e.length<2||1!=e[0]&&(e[0]>2||e[1]>3)&&_-e.length<=2)&&(w.push("30"),w.push("00")),(r?e[0]>1||e[1]>2:1!=e[0]&&(e[0]>2||e[1]>3))&&e[0]&&(e.unshift(0),c=_-1),e.length==_)for(t=0;t<=9;++t)w.push(t);else if(1==e.length&&r&&1==e[0]||e.length&&e.length%2===0||!r&&2==e[0]&&e[1]>3&&e.length%2==1)for(t=6;t<=9;++t)w.push(t);if(y=void 0!==e[1]?""+e[0]+e[1]:"",x=+h==+(void 0!==e[3]?""+e[2]+e[3]:""),a.invalid)for(t=0;t<a.invalid.length;++t)if(b=a.invalid[t].getHours(),v=a.invalid[t].getMinutes(),g=a.invalid[t].getSeconds(),b==+y){if(2==i.length&&(v<10?0:+(""+v)[0])==+e[2]){w.push(v<10?v:+(""+v)[1]);break}if((g<10?0:+(""+g)[0])==+e[4]){w.push(g<10?g:+(""+g)[1]);break}}if(a.min||a.max){if(s=+d==+y,n=+u==+y,l=n&&x,o=s&&x,0===e.length){for(t=r?2:d>19?d[0]:3;t<=(1==d[0]?9:d[0]-1);++t)w.push(t);if(d>=10&&(w.push(0),2==d[0]))for(t=3;t<=9;++t)w.push(t);if(u&&u<10||d&&d>=10)for(t=u&&u<10?+u[0]+1:0;t<(d&&d>=10?d[0]:10);++t)w.push(t)}if(1==e.length){if(0===e[0])for(t=0;t<d[0];++t)w.push(t);if(d&&0!==e[0]&&(r?1==e[0]:2==e[0]))for(t=r?3:4;t<=9;++t)w.push(t);if(e[0]==d[0])for(t=0;t<d[1];++t)w.push(t);if(e[0]==u[0]&&!r)for(t=+u[1]+1;t<=9;++t)w.push(t)}if(2==e.length&&(s||n))for(t=n?+h[0]+1:0;t<(s?+m[0]:10);++t)w.push(t);if(3==e.length&&(n&&e[2]==h[0]||s&&e[2]==m[0]))for(t=n&&e[2]==h[0]?+h[1]+1:0;t<(s&&e[2]==m[0]?+m[1]:10);++t)w.push(t);if(4==e.length&&(o||l))for(t=l?+p[0]+1:0;t<(o?+f[0]:10);++t)w.push(t);if(5==e.length&&(o&&e[4]==f[0]||l&&e[4]==p[0]))for(t=l&&e[4]==p[0]?+p[1]+1:0;t<(o&&e[4]==f[0]?+f[1]:10);++t)w.push(t)}return w}var n=Ne({},e.settings),a=Ne(e.settings,Us,n),i=a.timeFormat.split(":"),r=a.timeFormat.match(/a/i),o=r?"a"==r[0]?a.amText:a.amText.toUpperCase():"",l=r?"a"==r[0]?a.pmText:a.pmText.toUpperCase():"",c=0,d=a.min?""+a.min.getHours():"",u=a.max?""+a.max.getHours():"",m=a.min?""+(a.min.getMinutes()<10?"0"+a.min.getMinutes():a.min.getMinutes()):"",h=a.max?""+(a.max.getMinutes()<10?"0"+a.max.getMinutes():a.max.getMinutes()):"",f=a.min?""+(a.min.getSeconds()<10?"0"+a.min.getSeconds():a.min.getSeconds()):"",p=a.max?""+(a.max.getSeconds()<10?"0"+a.max.getSeconds():a.max.getSeconds()):"";return a.min?a.min.setFullYear(2014,7,20):"",a.max?a.max.setFullYear(2014,7,20):"",{placeholder:"-",allowLeadingZero:!0,template:(3==i.length?"dd:dd:dd":2==i.length?"dd:dd":"dd")+(r?'<span class="mbsc-np-sup">{ampm:--}</span>':""),leftKey:r?{text:o,variable:"ampm:"+o,value:"00"}:{text:":00",value:"00"},rightKey:r?{text:l,variable:"ampm:"+l,value:"00"}:{text:":30",value:"30"},parseValue:function(e){var t,s,n=e||a.defaultValue,i=[];if(n){if(n+="",s=n.match(/\d/g))for(t=0;t<s.length;t++)i.push(+s[t]);r&&i.push("ampm:"+(n.match(new RegExp(a.pmText,"gi"))?l:o))}return i},formatValue:function(e,s){return t(e,s)},validate:function(n){var i=n.values,o=n.variables,l=t(i,o),d=i.length>=3?new Date(2014,7,20,""+i[0]+(i.length%2===0?i[1]:""),""+i[i.length%2===0?2:1]+i[i.length%2===0?3:2]):"";return{disabled:s(i),length:c,invalid:(r?!new RegExp("^(0?[1-9]|1[012])(:[0-5]\\d)?(:[0-5][0-9]) (?:"+a.amText+"|"+a.pmText+")$","i").test(l):!/^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?$/.test(l))||!!a.invalid&&e._indexOf(a.invalid,d)!=-1||!((!a.min||a.min<=d)&&(!a.max||d<=a.max))}}}};var zs={dateOrder:"mdy",dateFormat:"mm/dd/yy",delimiter:"/"};Ys.date=function(e){function t(e){return e%4===0&&e%100!==0||e%400===0}function s(e){var s,n,o,l,c,u=[],g=void 0!==e[a+3]?""+e[a]+e[a+1]+e[a+2]+e[a+3]:"",y=void 0!==e[i+1]?""+e[i]+e[i+1]:"",x=void 0!==e[r+1]?""+e[r]+e[r+1]:"",w=""+d.getMaxDayOfMonth(g||2012,y-1||0),_=b===g&&+m===+y,C=v===g&&+h===+y;if(d.invalid)for(s=0;s<d.invalid.length;++s){if(o=d.getYear(d.invalid[s]),l=d.getMonth(d.invalid[s]),c=d.getDay(d.invalid[s]),o==+g&&l+1==+y&&(c<10?0:+(""+c)[0])==+e[r]){u.push(c<10?c:+(""+c)[1]);break}if(l+1==+y&&c==+x&&(""+o).substring(0,3)==""+e[a]+e[a+1]+e[a+2]){u.push((""+o)[3]);break}if(o==+g&&c==+x&&(l<10?0:+(""+(l+1))[0])==+e[i]){u.push(l<10?l:+(""+(l+1))[1]);break}}if("31"!=x||e.length!=i&&e.length!=i+1||(1!=e[i]?u.push(2,4,6,9,11):u.push(1)),"30"==x&&0===e[i]&&e.length<=i+1&&u.push(2),e.length==i){for(s=v===g&&+h<10?1:2;s<=9;++s)u.push(s);b===g&&+m>=10&&u.push(0)}if(e.length==i+1){if(1==e[i]){for(s=v===g?+h[1]+1:3;s<=9;++s)u.push(s);if(b==g)for(s=0;s<+m[1];++s)u.push(s)}if(0===e[i]&&(u.push(0),v===g||b===g))for(s=v===g?+x>+p?+h:+h+1:0;s<=(b===g?+x<+f?+m-1:+m-1:9);++s)u.push(s)}if(e.length==r){for(s=C?(+p>10?+p[0]:0)+1:+w[0]+1;s<=9;++s)u.push(s);if(_)for(s=0;s<(+f<10?0:f[0]);++s)u.push(s)}if(e.length==r+1){if(e[r]>=3||"02"==y)for(s=+w[1]+1;s<=9;++s)u.push(s);if(C&&+p[0]==e[r])for(s=+p[1]+1;s<=9;++s)u.push(s);if(_&&f[0]==e[r])for(s=0;s<+f[1];++s)u.push(s);if(0===e[r]&&(u.push(0),C||_))for(s=C?+p+1:1;s<=(_?+f-1:9);++s)u.push(s)}if(void 0!==e[a+2]&&"02"==y&&"29"==x)for(n=+(""+e[a]+e[a+1]+e[a+2]+0);n<=+(""+e[a]+e[a+1]+e[a+2]+9);++n)u.push(t(n)?"":n%10);if(e.length==a){if(d.min)for(s=0;s<+b[0];++s)u.push(s);if(d.max)for(s=+v[0]+1;s<=9;++s)u.push(s);u.push(0)}if(d.min||d.max)for(n=1;n<4;++n)if(e.length==a+n){if(e[a+n-1]==+b[n-1]&&(3!=n||e[a+n-2]==+b[n-2]))for(s=0;s<+b[n]+(3==n&&e[i+1]&&+m>+y?1:0);++s)u.push(s);if(e[a+n-1]==+v[n-1]&&(3!=n||e[a+n-2]==+v[n-2]))for(s=+v[n]+(3==n&&+h<+y?0:1);s<=9;++s)u.push(s)}return u}function n(e){return new Date(+(""+e[a]+e[a+1]+e[a+2]+e[a+3]),+(""+e[i]+e[i+1])-1,+(""+e[r]+e[r+1]))}var a,i,r,o,l=[],c=Ne({},e.settings),d=Ne(e.settings,Dt.defaults,zs,c),u=d.dateOrder,m=d.min?""+(d.getMonth(d.min)+1):0,h=d.max?""+(d.getMonth(d.max)+1):0,f=d.min?""+d.getDay(d.min):0,p=d.max?""+d.getDay(d.max):0,b=d.min?""+d.getYear(d.min):0,v=d.max?""+d.getYear(d.max):0;for(u=u.replace(/y+/gi,"yyyy"),u=u.replace(/m+/gi,"mm"),u=u.replace(/d+/gi,"dd"),a=u.toUpperCase().indexOf("Y"),i=u.toUpperCase().indexOf("M"),r=u.toUpperCase().indexOf("D"),u="",l.push({val:a,n:"yyyy"},{val:i,n:"mm"},{val:r,n:"dd"}),l.sort(function(e,t){return e.val-t.val}),Le.each(l,function(e,t){u+=t.n}),a=u.indexOf("y"),i=u.indexOf("m"),r=u.indexOf("d"),u="",o=0;o<8;++o)u+="d",o+1!=a&&o+1!=i&&o+1!=r||(u+=d.delimiter);return e.getVal=function(t){return e._hasValue||t?n(e.getArrayVal(t)):null},{placeholder:"-",fill:"ltr",allowLeadingZero:!0,template:u,parseValue:function(e){var t,s=[],n=e||d.defaultValue,a=Dt.parseDate(d.dateFormat,n,d);if(n)for(t=0;t<l.length;++t)s=/m/i.test(l[t].n)?s.concat(((d.getMonth(a)<9?"0":"")+(d.getMonth(a)+1)).split("")):/d/i.test(l[t].n)?s.concat(((d.getDay(a)<10?"0":"")+d.getDay(a)).split("")):s.concat((d.getYear(a)+"").split(""));return s},formatValue:function(e){return Dt.formatDate(d.dateFormat,n(e),d)},validate:function(t){var a=t.values,i=n(a);return{disabled:s(a),invalid:!("Invalid Date"!=i&&(!d.min||d.min<=i)&&(!d.max||i<=d.max))||!!d.invalid&&e._indexOf(d.invalid,i)!=-1}}}},e.module("mobiscroll-numpad",[]).directive("mobiscrollNumpad",["$parse",function(e){return ne.ng.getDDO(e,"mobiscrollNumpad",{component:"Numpad"})}]);var Ks=ne.classes,Gs=1,Zs=function(e,t){function s(e){clearTimeout(w),w=setTimeout(function(){c("load"!==e.type)},200)}function n(e,t){if(e.length){var s=e.offset().left,n=e[0].offsetLeft,r=e[0].offsetWidth,o=u.offset().left;d=e,void 0===t&&(t=!y),C&&t&&(y?"true"==e.attr("data-selected")?i(e):a(e):(i(Le(".mbsc-ms-item-sel",$)),a(e))),_&&(n=S-n-r),"a"==D?s<o?M.scroll(_?n+r-b:-n,I,!0):s+r>o+b&&M.scroll(_?n:b-n-r,I,!0):M.scroll(b/2-n-r/2,I,!0),t&&A("onItemTap",{target:e[0]})}}function a(e){e.addClass(T).attr("data-selected","true").attr("aria-selected","true")}function i(e){e.removeClass(T).removeAttr("data-selected").removeAttr("aria-selected")}function r(e){return"object"!==("undefined"==typeof e?"undefined":ae(e))&&(e=$.children('[data-id="'+e+'"]')),Le(e)}function o(){v&&"inline"!=v&&m.find(".mbsc-page").css("padding-"+v,"")}function l(){var e,t;$.find(".mbsc-ripple").remove(),$.children().each(function(s){var n,a=Le(this),i=C&&"true"==a.attr("data-selected"),r="true"==a.attr("data-disabled"),o=a.attr("data-icon"),l=a.attr("data-ref");l||(l=Gs++),0===s&&(h=a),C&&!y&&i&&(d=a),o&&(e=!0),a.text()&&(t=!0),n="mbsc-ms-item "+(k.itemClass||"")+(k.tapHighlight?" mbsc-btn-e":"")+(i?T:"")+(r?" mbsc-btn-d "+(k.disabledClass||""):"")+(o?" mbsc-ms-ic mbsc-ic mbsc-ic-"+o:""),a.attr("data-ref",l).attr("data-role","button").attr("aria-selected",i?"true":"false").attr("aria-disabled",r?"true":"false").removeClass(O[l]).addClass(n),O[l]=n}),e?u.addClass("mbsc-ms-icons"):u.removeClass("mbsc-ms-icons"),t?u.addClass("mbsc-ms-txt"):u.removeClass("mbsc-ms-txt")}function c(t,s){var n=k.itemWidth,a=k.layout;L.contWidth=b=u.width(),t&&x===b||!b||(x=b,ne.util.isNumeric(a)&&(g=b?b/a:n,g<n&&(a="liquid")),n&&("liquid"==a?g=b?b/Math.min(Math.floor(b/n),$.children().length):n:"fixed"==a&&(g=n)),g&&$.children().css("width",g+"px"),"inline"!=v&&m.find(".mbsc-page").css("padding-"+v,e.offsetHeight+"px"),L.totalWidth=S=e.offsetWidth,Ne(M.settings,{contSize:b,maxSnapScroll:!!k.paging&&1,maxScroll:0,minScroll:S>b?b-S:0,snap:k.paging?b:!!k.snap&&(g||".mbsc-ms-item"),elastic:S>b&&(g||b)}),M.refresh(s))}var d,u,m,h,f,p,b,v,g,y,x,w,_,C,T,M,D,k,S,V,A,O={},I=1e3,L=this,$=Le(e);Ks.Base.call(this,e,t,!0),L.navigate=function(e,t){n(r(e),t)},L.next=function(e){var t=d?d.next():h;t.length&&(d=t,n(d,e))},L.prev=function(e){var t=d?d.prev():h;t.length&&(d=t,n(d,e))},L.select=function(e){y||i(Le(".mbsc-ms-item-sel",$)),a(r(e))},L.deselect=function(e){i(r(e))},L.enable=function(e){r(e).removeClass("mbsc-btn-d").removeAttr("data-disabled").removeAttr("aria-disabled")},L.disable=function(e){r(e).addClass("mbsc-btn-d").attr("data-disabled","true").attr("aria-disabled","true")},L.refresh=L.position=function(e){l(),c(!1,e)},L._init=function(){m=Le(k.context),f=Le("body"==k.context?window:k.context),"tabs"==k.type?(k.select=k.select||"single",k.variant=k.variant||"b"):"options"==k.type?(k.select=k.select||"multiple",k.variant=k.variant||"a"):"menu"==k.type&&(k.select=k.select||"off",k.variant=k.variant||"a"),k.itemWidth&&void 0===k.snap&&(k.snap=!0),o(),v=k.display,_=k.rtl,D=k.variant,C="off"!=k.select,y="multiple"==k.select,T=" mbsc-ms-item-sel "+(k.activeClass||""),p="mbsc-ms-c mbsc-no-touch mbsc-ms-"+D+" mbsc-ms-"+v+" mbsc-"+k.theme+" "+(k.baseTheme?" mbsc-"+k.baseTheme:"")+" "+(k.cssClass||"")+" "+(k.wrapperClass||"")+(_?" mbsc-ms-rtl":" mbsc-ms-ltr")+(k.itemWidth?" mbsc-ms-hasw":"")+("body"==k.context?"":" mbsc-ms-ctx")+(C?"":" mbsc-ms-nosel"),u?(u.attr("class",p),$.off(".mbsc-ripple")):(u=Le('<div class="'+p+'"><div class="mbsc-ms-sc"></div></div>').insertAfter($),u.find(".mbsc-ms-sc").append($),M=new mt(u[0],{axis:"X",contSize:0,maxScroll:0,maxSnapScroll:1,minScroll:0,snap:1,elastic:1,rtl:_,mousewheel:k.mousewheel,thresholdX:k.threshold,onStart:function(e){V||"touchstart"!=e.domEvent.type||(V=!0,m.find(".mbsc-no-touch").removeClass("mbsc-no-touch"))},onBtnTap:function(e){n(Le(e.target),!0)},onGestureStart:function(e){A("onGestureStart",e)},onGestureEnd:function(e){A("onGestureEnd",e)},onMove:function(e){A("onMove",e)},onAnimationStart:function(e){A("onAnimationStart",e)},onAnimationEnd:function(e){A("onAnimationEnd",e)}})),$.css("display","").addClass("mbsc-ms "+(k.groupClass||"")),l(),A("onMarkupReady",{target:u[0]}),c(),u.find("img").on("load",s),f.on("orientationchange resize",s)},L._destroy=function(){o(),f.off("orientationchange resize",s),$.removeClass("mbsc-ms mbsc-ms-a mbsc-ms-b").insertAfter(u).find(".mbsc-ms-item").each(function(){var e=Le(this);e.width("").removeClass(O[e.attr("data-ref")])}),u.remove(),M.destroy()},k=L.settings,A=L.trigger,L.init(t)};Zs.prototype={_class:"menustrip",_hasDef:!0,_hasTheme:!0,_hasLang:!0,_defaults:{context:"body",type:"options",display:"inline",layout:"liquid",tapHighlight:!0}},Ks.MenuStrip=Zs,ne.presetShort("menustrip","MenuStrip");var Js="mobiscrollMenustrip",Qs=["ng-repeat","ng:repeat","data-ng-repeat","x-ng-repeat","ng_repeat"];e.module("mobiscroll-menustrip",[]).directive("mobiscrollRepeatRender",function(){return function(e){e.$emit("mbscRepeatRender")}}).directive(Js,["$parse","$timeout",function(e,t){var s=ne.ng.getDDO(e,Js,{component:"MenuStrip"},function(){},function(){});return s.compile=function(s){var n,a,i=Le(s[0]);return i.find("li").each(function(){for(a=0;a<Qs.length;a++)if(Le(this).attr(Qs[a]))return n=!0,!1}),n&&i.children().attr("mobiscroll-repeat-render",""),function(s,a,i){var r,o,l=Le(a[0]),c=s.$eval(i[Js]||"{}");n?s.$on("mbscRepeatRender",function(){clearTimeout(o),o=setTimeout(function(){r=new ne.classes.MenuStrip(a[0],c),i.mobiscrollInstance&&e(i.mobiscrollInstance).assign(s,r)},1)}):l.children().length&&t(function(){r=new ne.classes.MenuStrip(a[0],c),i.mobiscrollInstance&&e(i.mobiscrollInstance).assign(s,r)}),s.$on("$destroy",function(){r&&(r.destroy(),r=null)})}},s}]);var en=function(e,t,s){function n(e){Le(".mbsc-fr-c",e).hasClass("mbsc-wdg-c")||(Le(".mbsc-fr-c",e).addClass("mbsc-wdg-c").append(o.show()),Le(".mbsc-w-p",e).length||Le(".mbsc-fr-c",e).addClass("mbsc-w-p"))}var a,i,r,o=Le(e),l=this;et.call(this,e,t,!0),l._generateContent=function(){return""},l._markupReady=function(e){"inline"!=a.display&&n(e)},l._markupInserted=function(e){"inline"==a.display&&n(e),e.trigger("mbsc-enhance",[{theme:a.theme,lang:a.lang}])},l._markupRemove=function(){o.hide(),i?i.prepend(o):r.after(o)},l.__processSettings=function(){a=l.settings,l.buttons.ok={text:a.okText,icon:a.okIcon,handler:"set"},a.buttons=a.buttons||("inline"==a.display?[]:["ok"]),i||r||(r=o.prev(),r.length||(i=o.parent())),o.hide()},l.__init=function(){a.cssClass=(a.cssClass||"")+" mbsc-wdg"},s||l.init(t)};en.prototype={_hasDef:!0,_hasTheme:!0,_hasContent:!0,_class:"widget",_defaults:Ne({},et.prototype._defaults,{okText:"OK",headerText:!1})},ne.classes.Widget=en,ne.themes.widget=ne.themes.frame,ne.presetShort("widget","Widget",!1),e.module("mobiscroll-widget",[]).directive("mobiscrollWidget",["$parse",function(e){return ne.ng.getDDO(e,"mobiscrollWidget",{component:"Widget"})}]);var tn=ne.classes,sn=function(e,t){var s="",n=Le(e),a=this,i=a.settings;tn.Base.call(this,e,t,!0),a._init=function(){var e=i.context,t=Le(e),a=t.find(".mbsc-ms-top .mbsc-ms"),r=t.find(".mbsc-ms-bottom .mbsc-ms"),o={};"body"==e?Le("body,html").addClass("mbsc-page-ctx"):t.addClass("mbsc-page-ctx"),s&&n.removeClass(s),a.length&&(o.paddingTop=a[0].offsetHeight),r.length&&(o.paddingBottom=r[0].offsetHeight),s="mbsc-page mbsc-"+i.theme+(i.baseTheme?" mbsc-"+i.baseTheme:"")+(i.rtl?" mbsc-rtl":" mbsc-ltr"),n.addClass(s).css(o)},a._destroy=function(){n.removeClass(s)},i=a.settings,a.init(t)};sn.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_class:"page",_defaults:{context:"body"}},tn.Page=sn,ne.themes.page.mobiscroll={},ne.presetShort("page","Page"),we&&Le(function(){var e="[mbsc-page]";Le(e).each(function(){new tn.Page(this)}),Le(document).on("mbsc-enhance",function(t,s){Le(t.target).is(e)?new tn.Page(t.target,s):Le(e,t.target).each(function(){new tn.Page(this,s)})})}),e.module("mobiscroll-page",[]).directive("mobiscrollPage",["$parse",function(e){return{restrict:"A",link:function(t,s,n){var a=new ne.classes.Page(s[0],ne.ng.getOpt(t,n,"mobiscrollPage",!0));n.mobiscrollInstance&&e(n.mobiscrollInstance).assign(t,a),t.$on("$destroy",function(){a.destroy()})}}}]);var nn=we&&!!window.Promise,an=[],rn=[];ne.alert=function(e){var t=document.createElement("div");return t.innerHTML=R(e),z(j,t,e)},ne.confirm=function(e){var t=document.createElement("div");return t.innerHTML=R(e),z(q,t,e)},ne.prompt=function(e){var t=document.createElement("div");return t.innerHTML=R(e)+'<label class="mbsc-input">'+(e.label?'<span class="mbsc-label">'+e.label+"</span>":"")+'<input tabindex="0" type="'+(e.inputType||"text")+'" placeholder="'+(e.placeholder||"")+'" value="'+(e.value||"")+'"></label>',z(B,t,e)},ne.snackbar=function(e){var t=document.createElement("div");return t.innerHTML='<div class="mbsc-snackbar-cont"><div class="mbsc-snackbar-msg">'+(e.message||"")+"</div>"+(e.button?'<button class="mbsc-snackbar-btn mbsc-btn mbsc-btn-flat">'+(e.button.text||"")+"</button>":"")+"</div>",z(X,t,e)},ne.toast=function(e){var t=document.createElement("div");return t.innerHTML='<div class="mbsc-toast-msg">'+(e.message||"")+"</div>",z(U,t,e)};var on=ne.util,ln=on.getCoord,cn=on.testTouch,dn=["touchstart","touchmove","touchend","touchcancel","mousedown","mousemove","mouseup","mouseleave"],un={tap:!0},mn=void 0,hn=function(){function e(t,s){var n=this;ie(this,e);var a=Ne({},un,ne.settings,s),i=Le(t),r=i.parent(),o=r.hasClass("mbsc-input-wrap")?r.parent():r,l=i.next().hasClass("mbsc-fr")?i.next():null,c=K(i);l&&l.insertAfter(o),M(o,c),i.addClass("mbsc-control"),dn.forEach(function(e){t.addEventListener(e,n)}),this.settings=a,this._type=c,this._elm=t,this._$elm=i,this._$parent=o,this._$frame=l,this._ripple=G(a.theme)}return re(e,[{key:"destroy",value:function(){var e=this;this._$elm.removeClass("mbsc-control"),dn.forEach(function(t){e._elm.removeEventListener(t,e)})}},{key:"option",value:function(e){Ne(this.settings,e),this._ripple=G(this.settings.theme)}},{key:"handleEvent",value:function(e){switch(e.type){case"touchstart":case"mousedown":this._onStart(e);break;case"touchmove":case"mousemove":this._onMove(e);break;case"touchend":case"touchcancel":case"mouseup":case"mouseleave":this._onEnd(e)}}},{key:"_addRipple",value:function(e){this._ripple&&this._$rippleElm&&this._ripple.addRipple(this._$rippleElm,e)}},{key:"_removeRipple",value:function(){this._ripple&&this._$rippleElm&&this._ripple.removeRipple()}},{key:"_onStart",value:function(e){var t=this._elm;cn(e,t)&&(this._startX=ln(e,"X"),this._startY=ln(e,"Y"),mn&&mn.removeClass("mbsc-active"),t.disabled||(this._isActive=!0,mn=this._$elm,mn.addClass("mbsc-active"),this._addRipple(e)))}},{key:"_onMove",value:function(e){(this._isActive&&Math.abs(ln(e,"X")-this._startX)>9||Math.abs(ln(e,"Y")-this._startY)>9)&&(this._$elm.removeClass("mbsc-active"),this._removeRipple(),this._isActive=!1)}},{key:"_onEnd",value:function(e){var t=this,s=this._elm,n=this._type;if(this._isActive&&this.settings.tap&&"touchend"==e.type&&!s.readOnly&&(s.focus(),/(button|submit|checkbox|switch|radio)/.test(n)&&e.preventDefault(),!/select/.test(n))){var a=(e.originalEvent||e).changedTouches[0],i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),i.tap=!0,s.mbscChange=!0,s.dispatchEvent(i),on.preventClick()}this._isActive&&setTimeout(function(){t._$elm.removeClass("mbsc-active"),t._removeRipple()},100),this._isActive=!1,mn=null}}]),e}(),fn=function(e){function t(e){ie(this,t);var s=ce(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return T(s,s._$parent,s._$elm),s._$parent.addClass("mbsc-input"),s}return le(t,e),re(t,[{key:"destroy",value:function(){oe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this._$parent.removeClass("mbsc-ic-left mbsc-ic-right").find(".mbsc-input-ic").remove()}}]),t}(hn),pn=function(e){function t(e,s){ie(this,t);var n=ce(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,s)),a=n._$elm,i=a.attr("data-icon");return a.addClass("mbsc-btn").find(".mbsc-btn-ic").remove(),i&&(a.prepend('<span class="mbsc-btn-ic mbsc-ic mbsc-ic-'+i+'"></span>'),""===a.text()&&a.addClass("mbsc-btn-icon-only")),n._$rippleElm=a,n}return le(t,e),t}(hn),bn=function(e){function t(e){ie(this,t);var s=ce(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return s._$parent.prepend(s._$elm).addClass("mbsc-checkbox mbsc-control-w").find(".mbsc-checkbox-box").remove(),s._$elm.after('<span class="mbsc-checkbox-box"></span>'),s}return le(t,e),t}(hn),vn=function(e){function t(e){ie(this,t);var s=ce(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return s._$parent.addClass("mbsc-radio mbsc-control-w").find(".mbsc-radio-box").remove(),s._$elm.after('<span class="mbsc-radio-box"><span></span></span>'),s}return le(t,e),t}(hn),gn=function(e){function t(e){ie(this,t);var s=ce(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=s._$elm,a=s._$parent,i=a.find("input.mbsc-control"),r=i.length?i:Le('<input tabindex="-1" class="mbsc-control" readonly>');return s._$input=r,a.addClass("mbsc-select"+(s._$frame?" mbsc-select-inline":"")),n.after(r),r.after('<span class="mbsc-select-ic mbsc-ic mbsc-ic-arrow-down5"></span>'),r.hasClass("mbsc-comp")||(e.addEventListener("change",s),s._setText()),s}return le(t,e),re(t,[{key:"destroy",value:function(){oe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this._$elm.after(this._$input),this._elm.removeEventListener("change",this)}},{key:"handleEvent",value:function(e){oe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"handleEvent",this).call(this,e),"change"==e.type&&this._setText()}},{key:"_setText",value:function(){var e=this._elm;this._$input.val(e.selectedIndex!=-1?e.options[e.selectedIndex].text:"")}}]),t}(fn),yn=["keydown","input","scroll"],xn=void 0;we&&Le(window).on("resize orientationchange",Z);var wn=function(e){function t(e){ie(this,t);var s=ce(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return s._$parent.addClass("mbsc-textarea"),yn.forEach(function(e){s._elm.addEventListener(e,s)}),J(e),s}return le(t,e),re(t,[{key:"destroy",value:function(){var e=this;oe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),yn.forEach(function(t){e._elm.removeEventListener(t,e)})}},{key:"handleEvent",value:function(e){switch(oe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"handleEvent",this).call(this,e),e.type){case"keydown":case"input":this._onInput(e);break;case"scroll":Q(this._elm)}}},{key:"_onInput",value:function(){var e=this;clearTimeout(this._debounce),this._debounce=setTimeout(function(){J(e._elm)},100)}}]),t}(fn),_n=function(e){function t(e,s){ie(this,t);var n=ce(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,s)),a=void 0,i=void 0,r=n._$elm,o=n._$parent;return o.hasClass("mbsc-segmented-item-ready")||(a=Le('<div class="mbsc-segmented"></div>'),o.after(a),o.parent().find('input[name="'+r.attr("name")+'"]').each(function(){var e=Le(this);i=e.parent().addClass("mbsc-segmented-item mbsc-segmented-item-ready"),Le('<span class="mbsc-segmented-content">'+(e.attr("data-icon")?'<span class="mbsc-ic mbsc-ic-'+e.attr("data-icon")+'"></span>':"")+"</span>").append(i.contents()).appendTo(i),i.prepend(e),a.append(i)})),n._$rippleElm=r.next(),n}return le(t,e),t}(hn),Cn=ne.util,Tn=Cn.getCoord,Mn=Cn.testTouch,Dn=function(e,t){function s(t){32==t.keyCode&&(t.preventDefault(),b||e.disabled||(m=Le(this).addClass("mbsc-active"),c(t)))}function n(e){b&&(e.preventDefault(),d(!0))}function a(t){Mn(t,this)&&!e.disabled&&(m=Le(this).addClass("mbsc-active").trigger("focus"),D&&!m.hasClass("mbsc-step-disabled")&&D.addRipple(m.find(".mbsc-segmented-content"),t),c(t),"mousedown"===t.type&&Le(document).on("mousemove",r).on("mouseup",i))}function i(e){b&&(e.preventDefault(),d(!0,e),"mouseup"===e.type&&Le(document).off("mousemove",r).off("mouseup",i))}function r(e){b&&(w=Tn(e,"X"),_=Tn(e,"Y"),g=w-V,y=_-A,(Math.abs(g)>7||Math.abs(y)>7)&&d())}function o(){var t;e.disabled||(t=parseFloat(Le(this).val()),l(isNaN(t)?I:t))}function l(e,t,s){H=I,void 0===t&&(t=!0),void 0===s&&(s=t),I=void 0!==e?Math.min(T,Math.max(Math.round(e/k)*k,M)):Math.min(T,Math.max(I+(m.hasClass("mbsc-stepper-minus")?-k:k),M)),v=!0,p.removeClass("mbsc-step-disabled"),t&&N.val(I),I==M?f.addClass("mbsc-step-disabled"):I==T&&h.addClass("mbsc-step-disabled"),I!==H&&s&&N.trigger("change")}function c(e){b||(b=!0,v=!1,V=Tn(e,"X"),A=Tn(e,"Y"),clearInterval(C),clearTimeout(C),C=setTimeout(function(){l(),C=setInterval(function(){l()},150)},300))}function d(e){clearInterval(C),clearTimeout(C),!v&&e&&l(),b=!1,v=!1,m.removeClass("mbsc-active"),D&&setTimeout(function(){D.removeRipple()},100)}function u(e,t){var s=N.attr(e);return void 0===s||""===s?t:+s}var m,h,f,p,b,v,g,y,x,w,_,C,T,M,D,k,S,V,A,O,I,L,$,E=this,N=Le(e),H=I;ne.classes.Base.call(this,e,t,!0),E.getVal=function(){var e=parseFloat(N.val());return e=isNaN(e)?I:e,Math.min(T,Math.max(Math.round(e/k)*k,M))},E.setVal=function(e,t,s){e=parseFloat(e),l(isNaN(e)?I:e,t,s)},E._init=function(t){L=N.parent().hasClass("mbsc-stepper"),$=L?N.closest(".mbsc-stepper-cont"):N.parent(),S=E.settings,M=void 0===t.min?u("min",S.min):t.min,T=void 0===t.max?u("max",S.max):t.max,k=void 0===t.step?u("step",S.step):t.step,x=N.attr("data-val")||S.val,I=Math.min(T,Math.max(Math.round(+e.value/k)*k||0,M)),O=ne.themes.form[S.theme],D=O&&O.addRipple?O:null,L||$.addClass("mbsc-stepper-cont mbsc-control-w").append('<span class="mbsc-segmented mbsc-stepper"></span>').find(".mbsc-stepper").append('<span class="mbsc-segmented-item mbsc-stepper-control mbsc-stepper-minus '+(I==M?"mbsc-step-disabled":"")+'"  tabindex="0"><span class="mbsc-segmented-content"><span class="mbsc-ic mbsc-ic-minus"></span></span></span>').append('<span class="mbsc-segmented-item mbsc-stepper-control mbsc-stepper-plus '+(I==T?"mbsc-step-disabled":"")+'"  tabindex="0"><span class="mbsc-segmented-content"> <span class="mbsc-ic mbsc-ic-plus"></span> </span></span>').prepend(N),f=Le(".mbsc-stepper-minus",$),h=Le(".mbsc-stepper-plus",$),L||("left"==x?($.addClass("mbsc-stepper-val-left"),N.after('<span class="mbsc-segmented-item"><span class="mbsc-segmented-content"></span></span>')):"right"==x?($.addClass("mbsc-stepper-val-right"),h.after('<span class="mbsc-segmented-item"><span class="mbsc-segmented-content"></span></span>')):f.after('<span class="mbsc-segmented-item"><span class="mbsc-segmented-content mbsc-stepper-val"></span></span>')),N.val(I).attr("data-role","stepper").attr("min",M).attr("max",T).attr("step",k).on("change",o),p=Le(".mbsc-stepper-control",$).on("keydown",s).on("keyup",n).on("mousedown touchstart",a).on("touchmove",r).on("touchend touchcancel",i),N.addClass("mbsc-stepper-ready mbsc-control")},E._destroy=function(){N.removeClass("mbsc-control").off("change",o),p.off("keydown",s).off("keyup",n).off("mousedown touchstart",a).off("touchmove",r).off("touchend touchcancel",i)},E.init(t)};Dn.prototype={_class:"stepper",_hasDef:!0,_defaults:{min:0,max:100,step:1}},ne.classes.Stepper=Dn,ne.presetShort("stepper","Stepper");var kn=function(e,t){var s,n,a,i,r=this;t=t||{},Ne(t,{changeEvent:"click",round:!1}),os.call(this,e,t,!0),r._readValue=function(){return e.checked?1:0},r._fillValue=function(e,t,n){s.prop("checked",!!e),n&&s.trigger("change")},r._onTap=function(e){r._setVal(e?0:1)},r.___init=function(){a=r.settings,s=Le(e),n=s.parent(),n.find(".mbsc-switch-track").remove(),n.prepend(s),s.attr("data-role","switch").after('<span class="mbsc-progress-cont mbsc-switch-track"><span class="mbsc-progress-track mbsc-progress-anim"><span class="mbsc-slider-handle-cont"><span class="mbsc-slider-handle mbsc-switch-handle" data-index="0"><span class="mbsc-switch-txt-off">'+a.offText+'</span><span class="mbsc-switch-txt-on">'+a.onText+"</span></span></span></span></span>"),i=new hn(e),r._$track=n.find(".mbsc-progress-track"),r._min=0,r._max=1,r._step=1},r.___destroy=function(){i.destroy()},r.getVal=function(){return e.checked},r.setVal=function(e,t,s){r._setVal(e?1:0,t,s)},r.init(t)};kn.prototype={_class:"switch",_css:"mbsc-switch",_hasTheme:!0,_hasLang:!0,_hasDef:!0,_defaults:{stopProp:!0,offText:"Off",onText:"On"}},ne.classes.Switch=kn,ne.presetShort("switch","Switch");var Sn=0,Vn=ne.classes,An=ne.instances,On=function(e,t){function s(){r.removeClass("mbsc-no-touch")}var n,a,i="",r=Le(e),o={},l=this;Vn.Base.call(this,e,t,!0),l.refresh=function(e){Le("input,select,textarea,progress,button",r).each(function(){var e=this,t=Le(e),s=K(t);if("false"!=t.attr("data-enhance"))if(t.hasClass("mbsc-control"))o[e.id]&&o[e.id].option({theme:n.theme,lang:n.lang,rtl:n.rtl,onText:n.onText,offText:n.offText,stopProp:n.stopProp});else switch(e.id||(e.id="mbsc-form-control-"+ ++Sn),s){case"button":case"submit":o[e.id]=new pn(e,{theme:n.theme,tap:n.tap});break;case"switch":o[e.id]=new kn(e,{theme:n.theme,lang:n.lang,rtl:n.rtl,onText:n.onText,offText:n.offText,stopProp:n.stopProp});break;case"checkbox":o[e.id]=new bn(e,{tap:n.tap});break;case"range":Le(e).parent().hasClass("mbsc-slider")||(o[e.id]=new ls(e,{theme:n.theme,lang:n.lang,rtl:n.rtl,stopProp:n.stopProp}));break;case"progress":o[e.id]=new ss(e,{theme:n.theme,lang:n.lang,rtl:n.rtl});break;case"radio":o[e.id]=new vn(e,{tap:n.tap});break;case"select":case"select-one":case"select-multiple":o[e.id]=new gn(e,{tap:n.tap});break;case"textarea":o[e.id]=new wn(e,{tap:n.tap});break;case"segmented":o[e.id]=new _n(e,{theme:n.theme,tap:n.tap});break;case"stepper":o[e.id]=new Dn(e,{theme:n.theme});break;case"hidden":return;default:o[e.id]=new fn(e,{
tap:n.tap})}}),e||Z()},l._init=function(){ne.themes.form[n.theme]||(n.theme="mobiscroll"),r.hasClass("mbsc-form")||r.on("touchstart",s).show(),i&&r.removeClass(i),i="mbsc-form mbsc-no-touch mbsc-"+n.theme+(n.baseTheme?" mbsc-"+n.baseTheme:"")+(n.rtl?" mbsc-rtl":" mbsc-ltr"),r.addClass(i),l.refresh()},l._destroy=function(){r.removeClass(i).off("touchstart",s);for(var e in o)o[e].destroy()},n=l.settings,a=l.trigger,l.init(t)};On.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_class:"form",_defaults:{tap:!0,stopProp:!0,lang:"en"}},ne.themes.form.mobiscroll={},ne.classes.Form=On,ne.presetShort("form","Form"),we&&Le(function(){var e="[mbsc-enhance],[mbsc-form]";Le(e).each(function(){new On(this)}),Le(document).on("mbsc-enhance",function(t,s){Le(t.target).is(e)?new On(t.target,s):Le(e,t.target).each(function(){new On(this,s)})}),Le(document).on("mbsc-refresh",function(t){var s;Le(t.target).is(e)?(s=An[t.target.id],s&&s.refresh()):Le(e,t.target).each(function(){s=An[this.id],s&&s.refresh()})})});var In=+new Date;e.module("mobiscroll-form",[]).directive("mobiscrollForm",["$parse",function(e){return{restrict:"A",compile:function(){return{pre:function(e,t,s){var n=ne.ng.getOpt(e,s,"mobiscrollForm",!0),a=s.id;a||(a="mbsc-form-"+In++,t.attr("id",a)),t.attr("mbsc-form-opt",""),ne.ng.formOptions[a]={theme:n.theme,lang:n.lang}},post:function(t,s,n){var a=new ne.classes.Form(s[0],ne.ng.getOpt(t,n,"mobiscrollForm",!0));n.mobiscrollInstance&&e(n.mobiscrollInstance).assign(t,a),t.$on("mbscFormRefresh",function(){a.refresh()}),t.$on("$destroy",function(){a.destroy(),a=null})}}}}}]).directive("mobiscrollSwitch",["$parse",function(e){return ne.ng.getDDO(e,"mobiscrollSwitch",{component:"Switch"},void 0,void 0,void 0,void 0,!0)}]).directive("mobiscrollStepper",["$parse",function(e){return ne.ng.getDDO(e,"mobiscrollStepper",{component:"Stepper"})}]),e.module("mobiscroll-progress",[]).directive("mobiscrollProgress",["$parse",function(e){return ne.ng.getDDO(e,"mobiscrollProgress",{component:"Progress"},void 0,void 0,void 0,void 0,!0)}]),e.module("mobiscroll-slider",[]).directive("mobiscrollSlider",["$parse",function(e){return ne.ng.getDDO(e,"mobiscrollSlider",{component:"Slider"},void 0,void 0,void 0,void 0,!0)}]);var Ln=ne.util,$n=Ln.datetime,En=$n.adjustedDate,Nn=ne.presets.scroller,Hn={labelsShort:["Yrs","Mths","Days","Hrs","Mins","Secs"],eventText:"event",eventsText:"events"};ne.presetShort("eventcalendar"),Nn.eventcalendar=function(e){function t(e){if(e){if(w[e])return w[e];var t=Le('<div style="background-color:'+e+';"></div>').appendTo("body"),s=window.getComputedStyle?getComputedStyle(t[0]):t[0].style,n=s.backgroundColor.replace(/rgb|rgba|\(|\)|\s/g,"").split(","),a=.299*n[0]+.587*n[1]+.114*n[2],i=a>130?"#000":"#fff";return t.remove(),w[e]=i,i}}function s(e){var t=C.labelsShort,s=Math.abs(e)/1e3,n=s/60,a=n/60,i=a/24,r=i/365;return s<45&&Math.round(s)+" "+t[5].toLowerCase()||n<45&&Math.round(n)+" "+t[4].toLowerCase()||a<24&&Math.round(a)+" "+t[3].toLowerCase()||i<30&&Math.round(i)+" "+t[2].toLowerCase()||i<365&&Math.round(i/30)+" "+t[1].toLowerCase()||Math.round(r)+" "+t[0].toLowerCase()}function n(e){return e.sort(function(e,t){var s=e.d||e.start,n=t.d||t.start,a=s.getTime?e.start&&e.end&&e.start.toDateString()!==e.end.toDateString()?1:s.getTime():0,i=n.getTime?t.start&&t.end&&t.start.toDateString()!==t.end.toDateString()?1:n.getTime():0;return a-i})}function a(e){var t,s=Le(".mbsc-cal-c",d)[0].offsetHeight,n=e[0].offsetHeight,a=e[0].offsetWidth,i=e.offset().top-Le(".mbsc-cal-c",d).offset().top,r=e.closest(".mbsc-cal-row").index()<2;t=u.addClass("mbsc-cal-events-t").css({top:r?i+n:"0",bottom:r?"0":s-i}).addClass("mbsc-cal-events-v").height(),u.css(r?"bottom":"top","auto").removeClass("mbsc-cal-events-t"),p.css("max-height",t),f.refresh(),f.scroll(0),r?u.addClass("mbsc-cal-events-b"):u.removeClass("mbsc-cal-events-b"),Le(".mbsc-cal-events-arr",u).css("left",e.offset().left-u.offset().left+a/2)}function i(i,r){var o=h[i];if(o){var l,c,d,p,y,x,w='<ul class="mbsc-cal-event-list">';g=0,m=r,r.addClass(T).find(".mbsc-cal-day-i").addClass(D),r.hasClass(M)&&r.attr("data-hl","true").removeClass(M),n(o),Le.each(o,function(e,n){p=n.d||n.start,y=n.start&&n.end&&n.start.toDateString()!==n.end.toDateString(),d=n.color,x=t(d),l="",c="",p.getTime&&(l=$n.formatDate((y?"MM d yy ":"")+C.timeFormat,p)),n.end&&(c=$n.formatDate((y?"MM d yy ":"")+C.timeFormat,n.end)),w+='<li role="button" aria-label="'+n.text+(l?", "+C.fromText+" "+l:"")+(c?", "+C.toText+" "+c:"")+'" class="mbsc-cal-event"><div class="mbsc-cal-event-color" style="'+(d?"background:"+d+";":"")+'"></div><div class="mbsc-cal-event-text">'+(p.getTime&&!y?'<div class="mbsc-cal-event-time">'+$n.formatDate(C.timeFormat,p)+"</div>":"")+n.text+"</div>"+(n.start&&n.end?'<div class="mbsc-cal-event-dur">'+s(n.end-n.start)+"</div>":"")+"</li>"}),w+="</ul>",b.html(w),e.trigger("onEventBubbleShow",{target:m[0],eventList:u[0]}),a(m),e.tap(Le(".mbsc-cal-event",b),function(t){f.scrolled||e.trigger("onEventSelect",{domEvent:t,event:o[Le(this).index()],date:i})}),v=!0}}function r(){u&&u.removeClass("mbsc-cal-events-v"),m&&(m.removeClass(T).find(".mbsc-cal-day-i").removeClass(D),m.attr("data-hl")&&m.removeAttr("data-hl").addClass(M)),v=!1}function o(){r(),e.redraw()}function l(e){return En(e.getFullYear(),e.getMonth(),e.getDate())}var c,d,u,m,h,f,p,b,v,g,y,x,w={},_=Ne({},e.settings),C=Ne(e.settings,Hn,_),T="mbsc-cal-day-sel mbsc-cal-day-ev",M="mbsc-cal-day-hl",D=C.activeClass||"",k=C.showEventCount,S=0,V=Ne(!0,[],C.data);return y=Nn.calbase.call(this,e),c=Ne({},y),Le.each(V,function(e,t){void 0===t._id&&(t._id=S++)}),e.onGenMonth=function(t,s){h=e.prepareObj(V,t,s)},e.getDayProps=function(e){var s,n=!!h[e]&&h[e],a=n?h[e].length+" "+(h[e].length>1?C.eventsText:C.eventText):0,i=n&&n[0]&&n[0].color,r=k&&a?t(i):"",o="",l="";if(n){for(s=0;s<n.length;s++)n[s].icon&&(o+='<span class="mbsc-ic mbsc-ic-'+n[s].icon+'"'+(n[s].text?"":n[s].color?' style="color:'+n[s].color+';"':"")+"></span>\n");for(l='<div class="mbsc-cal-day-m"><div class="mbsc-cal-day-m-t">',s=0;s<n.length;s++)l+='<div class="mbsc-cal-day-m-c"'+(n[s].color?' style="background:'+n[s].color+';"':"")+"></div>";l+="</div></div>"}return{marked:n,selected:!1,cssClass:n?"mbsc-cal-day-marked":"",ariaLabel:k?a:"",markup:k&&a?'<div class="mbsc-cal-day-txt-c"><div class="mbsc-cal-day-txt" title="'+Le("<div>"+a+"</div>").text()+'"'+(i?' style="background:'+i+";color:"+r+';text-shadow:none;"':"")+">"+o+a+"</div></div>":k&&o?'<div class="mbsc-cal-day-ic-c">'+o+"</div>":n?l:""}},e.addEvent=function(e){var t=[];return e=Ne(!0,[],Le.isArray(e)?e:[e]),Le.each(e,function(e,s){void 0===s._id&&(s._id=S++),V.push(s),t.push(s._id)}),o(),t},e.removeEvent=function(e){e=Le.isArray(e)?e:[e],Le.each(e,function(e,t){Le.each(V,function(e,s){if(s._id===t)return V.splice(e,1),!1})}),o()},e.getEvents=function(t){var s;return t?(t.setHours(0,0,0,0),s=e.prepareObj(V,t.getFullYear(),t.getMonth()),s[t]?n(s[t]):[]):Ne(!0,[],V)},e.setEvents=function(e){var t=[];return V=Ne(!0,[],e),Le.each(V,function(e,s){void 0===s._id&&(s._id=S++),t.push(s._id)}),o(),t},Ne(y,{highlight:!1,outerMonthChange:!1,headerText:!1,buttons:"inline"!==C.display?["close"]:C.buttons,onMarkupReady:function(t){c.onMarkupReady.call(this,t),d=Le(t.target),k&&Le(".mbsc-cal",d).addClass("mbsc-cal-ev"),d.addClass("mbsc-cal-em"),u=Le('<div class="mbsc-cal-events '+(C.eventBubbleClass||"")+'"><div class="mbsc-cal-events-arr"></div><div class="mbsc-cal-events-i"><div class="mbsc-cal-events-sc"></div></div></div>').appendTo(Le(".mbsc-cal-c",d)),p=Le(".mbsc-cal-events-i",u),b=Le(".mbsc-cal-events-sc",u),f=new ne.classes.ScrollView(p[0]),v=!1,e.tap(p,function(){f.scrolled||r()})},onMonthChange:function(){r()},onSelectShow:function(){r()},onMonthLoaded:function(){x&&(i(x.d,Le('.mbsc-cal-day-v[data-full="'+x.full+'"]:not(.mbsc-cal-day-diff)',d)),x=!1)},onDayChange:function(t){var s=t.date,n=l(s),a=Le(t.target);return r(),a.hasClass("mbsc-cal-day-ev")||setTimeout(function(){e.changing?x={d:n,full:a.attr("data-full")}:i(n,a)},10),!1},onCalResize:function(){v&&a(m)},onHide:function(){c.onHide.call(e),f&&f.destroy()}}),y},e.module("mobiscroll-eventcalendar",[]).directive("mobiscrollEventcalendar",["$parse",function(t){return{restrict:"A",link:function(s,n,a){var i=new ne.classes.Scroller(n[0],e.extend({},s.$eval(a.mobiscrollEventcalendar||"{}"),{preset:"eventcalendar",data:[]}));a.mobiscrollInstance&&t(a.mobiscrollInstance).assign(s,i),s.$watch(function(){return t(a.mobiscrollData)(s)},function(t){void 0===t||e.equals(i.getEvents(),t)||i.setEvents(t)},!0),s.$on("$destroy",function(){i.destroy()})}}}]);var Yn=ne.presets.scroller,Pn={min:0,max:100,defaultUnit:"km",units:["m","km","in","ft","yd","mi"]},Fn={mm:.001,cm:.01,dm:.1,m:1,dam:10,hm:100,km:1e3,in:.0254,ft:.3048,yd:.9144,ch:20.1168,fur:201.168,mi:1609.344,lea:4828.032};ne.presetShort("distance"),Yn.distance=function(e){var t=Ne({},Pn,e.settings);return Ne(e.settings,t,{sign:!1,convert:function(e,t,s){return e*Fn[t]/Fn[s]}}),Yn.measurement.call(this,e)};var Wn=ne.presets.scroller,Rn={min:0,max:100,defaultUnit:"N",units:["N","kp","lbf","pdl"]},jn={N:1,kp:9.80665,lbf:4.448222,pdl:.138255};ne.presetShort("force"),Wn.force=function(e){var t=Ne({},Rn,e.settings);return Ne(e.settings,t,{sign:!1,convert:function(e,t,s){return e*jn[t]/jn[s]}}),Wn.measurement.call(this,e)};var qn=ne.presets.scroller,Bn={min:0,max:1e3,defaultUnit:"kg",units:["g","kg","oz","lb"],unitNames:{tlong:"t (long)",tshort:"t (short)"}},Xn={mg:.001,cg:.01,dg:.1,g:1,dag:10,hg:100,kg:1e3,t:1e6,drc:1.7718452,oz:28.3495,lb:453.59237,st:6350.29318,qtr:12700.58636,cwt:50802.34544,tlong:1016046.9088,tshort:907184.74};ne.presetShort("mass"),qn.mass=function(e){var t=Ne({},Bn,e.settings);return Ne(e.settings,t,{sign:!1,convert:function(e,t,s){return e*Xn[t]/Xn[s]}}),qn.measurement.call(this,e)};var Un=ne.presets.scroller,zn={min:0,max:100,defaultUnit:"kph",units:["kph","mph","mps","fps","knot"],unitNames:{kph:"km/h",mph:"mi/h",mps:"m/s",fps:"ft/s",knot:"knot"}},Kn={kph:1,mph:1.60934,mps:3.6,fps:1.09728,knot:1.852};ne.presetShort("speed"),Un.speed=function(e){var t=Ne({},zn,e.settings);return Ne(e.settings,t,{sign:!1,convert:function(e,t,s){return e*Kn[t]/Kn[s]}}),Un.measurement.call(this,e)};var Gn=ne.presets.scroller,Zn={min:-20,max:40,defaultUnit:"c",units:["c","k","f","r"],unitNames:{c:"C",k:"K",f:"F",r:"R"}},Jn={c2k:function(e){return e+273.15},c2f:function(e){return 9*e/5+32},c2r:function(e){return 9*(e+273.15)/5},k2c:function(e){return e-273.15},k2f:function(e){return 9*e/5-459.67},k2r:function(e){return 9*e/5},f2c:function(e){return 5*(e-32)/9},f2k:function(e){return 5*(e+459.67)/9},f2r:function(e){return e+459.67},r2c:function(e){return 5*(e-491.67)/9},r2k:function(e){return 5*e/9},r2f:function(e){return e-459.67}};ne.presetShort("temperature"),Gn.temperature=function(e){var t=Ne({},Zn,e.settings);return Ne(e.settings,t,{sign:!0,convert:function(e,t,s){return Jn[t+"2"+s](e)}}),Gn.measurement.call(this,e)},e.module("mobiscroll-measurement",[]).directive("mobiscrollMeasurement",["$parse",function(e){return ne.ng.getDDO(e,"mobiscrollMeasurement",{preset:"measurement"})}]).directive("mobiscrollTemperature",["$parse",function(e){return ne.ng.getDDO(e,"mobiscrollTemperature",{preset:"temperature"})}]).directive("mobiscrollSpeed",["$parse",function(e){return ne.ng.getDDO(e,"mobiscrollSpeed",{preset:"speed"})}]).directive("mobiscrollMass",["$parse",function(e){return ne.ng.getDDO(e,"mobiscrollMass",{preset:"mass"})}]).directive("mobiscrollForce",["$parse",function(e){return ne.ng.getDDO(e,"mobiscrollForce",{preset:"force"})}]).directive("mobiscrollDistance",["$parse",function(e){return ne.ng.getDDO(e,"mobiscrollDistance",{preset:"distance"})}]);var Qn=ne.themes;Qn.frame["android-holo"]={},Qn.scroller["android-holo"]=Ne({},Qn.frame["android-holo"],{dateDisplay:"Mddyy",rows:5,minWidth:76,height:36,showLabel:!1,selectedLineHeight:!0,selectedLineBorder:2,useShortLabels:!0,icon:{filled:"star3",empty:"star"},btnPlusClass:"mbsc-ic mbsc-ic-arrow-down6",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up6"}),Qn.form["android-holo"]={};var ea=ne.themes;ea.frame.ios={display:"bottom",headerText:!1,btnWidth:!1,deleteIcon:"ios-backspace",scroll3d:!0},ea.scroller.ios=Ne({},ea.frame.ios,{rows:5,height:34,minWidth:55,selectedLineHeight:!0,selectedLineBorder:1,showLabel:!1,useShortLabels:!0,btnPlusClass:"mbsc-ic mbsc-ic-arrow-down5",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up5",checkIcon:"ion-ios7-checkmark-empty",filterClearIcon:"ion-close-circled",dateDisplay:"MMdyy",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left5",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right5"}),ea.listview.ios={leftArrowClass:"mbsc-ic-ion-ios7-arrow-back",rightArrowClass:"mbsc-ic-ion-ios7-arrow-forward"},ea.form.ios={},ne.customTheme("android-holo-light","android-holo"),ne.customTheme("mobiscroll-dark","mobiscroll");var ta,sa,na=ne.themes,aa=ne.util,ia=aa.testTouch,ra=aa.getCoord;na.frame.material={headerText:!1,btnWidth:!1,deleteIcon:"material-backspace",onMarkupReady:function(e){se(Le(e.target),".mbsc-fr-btn-e","mbsc-fr-btn-d","mbsc-fr-btn-nhl")}},na.scroller.material=Ne({},na.frame.material,{showLabel:!1,selectedLineBorder:2,weekDays:"min",icon:{filled:"material-star",empty:"material-star-outline"},checkIcon:"material-check",btnPlusClass:"mbsc-ic mbsc-ic-material-keyboard-arrow-down",btnMinusClass:"mbsc-ic mbsc-ic-material-keyboard-arrow-up",btnCalPrevClass:"mbsc-ic mbsc-ic-material-keyboard-arrow-left",btnCalNextClass:"mbsc-ic mbsc-ic-material-keyboard-arrow-right",onEventBubbleShow:function(e){var t=Le(e.eventList),s=Le(e.target).closest(".mbsc-cal-row").index()<2,n=Le(".mbsc-cal-event-color",t).eq(s?0:-1).css("background-color");Le(".mbsc-cal-events-arr",t).css("border-color",s?"transparent transparent "+n+" transparent":n+"transparent transparent transparent")}}),na.listview.material={leftArrowClass:"mbsc-ic-material-keyboard-arrow-left",rightArrowClass:"mbsc-ic-material-keyboard-arrow-right",onItemActivate:function(e){ee(Le(e.target),e.domEvent)},onItemDeactivate:function(){te(sa)},onSlideStart:function(e){Le(".mbsc-ripple",e.target).remove()},onSortStart:function(e){Le(".mbsc-ripple",e.target).remove()}},na.menustrip.material={onInit:function(){se(Le(this),".mbsc-ms-item.mbsc-btn-e","mbsc-btn-d","mbsc-btn-nhl")},onMarkupInit:function(){Le(".mbsc-ripple",this).remove()},onDestroy:function(){Le(this).off(".mbsc-ripple")}},na.form.material={addRipple:function(e,t){ee(e,t)},removeRipple:function(){te(sa)}},ne.customTheme("material-dark","material"),ne.customTheme("ios-dark","ios");var oa=ne.themes,la=void 0;return"android"==be?la=ge>=5?"material":"android-holo":"ios"==be?la="ios":"wp"==be&&(la="wp"),ne.setAutoTheme=function(){Le.each(oa.frame,function(e,t){return la&&t.baseTheme==la&&"android-holo-light"!=e&&"material-dark"!=e&&"wp-light"!=e&&"ios-dark"!=e?(ne.autoTheme=e,!1):void(e==la&&(ne.autoTheme=e))})},ne.setAutoTheme(),ne.uid="0baa66e3",ne});
